(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Uw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xp={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function r2(){if(_E)return Su;_E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Su.Fragment=t,Su.jsx=n,Su.jsxs=n,Su}var TE;function s2(){return TE||(TE=1,xp.exports=r2()),xp.exports}var j=s2(),Ip={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function a2(){if(EE)return wt;EE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,V={};function B(U,nt,ut){this.props=U,this.context=nt,this.refs=V,this.updater=ut||I}B.prototype.isReactComponent={},B.prototype.setState=function(U,nt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,nt,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function X(){}X.prototype=B.prototype;function H(U,nt,ut){this.props=U,this.context=nt,this.refs=V,this.updater=ut||I}var at=H.prototype=new X;at.constructor=H,N(at,B.prototype),at.isPureReactComponent=!0;var st=Array.isArray;function lt(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(U,nt,ut){var ft=ut.ref;return{$$typeof:e,type:U,key:nt,ref:ft!==void 0?ft:null,props:ut}}function O(U,nt){return x(U.type,nt,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function F(U){var nt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ut){return nt[ut]})}var D=/\/+/g;function ee(U,nt){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):nt.toString(36)}function me(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(lt,lt):(U.status="pending",U.then(function(nt){U.status==="pending"&&(U.status="fulfilled",U.value=nt)},function(nt){U.status==="pending"&&(U.status="rejected",U.reason=nt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,nt,ut,ft,St){var It=typeof U;(It==="undefined"||It==="boolean")&&(U=null);var Bt=!1;if(U===null)Bt=!0;else switch(It){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(U.$$typeof){case e:case t:Bt=!0;break;case y:return Bt=U._init,Z(Bt(U._payload),nt,ut,ft,St)}}if(Bt)return St=St(U),Bt=ft===""?"."+ee(U,0):ft,st(St)?(ut="",Bt!=null&&(ut=Bt.replace(D,"$&/")+"/"),Z(St,nt,ut,"",function(ks){return ks})):St!=null&&(P(St)&&(St=O(St,ut+(St.key==null||U&&U.key===St.key?"":(""+St.key).replace(D,"$&/")+"/")+Bt)),nt.push(St)),1;Bt=0;var Le=ft===""?".":ft+":";if(st(U))for(var oe=0;oe<U.length;oe++)ft=U[oe],It=Le+ee(ft,oe),Bt+=Z(ft,nt,ut,It,St);else if(oe=w(U),typeof oe=="function")for(U=oe.call(U),oe=0;!(ft=U.next()).done;)ft=ft.value,It=Le+ee(ft,oe++),Bt+=Z(ft,nt,ut,It,St);else if(It==="object"){if(typeof U.then=="function")return Z(me(U),nt,ut,ft,St);throw nt=String(U),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function rt(U,nt,ut){if(U==null)return U;var ft=[],St=0;return Z(U,ft,"","",function(It){return nt.call(ut,It,St++)}),ft}function dt(U){if(U._status===-1){var nt=U._result;nt=nt(),nt.then(function(ut){(U._status===0||U._status===-1)&&(U._status=1,U._result=ut)},function(ut){(U._status===0||U._status===-1)&&(U._status=2,U._result=ut)}),U._status===-1&&(U._status=0,U._result=nt)}if(U._status===1)return U._result.default;throw U._result}var xt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Vt={map:rt,forEach:function(U,nt,ut){rt(U,function(){nt.apply(this,arguments)},ut)},count:function(U){var nt=0;return rt(U,function(){nt++}),nt},toArray:function(U){return rt(U,function(nt){return nt})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return wt.Activity=_,wt.Children=Vt,wt.Component=B,wt.Fragment=n,wt.Profiler=a,wt.PureComponent=H,wt.StrictMode=r,wt.Suspense=m,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},wt.cache=function(U){return function(){return U.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(U,nt,ut){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ft=N({},U.props),St=U.key;if(nt!=null)for(It in nt.key!==void 0&&(St=""+nt.key),nt)!R.call(nt,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&nt.ref===void 0||(ft[It]=nt[It]);var It=arguments.length-2;if(It===1)ft.children=ut;else if(1<It){for(var Bt=Array(It),Le=0;Le<It;Le++)Bt[Le]=arguments[Le+2];ft.children=Bt}return x(U.type,St,ft)},wt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},wt.createElement=function(U,nt,ut){var ft,St={},It=null;if(nt!=null)for(ft in nt.key!==void 0&&(It=""+nt.key),nt)R.call(nt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(St[ft]=nt[ft]);var Bt=arguments.length-2;if(Bt===1)St.children=ut;else if(1<Bt){for(var Le=Array(Bt),oe=0;oe<Bt;oe++)Le[oe]=arguments[oe+2];St.children=Le}if(U&&U.defaultProps)for(ft in Bt=U.defaultProps,Bt)St[ft]===void 0&&(St[ft]=Bt[ft]);return x(U,It,St)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(U){return{$$typeof:f,render:U}},wt.isValidElement=P,wt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:dt}},wt.memo=function(U,nt){return{$$typeof:g,type:U,compare:nt===void 0?null:nt}},wt.startTransition=function(U){var nt=C.T,ut={};C.T=ut;try{var ft=U(),St=C.S;St!==null&&St(ut,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(lt,xt)}catch(It){xt(It)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),C.T=nt}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(U){return C.H.use(U)},wt.useActionState=function(U,nt,ut){return C.H.useActionState(U,nt,ut)},wt.useCallback=function(U,nt){return C.H.useCallback(U,nt)},wt.useContext=function(U){return C.H.useContext(U)},wt.useDebugValue=function(){},wt.useDeferredValue=function(U,nt){return C.H.useDeferredValue(U,nt)},wt.useEffect=function(U,nt){return C.H.useEffect(U,nt)},wt.useEffectEvent=function(U){return C.H.useEffectEvent(U)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(U,nt,ut){return C.H.useImperativeHandle(U,nt,ut)},wt.useInsertionEffect=function(U,nt){return C.H.useInsertionEffect(U,nt)},wt.useLayoutEffect=function(U,nt){return C.H.useLayoutEffect(U,nt)},wt.useMemo=function(U,nt){return C.H.useMemo(U,nt)},wt.useOptimistic=function(U,nt){return C.H.useOptimistic(U,nt)},wt.useReducer=function(U,nt,ut){return C.H.useReducer(U,nt,ut)},wt.useRef=function(U){return C.H.useRef(U)},wt.useState=function(U){return C.H.useState(U)},wt.useSyncExternalStore=function(U,nt,ut){return C.H.useSyncExternalStore(U,nt,ut)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.3",wt}var SE;function py(){return SE||(SE=1,Ip.exports=a2()),Ip.exports}var k=py();const o2=Uw(k);var Dp={exports:{}},bu={},Mp={exports:{}},Np={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function l2(){return bE||(bE=1,(function(e){function t(Z,rt){var dt=Z.length;Z.push(rt);t:for(;0<dt;){var xt=dt-1>>>1,Vt=Z[xt];if(0<a(Vt,rt))Z[xt]=rt,Z[dt]=Vt,dt=xt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var rt=Z[0],dt=Z.pop();if(dt!==rt){Z[0]=dt;t:for(var xt=0,Vt=Z.length,U=Vt>>>1;xt<U;){var nt=2*(xt+1)-1,ut=Z[nt],ft=nt+1,St=Z[ft];if(0>a(ut,dt))ft<Vt&&0>a(St,ut)?(Z[xt]=St,Z[ft]=dt,xt=ft):(Z[xt]=ut,Z[nt]=dt,xt=nt);else if(ft<Vt&&0>a(St,dt))Z[xt]=St,Z[ft]=dt,xt=ft;else break t}}return rt}function a(Z,rt){var dt=Z.sortIndex-rt.sortIndex;return dt!==0?dt:Z.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],g=[],y=1,_=null,S=3,w=!1,I=!1,N=!1,V=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function at(Z){for(var rt=n(g);rt!==null;){if(rt.callback===null)r(g);else if(rt.startTime<=Z)r(g),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=n(g)}}function st(Z){if(N=!1,at(Z),!I)if(n(m)!==null)I=!0,lt||(lt=!0,F());else{var rt=n(g);rt!==null&&me(st,rt.startTime-Z)}}var lt=!1,C=-1,R=5,x=-1;function O(){return V?!0:!(e.unstable_now()-x<R)}function P(){if(V=!1,lt){var Z=e.unstable_now();x=Z;var rt=!0;try{t:{I=!1,N&&(N=!1,X(C),C=-1),w=!0;var dt=S;try{e:{for(at(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&O());){var xt=_.callback;if(typeof xt=="function"){_.callback=null,S=_.priorityLevel;var Vt=xt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof Vt=="function"){_.callback=Vt,at(Z),rt=!0;break e}_===n(m)&&r(m),at(Z)}else r(m);_=n(m)}if(_!==null)rt=!0;else{var U=n(g);U!==null&&me(st,U.startTime-Z),rt=!1}}break t}finally{_=null,S=dt,w=!1}rt=void 0}}finally{rt?F():lt=!1}}}var F;if(typeof H=="function")F=function(){H(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ee=D.port2;D.port1.onmessage=P,F=function(){ee.postMessage(null)}}else F=function(){B(P,0)};function me(Z,rt){C=B(function(){Z(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var dt=S;S=rt;try{return Z()}finally{S=dt}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(Z,rt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=S;S=Z;try{return rt()}finally{S=dt}},e.unstable_scheduleCallback=function(Z,rt,dt){var xt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?xt+dt:xt):dt=xt,Z){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=dt+Vt,Z={id:y++,callback:rt,priorityLevel:Z,startTime:dt,expirationTime:Vt,sortIndex:-1},dt>xt?(Z.sortIndex=dt,t(g,Z),n(m)===null&&Z===n(g)&&(N?(X(C),C=-1):N=!0,me(st,dt-xt))):(Z.sortIndex=Vt,t(m,Z),I||w||(I=!0,lt||(lt=!0,F()))),Z},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(Z){var rt=S;return function(){var dt=S;S=rt;try{return Z.apply(this,arguments)}finally{S=dt}}}})(Np)),Np}var wE;function u2(){return wE||(wE=1,Mp.exports=l2()),Mp.exports}var Vp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function c2(){if(AE)return nn;AE=1;var e=py();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},nn.flushSync=function(m){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=y,r.d.f()}},nn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},nn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},nn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:w}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:S,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},nn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},nn.requestFormReset=function(m){r.d.r(m)},nn.unstable_batchedUpdates=function(m,g){return m(g)},nn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var RE;function h2(){if(RE)return Vp.exports;RE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vp.exports=c2(),Vp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function f2(){if(CE)return bu;CE=1;var e=u2(),t=py(),n=h2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),i;if(p===u)return m(d),s;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=p;else{for(var T=!1,b=d.child;b;){if(b===o){T=!0,o=d,u=p;break}if(b===u){T=!0,u=d,o=p;break}b=b.sibling}if(!T){for(b=p.child;b;){if(b===o){T=!0,o=p,u=d;break}if(b===u){T=!0,u=p,o=d;break}b=b.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),H=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case B:return"Profiler";case V:return"StrictMode";case st:return"Suspense";case lt:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case H:return i.displayName||"Context";case X:return(i._context.displayName||"Context")+".Consumer";case at:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:ee(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return ee(i(s))}catch{}}return null}var me=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},xt=[],Vt=-1;function U(i){return{current:i}}function nt(i){0>Vt||(i.current=xt[Vt],xt[Vt]=null,Vt--)}function ut(i,s){Vt++,xt[Vt]=i.current,i.current=s}var ft=U(null),St=U(null),It=U(null),Bt=U(null);function Le(i,s){switch(ut(It,s),ut(St,i),ut(ft,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?FT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=FT(s),i=qT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}nt(ft),ut(ft,i)}function oe(){nt(ft),nt(St),nt(It)}function ks(i){i.memoizedState!==null&&ut(Bt,i);var s=ft.current,o=qT(s,i.type);s!==o&&(ut(St,i),ut(ft,o))}function Ua(i){St.current===i&&(nt(ft),nt(St)),Bt.current===i&&(nt(Bt),vu._currentValue=dt)}var ja,Ba;function Ti(i){if(ja===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ja=s&&s[1]||"",Ba=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+i+Ba}var vl=!1;function Ls(i,s){if(!i||vl)return"";vl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch($){var K=$}Reflect.construct(i,[],tt)}else{try{tt.call()}catch($){K=$}i.call(tt.prototype)}}else{try{throw Error()}catch($){K=$}(tt=i())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],b=p[1];if(T&&b){var M=T.split(`
`),Y=b.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===Y.length)for(u=M.length-1,d=Y.length-1;1<=u&&0<=d&&M[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==Y[d]){var W=`
`+M[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=d);break}}}finally{vl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ti(o):""}function _l(i,s){switch(i.tag){case 26:case 27:case 5:return Ti(i.type);case 16:return Ti("Lazy");case 13:return i.child!==s&&s!==null?Ti("Suspense Fallback"):Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Ls(i.type,!1);case 11:return Ls(i.type.render,!1);case 1:return Ls(i.type,!0);case 31:return Ti("Activity");default:return""}}function Tl(i){try{var s="",o=null;do s+=_l(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,Nr=e.unstable_cancelCallback,Dd=e.unstable_shouldYield,xc=e.unstable_requestPaint,cn=e.unstable_now,Us=e.unstable_getCurrentPriorityLevel,El=e.unstable_ImmediatePriority,Sl=e.unstable_UserBlockingPriority,Vr=e.unstable_NormalPriority,Md=e.unstable_LowPriority,Ic=e.unstable_IdlePriority,Dc=e.log,Mc=e.unstable_setDisableYieldValue,ti=null,Ye=null;function kn(i){if(typeof Dc=="function"&&Mc(i),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ti,i)}catch{}}var ve=Math.clz32?Math.clz32:Vc,Nc=Math.log,za=Math.LN2;function Vc(i){return i>>>=0,i===0?32:31-(Nc(i)/za|0)|0}var Ei=256,js=262144,Ae=4194304;function Si(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bi(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,p=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var b=u&134217727;return b!==0?(u=b&~p,u!==0?d=Si(u):(T&=b,T!==0?d=Si(T):o||(o=b&~i,o!==0&&(d=Si(o))))):(b=u&~p,b!==0?d=Si(b):T!==0?d=Si(T):o||(o=u&~i,o!==0&&(d=Si(o)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:d}function ei(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Nd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function wi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Bs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vd(i,s,o,u,d,p){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,M=i.expirationTimes,Y=i.hiddenUpdates;for(o=T&~o;0<o;){var W=31-ve(o),tt=1<<W;b[W]=0,M[W]=-1;var K=Y[W];if(K!==null)for(Y[W]=null,W=0;W<K.length;W++){var $=K[W];$!==null&&($.lane&=-536870913)}o&=~tt}u!==0&&zs(i,u,0),p!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~s))}function zs(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-ve(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function bl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-ve(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function wl(i,s){var o=s&-s;return o=(o&42)!==0?1:Fs(o),(o&(i.suspendedLanes|s))!==0?0:o}function Fs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function tr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pc(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:fE(i.type))}function ni(i,s){var o=rt.p;try{return rt.p=i,s()}finally{rt.p=o}}var ii=Math.random().toString(36).slice(2),Re="__reactFiber$"+ii,Fe="__reactProps$"+ii,Ai="__reactContainer$"+ii,Fa="__reactEvents$"+ii,Od="__reactListeners$"+ii,kc="__reactHandles$"+ii,Lc="__reactResources$"+ii,Ri="__reactMarker$"+ii;function qa(i){delete i[Re],delete i[Fe],delete i[Fa],delete i[Od],delete i[kc]}function Ci(i){var s=i[Re];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ai]||o[Re]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=$T(i);i!==null;){if(o=i[Re])return o;i=$T(i)}return s}i=o,o=i.parentNode}return null}function Ln(i){if(i=i[Re]||i[Ai]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function wn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function xi(i){var s=i[Lc];return s||(s=i[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ce(i){i[Ri]=!0}var Al=new Set,Rl={};function Ii(i,s){Di(i,s),Di(i+"Capture",s)}function Di(i,s){for(Rl[i]=s,i=0;i<s.length;i++)Al.add(s[i])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Il={};function Uc(i){return we.call(Il,i)?!0:we.call(xl,i)?!1:Cl.test(i)?Il[i]=!0:(xl[i]=!0,!1)}function Ha(i,s,o){if(Uc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function An(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function xe(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Or(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dl(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Kt(i){if(!i._valueTracker){var s=Or(i)?"checked":"value";i._valueTracker=Dl(i,s,""+i[s])}}function qs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Or(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Mi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hs=/[\n"\\]/g;function pn(i){return i.replace(Hs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ga(i,s,o,u,d,p,T,b){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+qe(s)):i.value!==""+qe(s)&&(i.value=""+qe(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?Ml(i,T,qe(s)):o!=null?Ml(i,T,qe(o)):u!=null&&i.removeAttribute("value"),d==null&&p!=null&&(i.defaultChecked=!!p),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+qe(b):i.removeAttribute("name")}function jc(i,s,o,u,d,p,T,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Kt(i);return}o=o!=null?""+qe(o):"",s=s!=null?""+qe(s):o,b||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Kt(i)}function Ml(i,s,o){s==="number"&&Mi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Pr(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Bc(i,s,o){if(s!=null&&(s=""+qe(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+qe(o):""}function kr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(me(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=qe(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Kt(i)}function gn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||zc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Vl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Nl(i,d,u)}else for(var p in s)s.hasOwnProperty(p)&&Nl(i,p,s[p])}function Ya(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(i){return Lr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ri(){}var Ol=null;function Un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ur=null,Ni=null;function Gs(i){var s=Ln(i);if(s&&(i=s.stateNode)){var o=i[Fe]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ga(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Fe]||null;if(!d)throw Error(r(90));Ga(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&qs(u)}break t;case"textarea":Bc(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Pr(i,!!o.multiple,s,!1)}}}var Qa=!1;function jr(i,s,o){if(Qa)return i(s,o);Qa=!0;try{var u=i(s);return u}finally{if(Qa=!1,(Ur!==null||Ni!==null)&&(Ph(),Ur&&(s=Ur,i=Ni,Ni=Ur=null,Gs(s),i)))for(s=0;s<i.length;s++)Gs(i[s])}}function si(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Fe]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(jn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ys=!1}var Vi=null,Pl=null,Ks=null;function kl(){if(Ks)return Ks;var i,s=Pl,o=s.length,u,d="value"in Vi?Vi.value:Vi.textContent,p=d.length;for(i=0;i<o&&s[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===d[p-u];u++);return Ks=d.slice(i,1<u?1-u:void 0)}function Qs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function er(){return!0}function ai(){return!1}function Ke(i){function s(o,u,d,p,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?er:ai,this.isPropagationStopped=ai,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ke(nr),Br=_({},nr,{view:0,detail:0}),Ll=Ke(Br),zr,Xa,Pi,$a=_({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(zr=i.screenX-Pi.screenX,Xa=i.screenY-Pi.screenY):Xa=zr=0,Pi=i),zr)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),Ul=Ke($a),Xs=_({},$a,{dataTransfer:0}),qc=Ke(Xs),Hc=_({},Br,{relatedTarget:0}),$s=Ke(Hc),jl=_({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=Ke(jl),Wa=_({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yc=Ke(Wa),Kc=_({},nr,{data:0}),ki=Ke(Kc),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=$c[i])?!!s[i]:!1}function Fr(){return Wc}var hn=_({},Br,{key:function(i){if(i.key){var s=Qc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Qs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(i){return i.type==="keypress"?Qs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Qs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zc=Ke(hn),Jc=_({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=Ke(Jc),h=_({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),v=Ke(h),E=_({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ke(E),q=_({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ke(q),ot=_({},nr,{newState:0,oldState:0}),Rt=Ke(ot),_e=[9,13,27,32],Ht=jn&&"CompositionEvent"in window,le=null;jn&&"documentMode"in document&&(le=document.documentMode);var Bn=jn&&"TextEvent"in window&&!le,Li=jn&&(!Ht||le&&8<le&&11>=le),oi=" ",li=!1;function Ws(i,s){switch(i){case"keyup":return _e.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ja=!1;function xx(i,s){switch(i){case"compositionend":return Za(s);case"keypress":return s.which!==32?null:(li=!0,oi);case"textInput":return i=s.data,i===oi&&li?null:i;default:return null}}function Ix(i,s){if(Ja)return i==="compositionend"||!Ht&&Ws(i,s)?(i=kl(),Ks=Pl=Vi=null,Ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Li&&s.locale!=="ko"?null:s.data;default:return null}}var Dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Dx[i.type]:s==="textarea"}function t_(i,s,o,u){Ur?Ni?Ni.push(u):Ni=[u]:Ur=u,s=Fh(s,"onChange"),0<s.length&&(o=new Oi("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Bl=null,zl=null;function Mx(i){kT(i,0)}function th(i){var s=wn(i);if(qs(s))return i}function e_(i,s){if(i==="change")return s}var n_=!1;if(jn){var Pd;if(jn){var kd="oninput"in document;if(!kd){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),kd=typeof i_.oninput=="function"}Pd=kd}else Pd=!1;n_=Pd&&(!document.documentMode||9<document.documentMode)}function r_(){Bl&&(Bl.detachEvent("onpropertychange",s_),zl=Bl=null)}function s_(i){if(i.propertyName==="value"&&th(zl)){var s=[];t_(s,zl,i,Un(i)),jr(Mx,s)}}function Nx(i,s,o){i==="focusin"?(r_(),Bl=s,zl=o,Bl.attachEvent("onpropertychange",s_)):i==="focusout"&&r_()}function Vx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return th(zl)}function Ox(i,s){if(i==="click")return th(s)}function Px(i,s){if(i==="input"||i==="change")return th(s)}function kx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Rn=typeof Object.is=="function"?Object.is:kx;function Fl(i,s){if(Rn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!we.call(s,d)||!Rn(i[d],s[d]))return!1}return!0}function a_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function o_(i,s){var o=a_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=a_(o)}}function l_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?l_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function u_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Mi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Mi(i.document)}return s}function Ld(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Lx=jn&&"documentMode"in document&&11>=document.documentMode,to=null,Ud=null,ql=null,jd=!1;function c_(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jd||to==null||to!==Mi(u)||(u=to,"selectionStart"in u&&Ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Fl(ql,u)||(ql=u,u=Fh(Ud,"onSelect"),0<u.length&&(s=new Oi("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=to)))}function Zs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var eo={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Bd={},h_={};jn&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Js(i){if(Bd[i])return Bd[i];if(!eo[i])return i;var s=eo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in h_)return Bd[i]=s[o];return i}var f_=Js("animationend"),d_=Js("animationiteration"),m_=Js("animationstart"),Ux=Js("transitionrun"),jx=Js("transitionstart"),Bx=Js("transitioncancel"),p_=Js("transitionend"),g_=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function ui(i,s){g_.set(i,s),Ii(s,[i])}var eh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},zn=[],no=0,Fd=0;function nh(){for(var i=no,s=Fd=no=0;s<i;){var o=zn[s];zn[s++]=null;var u=zn[s];zn[s++]=null;var d=zn[s];zn[s++]=null;var p=zn[s];if(zn[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}p!==0&&y_(o,d,p)}}function ih(i,s,o,u){zn[no++]=i,zn[no++]=s,zn[no++]=o,zn[no++]=u,Fd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function qd(i,s,o,u){return ih(i,s,o,u),rh(i)}function ta(i,s){return ih(i,null,null,s),rh(i)}function y_(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(d=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,d&&s!==null&&(d=31-ve(o),i=p.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),p):null}function rh(i){if(50<hu)throw hu=0,Zm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var io={};function zx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,s,o,u){return new zx(i,s,o,u)}function Hd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rr(i,s){var o=i.alternate;return o===null?(o=Cn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function v_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function sh(i,s,o,u,d,p){var T=0;if(u=i,typeof i=="function")Hd(i)&&(T=1);else if(typeof i=="string")T=YI(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=Cn(31,o,s,d),i.elementType=x,i.lanes=p,i;case N:return ea(o.children,d,p,s);case V:T=8,d|=24;break;case B:return i=Cn(12,o,s,d|2),i.elementType=B,i.lanes=p,i;case st:return i=Cn(13,o,s,d),i.elementType=st,i.lanes=p,i;case lt:return i=Cn(19,o,s,d),i.elementType=lt,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case H:T=10;break t;case X:T=9;break t;case at:T=11;break t;case C:T=14;break t;case R:T=16,u=null;break t}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Cn(T,o,s,d),s.elementType=i,s.type=u,s.lanes=p,s}function ea(i,s,o,u){return i=Cn(7,i,u,s),i.lanes=o,i}function Gd(i,s,o){return i=Cn(6,i,null,s),i.lanes=o,i}function __(i){var s=Cn(18,null,null,0);return s.stateNode=i,s}function Yd(i,s,o){return s=Cn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var T_=new WeakMap;function Fn(i,s){if(typeof i=="object"&&i!==null){var o=T_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Tl(s)},T_.set(i,s),s)}return{value:i,source:s,stack:Tl(s)}}var ro=[],so=0,ah=null,Hl=0,qn=[],Hn=0,qr=null,Ui=1,ji="";function sr(i,s){ro[so++]=Hl,ro[so++]=ah,ah=i,Hl=s}function E_(i,s,o){qn[Hn++]=Ui,qn[Hn++]=ji,qn[Hn++]=qr,qr=i;var u=Ui;i=ji;var d=32-ve(u)-1;u&=~(1<<d),o+=1;var p=32-ve(s)+d;if(30<p){var T=d-d%5;p=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Ui=1<<32-ve(s)+d|o<<d|u,ji=p+i}else Ui=1<<p|o<<d|u,ji=i}function Kd(i){i.return!==null&&(sr(i,1),E_(i,1,0))}function Qd(i){for(;i===ah;)ah=ro[--so],ro[so]=null,Hl=ro[--so],ro[so]=null;for(;i===qr;)qr=qn[--Hn],qn[Hn]=null,ji=qn[--Hn],qn[Hn]=null,Ui=qn[--Hn],qn[Hn]=null}function S_(i,s){qn[Hn++]=Ui,qn[Hn++]=ji,qn[Hn++]=qr,Ui=s.id,ji=s.overflow,qr=i}var Qe=null,re=null,jt=!1,Hr=null,Gn=!1,Xd=Error(r(519));function Gr(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Fn(s,i)),Xd}function b_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Re]=i,s[Fe]=u,o){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(o=0;o<du.length;o++)Nt(du[o],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),jc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),kr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||BT(s.textContent,o)?(u.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),u.onScroll!=null&&Nt("scroll",s),u.onScrollEnd!=null&&Nt("scrollend",s),u.onClick!=null&&(s.onclick=ri),s=!0):s=!1,s||Gr(i,!0)}function w_(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Qe=Qe.return}}function ao(i){if(i!==Qe)return!1;if(!jt)return w_(i),jt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||dp(i.type,i.memoizedProps)),o=!o),o&&re&&Gr(i),w_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));re=XT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));re=XT(i)}else s===27?(s=re,ss(i.type)?(i=vp,vp=null,re=i):re=s):re=Qe?Kn(i.stateNode.nextSibling):null;return!0}function na(){re=Qe=null,jt=!1}function $d(){var i=Hr;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),Hr=null),i}function Gl(i){Hr===null?Hr=[i]:Hr.push(i)}var Wd=U(null),ia=null,ar=null;function Yr(i,s,o){ut(Wd,s._currentValue),s._currentValue=o}function or(i){i._currentValue=Wd.current,nt(Wd)}function Zd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Jd(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;t:for(;p!==null;){var b=p;p=d;for(var M=0;M<s.length;M++)if(b.context===s[M]){p.lanes|=o,b=p.alternate,b!==null&&(b.lanes|=o),Zd(p.return,o,i),u||(T=null);break t}p=b.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),Zd(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function oo(i,s,o,u){i=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=d.type;Rn(d.pendingProps.value,T.value)||(i!==null?i.push(b):i=[b])}}else if(d===Bt.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}d=d.return}i!==null&&Jd(s,i,o,u),s.flags|=262144}function oh(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ra(i){ia=i,ar=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return A_(ia,i)}function lh(i,s){return ia===null&&ra(i),A_(i,s)}function A_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ar===null){if(i===null)throw Error(r(308));ar=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ar=ar.next=s;return o}var Fx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},qx=e.unstable_scheduleCallback,Hx=e.unstable_NormalPriority,Ie={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new Fx,data:new Map,refCount:0}}function Yl(i){i.refCount--,i.refCount===0&&qx(Hx,function(){i.controller.abort()})}var Kl=null,em=0,lo=0,uo=null;function Gx(i,s){if(Kl===null){var o=Kl=[];em=0,lo=rp(),uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return em++,s.then(R_,R_),s}function R_(){if(--em===0&&Kl!==null){uo!==null&&(uo.status="fulfilled");var i=Kl;Kl=null,lo=0,uo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Yx(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var C_=Z.S;Z.S=function(i,s){cT=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Gx(i,s),C_!==null&&C_(i,s)};var sa=U(null);function nm(){var i=sa.current;return i!==null?i:ne.pooledCache}function uh(i,s){s===null?ut(sa,sa.current):ut(sa,s.pool)}function x_(){var i=nm();return i===null?null:{parent:Ie._currentValue,pool:i}}var co=Error(r(460)),im=Error(r(474)),ch=Error(r(542)),hh={then:function(){}};function I_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function D_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ri,ri),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,N_(i),i;default:if(typeof s.status=="string")s.then(ri,ri);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,N_(i),i}throw oa=s,co}}function aa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(oa=o,co):o}}var oa=null;function M_(){if(oa===null)throw Error(r(459));var i=oa;return oa=null,i}function N_(i){if(i===co||i===ch)throw Error(r(483))}var ho=null,Ql=0;function fh(i){var s=Ql;return Ql+=1,ho===null&&(ho=[]),D_(ho,i,s)}function Xl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function dh(i,s){throw s.$$typeof===S?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function V_(i){function s(z,L){if(i){var G=z.deletions;G===null?(z.deletions=[L],z.flags|=16):G.push(L)}}function o(z,L){if(!i)return null;for(;L!==null;)s(z,L),L=L.sibling;return null}function u(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function d(z,L){return z=rr(z,L),z.index=0,z.sibling=null,z}function p(z,L,G){return z.index=G,i?(G=z.alternate,G!==null?(G=G.index,G<L?(z.flags|=67108866,L):G):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function T(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function b(z,L,G,J){return L===null||L.tag!==6?(L=Gd(G,z.mode,J),L.return=z,L):(L=d(L,G),L.return=z,L)}function M(z,L,G,J){var gt=G.type;return gt===N?W(z,L,G.props.children,J,G.key):L!==null&&(L.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&aa(gt)===L.type)?(L=d(L,G.props),Xl(L,G),L.return=z,L):(L=sh(G.type,G.key,G.props,null,z.mode,J),Xl(L,G),L.return=z,L)}function Y(z,L,G,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Yd(G,z.mode,J),L.return=z,L):(L=d(L,G.children||[]),L.return=z,L)}function W(z,L,G,J,gt){return L===null||L.tag!==7?(L=ea(G,z.mode,J,gt),L.return=z,L):(L=d(L,G),L.return=z,L)}function tt(z,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Gd(""+L,z.mode,G),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return G=sh(L.type,L.key,L.props,null,z.mode,G),Xl(G,L),G.return=z,G;case I:return L=Yd(L,z.mode,G),L.return=z,L;case R:return L=aa(L),tt(z,L,G)}if(me(L)||F(L))return L=ea(L,z.mode,G,null),L.return=z,L;if(typeof L.then=="function")return tt(z,fh(L),G);if(L.$$typeof===H)return tt(z,lh(z,L),G);dh(z,L)}return null}function K(z,L,G,J){var gt=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return gt!==null?null:b(z,L,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===gt?M(z,L,G,J):null;case I:return G.key===gt?Y(z,L,G,J):null;case R:return G=aa(G),K(z,L,G,J)}if(me(G)||F(G))return gt!==null?null:W(z,L,G,J,null);if(typeof G.then=="function")return K(z,L,fh(G),J);if(G.$$typeof===H)return K(z,L,lh(z,G),J);dh(z,G)}return null}function $(z,L,G,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(G)||null,b(L,z,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return z=z.get(J.key===null?G:J.key)||null,M(L,z,J,gt);case I:return z=z.get(J.key===null?G:J.key)||null,Y(L,z,J,gt);case R:return J=aa(J),$(z,L,G,J,gt)}if(me(J)||F(J))return z=z.get(G)||null,W(L,z,J,gt,null);if(typeof J.then=="function")return $(z,L,G,fh(J),gt);if(J.$$typeof===H)return $(z,L,G,lh(L,J),gt);dh(L,J)}return null}function mt(z,L,G,J){for(var gt=null,Ft=null,pt=L,Dt=L=0,Pt=null;pt!==null&&Dt<G.length;Dt++){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var qt=K(z,pt,G[Dt],J);if(qt===null){pt===null&&(pt=Pt);break}i&&pt&&qt.alternate===null&&s(z,pt),L=p(qt,L,Dt),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt,pt=Pt}if(Dt===G.length)return o(z,pt),jt&&sr(z,Dt),gt;if(pt===null){for(;Dt<G.length;Dt++)pt=tt(z,G[Dt],J),pt!==null&&(L=p(pt,L,Dt),Ft===null?gt=pt:Ft.sibling=pt,Ft=pt);return jt&&sr(z,Dt),gt}for(pt=u(pt);Dt<G.length;Dt++)Pt=$(pt,z,Dt,G[Dt],J),Pt!==null&&(i&&Pt.alternate!==null&&pt.delete(Pt.key===null?Dt:Pt.key),L=p(Pt,L,Dt),Ft===null?gt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&pt.forEach(function(cs){return s(z,cs)}),jt&&sr(z,Dt),gt}function vt(z,L,G,J){if(G==null)throw Error(r(151));for(var gt=null,Ft=null,pt=L,Dt=L=0,Pt=null,qt=G.next();pt!==null&&!qt.done;Dt++,qt=G.next()){pt.index>Dt?(Pt=pt,pt=null):Pt=pt.sibling;var cs=K(z,pt,qt.value,J);if(cs===null){pt===null&&(pt=Pt);break}i&&pt&&cs.alternate===null&&s(z,pt),L=p(cs,L,Dt),Ft===null?gt=cs:Ft.sibling=cs,Ft=cs,pt=Pt}if(qt.done)return o(z,pt),jt&&sr(z,Dt),gt;if(pt===null){for(;!qt.done;Dt++,qt=G.next())qt=tt(z,qt.value,J),qt!==null&&(L=p(qt,L,Dt),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt);return jt&&sr(z,Dt),gt}for(pt=u(pt);!qt.done;Dt++,qt=G.next())qt=$(pt,z,Dt,qt.value,J),qt!==null&&(i&&qt.alternate!==null&&pt.delete(qt.key===null?Dt:qt.key),L=p(qt,L,Dt),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt);return i&&pt.forEach(function(i2){return s(z,i2)}),jt&&sr(z,Dt),gt}function te(z,L,G,J){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:t:{for(var gt=G.key;L!==null;){if(L.key===gt){if(gt=G.type,gt===N){if(L.tag===7){o(z,L.sibling),J=d(L,G.props.children),J.return=z,z=J;break t}}else if(L.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&aa(gt)===L.type){o(z,L.sibling),J=d(L,G.props),Xl(J,G),J.return=z,z=J;break t}o(z,L);break}else s(z,L);L=L.sibling}G.type===N?(J=ea(G.props.children,z.mode,J,G.key),J.return=z,z=J):(J=sh(G.type,G.key,G.props,null,z.mode,J),Xl(J,G),J.return=z,z=J)}return T(z);case I:t:{for(gt=G.key;L!==null;){if(L.key===gt)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){o(z,L.sibling),J=d(L,G.children||[]),J.return=z,z=J;break t}else{o(z,L);break}else s(z,L);L=L.sibling}J=Yd(G,z.mode,J),J.return=z,z=J}return T(z);case R:return G=aa(G),te(z,L,G,J)}if(me(G))return mt(z,L,G,J);if(F(G)){if(gt=F(G),typeof gt!="function")throw Error(r(150));return G=gt.call(G),vt(z,L,G,J)}if(typeof G.then=="function")return te(z,L,fh(G),J);if(G.$$typeof===H)return te(z,L,lh(z,G),J);dh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(o(z,L.sibling),J=d(L,G),J.return=z,z=J):(o(z,L),J=Gd(G,z.mode,J),J.return=z,z=J),T(z)):o(z,L)}return function(z,L,G,J){try{Ql=0;var gt=te(z,L,G,J);return ho=null,gt}catch(pt){if(pt===co||pt===ch)throw pt;var Ft=Cn(29,pt,null,z.mode);return Ft.lanes=J,Ft.return=z,Ft}finally{}}}var la=V_(!0),O_=V_(!1),Kr=!1;function rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=rh(i),y_(i,null,o),s}return ih(i,u,s,o),rh(i)}function $l(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,bl(i,o)}}function am(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var om=!1;function Wl(){if(om){var i=uo;if(i!==null)throw i}}function Zl(i,s,o,u){om=!1;var d=i.updateQueue;Kr=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var M=b,Y=M.next;M.next=null,T===null?p=Y:T.next=Y,T=M;var W=i.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==T&&(b===null?W.firstBaseUpdate=Y:b.next=Y,W.lastBaseUpdate=M))}if(p!==null){var tt=d.baseState;T=0,W=Y=M=null,b=p;do{var K=b.lane&-536870913,$=K!==b.lane;if($?(Ot&K)===K:(u&K)===K){K!==0&&K===lo&&(om=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var mt=i,vt=b;K=s;var te=o;switch(vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){tt=mt.call(te,tt,K);break t}tt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,K=typeof mt=="function"?mt.call(te,tt,K):mt,K==null)break t;tt=_({},tt,K);break t;case 2:Kr=!0}}K=b.callback,K!==null&&(i.flags|=64,$&&(i.flags|=8192),$=d.callbacks,$===null?d.callbacks=[K]:$.push(K))}else $={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(Y=W=$,M=tt):W=W.next=$,T|=K;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;$=b,b=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);W===null&&(M=tt),d.baseState=M,d.firstBaseUpdate=Y,d.lastBaseUpdate=W,p===null&&(d.shared.lanes=0),ts|=T,i.lanes=T,i.memoizedState=tt}}function P_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function k_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)P_(o[i],s)}var fo=U(null),mh=U(0);function L_(i,s){i=gr,ut(mh,i),ut(fo,s),gr=i|s.baseLanes}function lm(){ut(mh,gr),ut(fo,fo.current)}function um(){gr=mh.current,nt(fo),nt(mh)}var xn=U(null),Yn=null;function $r(i){var s=i.alternate;ut(Te,Te.current&1),ut(xn,i),Yn===null&&(s===null||fo.current!==null||s.memoizedState!==null)&&(Yn=i)}function cm(i){ut(Te,Te.current),ut(xn,i),Yn===null&&(Yn=i)}function U_(i){i.tag===22?(ut(Te,Te.current),ut(xn,i),Yn===null&&(Yn=i)):Wr()}function Wr(){ut(Te,Te.current),ut(xn,xn.current)}function In(i){nt(xn),Yn===i&&(Yn=null),nt(Te)}var Te=U(0);function ph(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||gp(o)||yp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var lr=0,Ct=null,Zt=null,De=null,gh=!1,mo=!1,ua=!1,yh=0,Jl=0,po=null,Kx=0;function pe(){throw Error(r(321))}function hm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Rn(i[o],s[o]))return!1;return!0}function fm(i,s,o,u,d,p){return lr=p,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?E0:Cm,ua=!1,p=o(u,d),ua=!1,mo&&(p=B_(s,o,u,d)),j_(i),p}function j_(i){Z.H=nu;var s=Zt!==null&&Zt.next!==null;if(lr=0,De=Zt=Ct=null,gh=!1,Jl=0,po=null,s)throw Error(r(300));i===null||Me||(i=i.dependencies,i!==null&&oh(i)&&(Me=!0))}function B_(i,s,o,u){Ct=i;var d=0;do{if(mo&&(po=null),Jl=0,mo=!1,25<=d)throw Error(r(301));if(d+=1,De=Zt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=S0,p=s(o,u)}while(mo);return p}function Qx(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?tu(s):s,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function dm(){var i=yh!==0;return yh=0,i}function mm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function pm(i){if(gh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}gh=!1}lr=0,De=Zt=Ct=null,mo=!1,Jl=yh=0,po=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=i:De=De.next=i,De}function Ee(){if(Zt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var s=De===null?Ct.memoizedState:De.next;if(s!==null)De=s,Zt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},De===null?Ct.memoizedState=De=i:De=De.next=i}return De}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var s=Jl;return Jl+=1,po===null&&(po=[]),i=D_(po,i,s),s=Ct,(De===null?s.memoizedState:De.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?E0:Cm),i}function _h(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===H)return Xe(i)}throw Error(r(438,String(i)))}function gm(i){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=vh(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=O;return s.index++,o}function ur(i,s){return typeof s=="function"?s(i):s}function Th(i){var s=Ee();return ym(s,Zt,i)}function ym(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,p=u.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}s.baseQueue=d=p,u.pending=null}if(p=i.baseState,d===null)i.memoizedState=p;else{s=d.next;var b=T=null,M=null,Y=s,W=!1;do{var tt=Y.lane&-536870913;if(tt!==Y.lane?(Ot&tt)===tt:(lr&tt)===tt){var K=Y.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),tt===lo&&(W=!0);else if((lr&K)===K){Y=Y.next,K===lo&&(W=!0);continue}else tt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(b=M=tt,T=p):M=M.next=tt,Ct.lanes|=K,ts|=K;tt=Y.action,ua&&o(p,tt),p=Y.hasEagerState?Y.eagerState:o(p,tt)}else K={lane:tt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(b=M=K,T=p):M=M.next=K,Ct.lanes|=tt,ts|=tt;Y=Y.next}while(Y!==null&&Y!==s);if(M===null?T=p:M.next=b,!Rn(p,i.memoizedState)&&(Me=!0,W&&(o=uo,o!==null)))throw o;i.memoizedState=p,i.baseState=T,i.baseQueue=M,u.lastRenderedState=p}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function vm(i){var s=Ee(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do p=i(p,T.action),T=T.next;while(T!==d);Rn(p,s.memoizedState)||(Me=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function z_(i,s,o){var u=Ct,d=Ee(),p=jt;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Rn((Zt||d).memoizedState,o);if(T&&(d.memoizedState=o,Me=!0),d=d.queue,Em(H_.bind(null,u,d,i),[i]),d.getSnapshot!==s||T||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,go(9,{destroy:void 0},q_.bind(null,u,d,o,s),null),ne===null)throw Error(r(349));p||(lr&127)!==0||F_(u,s,o)}return o}function F_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=vh(),Ct.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function q_(i,s,o,u){s.value=o,s.getSnapshot=u,G_(s)&&Y_(i)}function H_(i,s,o){return o(function(){G_(s)&&Y_(i)})}function G_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Rn(i,o)}catch{return!0}}function Y_(i){var s=ta(i,2);s!==null&&En(s,i,2)}function _m(i){var s=fn();if(typeof i=="function"){var o=i;if(i=o(),ua){kn(!0);try{o()}finally{kn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:i},s}function K_(i,s,o,u){return i.baseState=o,ym(i,Zt,typeof u=="function"?u:ur)}function Xx(i,s,o,u,d){if(bh(i))throw Error(r(485));if(i=s.action,i!==null){var p={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};Z.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,Q_(s,p)):(p.next=o.next,s.pending=o.next=p)}}function Q_(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var p=Z.T,T={};Z.T=T;try{var b=o(d,u),M=Z.S;M!==null&&M(T,b),X_(i,s,b)}catch(Y){Tm(i,s,Y)}finally{p!==null&&T.types!==null&&(p.types=T.types),Z.T=p}}else try{p=o(d,u),X_(i,s,p)}catch(Y){Tm(i,s,Y)}}function X_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$_(i,s,u)},function(u){return Tm(i,s,u)}):$_(i,s,o)}function $_(i,s,o){s.status="fulfilled",s.value=o,W_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Q_(i,o)))}function Tm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,W_(s),s=s.next;while(s!==u)}i.action=null}function W_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Z_(i,s){return s}function J_(i,s){if(jt){var o=ne.formState;if(o!==null){t:{var u=Ct;if(jt){if(re){e:{for(var d=re,p=Gn;d.nodeType!==8;){if(!p){d=null;break e}if(d=Kn(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){re=Kn(d.nextSibling),u=d.data==="F!";break t}}Gr(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z_,lastRenderedState:s},o.queue=u,o=v0.bind(null,Ct,u),u.dispatch=o,u=_m(!1),p=Rm.bind(null,Ct,!1,u.queue),u=fn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=Xx.bind(null,Ct,d,p,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function t0(i){var s=Ee();return e0(s,Zt,i)}function e0(i,s,o){if(s=ym(i,s,Z_)[0],i=Th(ur)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=tu(s)}catch(T){throw T===co?ch:T}else u=s;s=Ee();var d=s.queue,p=d.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,go(9,{destroy:void 0},$x.bind(null,d,o),null)),[u,p,i]}function $x(i,s){i.action=s}function n0(i){var s=Ee(),o=Zt;if(o!==null)return e0(s,o,i);Ee(),s=s.memoizedState,o=Ee();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function go(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=vh(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function i0(){return Ee().memoizedState}function Eh(i,s,o,u){var d=fn();Ct.flags|=i,d.memoizedState=go(1|s,{destroy:void 0},o,u===void 0?null:u)}function Sh(i,s,o,u){var d=Ee();u=u===void 0?null:u;var p=d.memoizedState.inst;Zt!==null&&u!==null&&hm(u,Zt.memoizedState.deps)?d.memoizedState=go(s,p,o,u):(Ct.flags|=i,d.memoizedState=go(1|s,p,o,u))}function r0(i,s){Eh(8390656,8,i,s)}function Em(i,s){Sh(2048,8,i,s)}function Wx(i){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=vh(),Ct.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function s0(i){var s=Ee().memoizedState;return Wx({ref:s,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function a0(i,s){return Sh(4,2,i,s)}function o0(i,s){return Sh(4,4,i,s)}function l0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function u0(i,s,o){o=o!=null?o.concat([i]):null,Sh(4,4,l0.bind(null,s,i),o)}function Sm(){}function c0(i,s){var o=Ee();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&hm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function h0(i,s){var o=Ee();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&hm(s,u[1]))return u[0];if(u=i(),ua){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,s],u}function bm(i,s,o){return o===void 0||(lr&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=fT(),Ct.lanes|=i,ts|=i,o)}function f0(i,s,o,u){return Rn(o,s)?o:fo.current!==null?(i=bm(i,o,u),Rn(i,s)||(Me=!0),i):(lr&42)===0||(lr&1073741824)!==0&&(Ot&261930)===0?(Me=!0,i.memoizedState=o):(i=fT(),Ct.lanes|=i,ts|=i,s)}function d0(i,s,o,u,d){var p=rt.p;rt.p=p!==0&&8>p?p:8;var T=Z.T,b={};Z.T=b,Rm(i,!1,s,o);try{var M=d(),Y=Z.S;if(Y!==null&&Y(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=Yx(M,u);eu(i,s,W,Nn(i))}else eu(i,s,u,Nn(i))}catch(tt){eu(i,s,{then:function(){},status:"rejected",reason:tt},Nn())}finally{rt.p=p,T!==null&&b.types!==null&&(T.types=b.types),Z.T=T}}function Zx(){}function wm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=m0(i).queue;d0(i,d,s,dt,o===null?Zx:function(){return p0(i),o(u)})}function m0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:dt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function p0(i){var s=m0(i);s.next===null&&(s=i.alternate.memoizedState),eu(i,s.next.queue,{},Nn())}function Am(){return Xe(vu)}function g0(){return Ee().memoizedState}function y0(){return Ee().memoizedState}function Jx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Nn();i=Qr(o);var u=Xr(s,i,o);u!==null&&(En(u,s,o),$l(u,s,o)),s={cache:tm()},i.payload=s;return}s=s.return}}function tI(i,s,o){var u=Nn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},bh(i)?_0(s,o):(o=qd(i,s,o,u),o!==null&&(En(o,i,u),T0(o,s,u)))}function v0(i,s,o){var u=Nn();eu(i,s,o,u)}function eu(i,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(bh(i))_0(s,d);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var T=s.lastRenderedState,b=p(T,o);if(d.hasEagerState=!0,d.eagerState=b,Rn(b,T))return ih(i,s,d,0),ne===null&&nh(),!1}catch{}finally{}if(o=qd(i,s,d,u),o!==null)return En(o,i,u),T0(o,s,u),!0}return!1}function Rm(i,s,o,u){if(u={lane:2,revertLane:rp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},bh(i)){if(s)throw Error(r(479))}else s=qd(i,o,u,2),s!==null&&En(s,i,2)}function bh(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function _0(i,s){mo=gh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function T0(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,bl(i,o)}}var nu={readContext:Xe,use:_h,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};nu.useEffectEvent=pe;var E0={readContext:Xe,use:_h,useCallback:function(i,s){return fn().memoizedState=[i,s===void 0?null:s],i},useContext:Xe,useEffect:r0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Eh(4194308,4,l0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Eh(4194308,4,i,s)},useInsertionEffect:function(i,s){Eh(4,2,i,s)},useMemo:function(i,s){var o=fn();s=s===void 0?null:s;var u=i();if(ua){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=fn();if(o!==void 0){var d=o(s);if(ua){kn(!0);try{o(s)}finally{kn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=tI.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var s=fn();return i={current:i},s.memoizedState=i},useState:function(i){i=_m(i);var s=i.queue,o=v0.bind(null,Ct,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Sm,useDeferredValue:function(i,s){var o=fn();return bm(o,i,s)},useTransition:function(){var i=_m(!1);return i=d0.bind(null,Ct,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ct,d=fn();if(jt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ne===null)throw Error(r(349));(Ot&127)!==0||F_(u,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,r0(H_.bind(null,u,p,i),[i]),u.flags|=2048,go(9,{destroy:void 0},q_.bind(null,u,p,o,s),null),o},useId:function(){var i=fn(),s=ne.identifierPrefix;if(jt){var o=ji,u=Ui;o=(u&~(1<<32-ve(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=yh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Kx++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Am,useFormState:J_,useActionState:J_,useOptimistic:function(i){var s=fn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Rm.bind(null,Ct,!0,o),o.dispatch=s,[i,s]},useMemoCache:gm,useCacheRefresh:function(){return fn().memoizedState=Jx.bind(null,Ct)},useEffectEvent:function(i){var s=fn(),o={impl:i};return s.memoizedState=o,function(){if((Gt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Cm={readContext:Xe,use:_h,useCallback:c0,useContext:Xe,useEffect:Em,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:Th,useRef:i0,useState:function(){return Th(ur)},useDebugValue:Sm,useDeferredValue:function(i,s){var o=Ee();return f0(o,Zt.memoizedState,i,s)},useTransition:function(){var i=Th(ur)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:tu(i),s]},useSyncExternalStore:z_,useId:g0,useHostTransitionStatus:Am,useFormState:t0,useActionState:t0,useOptimistic:function(i,s){var o=Ee();return K_(o,Zt,i,s)},useMemoCache:gm,useCacheRefresh:y0};Cm.useEffectEvent=s0;var S0={readContext:Xe,use:_h,useCallback:c0,useContext:Xe,useEffect:Em,useImperativeHandle:u0,useInsertionEffect:a0,useLayoutEffect:o0,useMemo:h0,useReducer:vm,useRef:i0,useState:function(){return vm(ur)},useDebugValue:Sm,useDeferredValue:function(i,s){var o=Ee();return Zt===null?bm(o,i,s):f0(o,Zt.memoizedState,i,s)},useTransition:function(){var i=vm(ur)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:tu(i),s]},useSyncExternalStore:z_,useId:g0,useHostTransitionStatus:Am,useFormState:n0,useActionState:n0,useOptimistic:function(i,s){var o=Ee();return Zt!==null?K_(o,Zt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:gm,useCacheRefresh:y0};S0.useEffectEvent=s0;function xm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Im={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Nn(),d=Qr(u);d.payload=s,o!=null&&(d.callback=o),s=Xr(i,d,u),s!==null&&(En(s,i,u),$l(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Nn(),d=Qr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Xr(i,d,u),s!==null&&(En(s,i,u),$l(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Nn(),u=Qr(o);u.tag=2,s!=null&&(u.callback=s),s=Xr(i,u,o),s!==null&&(En(s,i,o),$l(s,i,o))}};function b0(i,s,o,u,d,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,T):s.prototype&&s.prototype.isPureReactComponent?!Fl(o,u)||!Fl(d,p):!0}function w0(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Im.enqueueReplaceState(s,s.state,null)}function ca(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function A0(i){eh(i)}function R0(i){console.error(i)}function C0(i){eh(i)}function wh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function x0(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Dm(i,s,o){return o=Qr(o),o.tag=3,o.payload={element:null},o.callback=function(){wh(i,s)},o}function I0(i){return i=Qr(i),i.tag=3,i}function D0(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;i.payload=function(){return d(p)},i.callback=function(){x0(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){x0(s,o,u),typeof d!="function"&&(es===null?es=new Set([this]):es.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function eI(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&oo(s,o,d,!0),o=xn.current,o!==null){switch(o.tag){case 31:case 13:return Yn===null?kh():o.alternate===null&&ge===0&&(ge=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===hh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),ep(i,u,d)),!1;case 22:return o.flags|=65536,u===hh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),ep(i,u,d)),!1}throw Error(r(435,o.tag))}return ep(i,u,d),kh(),!1}if(jt)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Xd&&(i=Error(r(422),{cause:u}),Gl(Fn(i,o)))):(u!==Xd&&(s=Error(r(423),{cause:u}),Gl(Fn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Fn(u,o),d=Dm(i.stateNode,u,d),am(i,d),ge!==4&&(ge=2)),!1;var p=Error(r(520),{cause:u});if(p=Fn(p,o),cu===null?cu=[p]:cu.push(p),ge!==4&&(ge=2),s===null)return!0;u=Fn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Dm(o.stateNode,u,i),am(o,i),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(es===null||!es.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=I0(d),D0(d,i,o,u),am(o,d),!1}o=o.return}while(o!==null);return!1}var Mm=Error(r(461)),Me=!1;function $e(i,s,o,u){s.child=i===null?O_(s,null,o,u):la(s,i.child,o,u)}function M0(i,s,o,u,d){o=o.render;var p=s.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return ra(s),u=fm(i,s,o,T,p,d),b=dm(),i!==null&&!Me?(mm(i,s,d),cr(i,s,d)):(jt&&b&&Kd(s),s.flags|=1,$e(i,s,u,d),s.child)}function N0(i,s,o,u,d){if(i===null){var p=o.type;return typeof p=="function"&&!Hd(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,V0(i,s,p,u,d)):(i=sh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(p=i.child,!jm(i,d)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(T,u)&&i.ref===s.ref)return cr(i,s,d)}return s.flags|=1,i=rr(p,u),i.ref=s.ref,i.return=s,s.child=i}function V0(i,s,o,u,d){if(i!==null){var p=i.memoizedProps;if(Fl(p,u)&&i.ref===s.ref)if(Me=!1,s.pendingProps=u=p,jm(i,d))(i.flags&131072)!==0&&(Me=!0);else return s.lanes=i.lanes,cr(i,s,d)}return Nm(i,s,o,u,d)}function O0(i,s,o,u){var d=u.children,p=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=s.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,s.child=null;return P0(i,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&uh(s,p!==null?p.cachePool:null),p!==null?L_(s,p):lm(),U_(s);else return u=s.lanes=536870912,P0(i,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(uh(s,p.cachePool),L_(s,p),Wr(),s.memoizedState=null):(i!==null&&uh(s,null),lm(),Wr());return $e(i,s,d,o),s.child}function iu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function P0(i,s,o,u,d){var p=nm();return p=p===null?null:{parent:Ie._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},i!==null&&uh(s,null),lm(),U_(s),i!==null&&oo(i,s,u,!0),s.childLanes=d,null}function Ah(i,s){return s=Ch({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function k0(i,s,o){return la(s,i.child,null,o),i=Ah(s,s.pendingProps),i.flags|=2,In(s),s.memoizedState=null,i}function nI(i,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(jt){if(u.mode==="hidden")return i=Ah(s,u),s.lanes=536870912,iu(null,i);if(cm(s),(i=re)?(i=QT(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:qr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},o=__(i),o.return=s,s.child=o,Qe=s,re=null)):i=null,i===null)throw Gr(s);return s.lanes=536870912,null}return Ah(s,u)}var p=i.memoizedState;if(p!==null){var T=p.dehydrated;if(cm(s),d)if(s.flags&256)s.flags&=-257,s=k0(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Me||oo(i,s,o,!1),d=(o&i.childLanes)!==0,Me||d){if(u=ne,u!==null&&(T=wl(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,ta(i,T),En(u,i,T),Mm;kh(),s=k0(i,s,o)}else i=p.treeContext,re=Kn(T.nextSibling),Qe=s,jt=!0,Hr=null,Gn=!1,i!==null&&S_(s,i),s=Ah(s,u),s.flags|=4096;return s}return i=rr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Rh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Nm(i,s,o,u,d){return ra(s),o=fm(i,s,o,u,void 0,d),u=dm(),i!==null&&!Me?(mm(i,s,d),cr(i,s,d)):(jt&&u&&Kd(s),s.flags|=1,$e(i,s,o,d),s.child)}function L0(i,s,o,u,d,p){return ra(s),s.updateQueue=null,o=B_(s,u,o,d),j_(i),u=dm(),i!==null&&!Me?(mm(i,s,p),cr(i,s,p)):(jt&&u&&Kd(s),s.flags|=1,$e(i,s,o,p),s.child)}function U0(i,s,o,u,d){if(ra(s),s.stateNode===null){var p=io,T=o.contextType;typeof T=="object"&&T!==null&&(p=Xe(T)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Im,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},rm(s),T=o.contextType,p.context=typeof T=="object"&&T!==null?Xe(T):io,p.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(xm(s,o,T,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Im.enqueueReplaceState(p,p.state,null),Zl(s,u,p,d),Wl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){p=s.stateNode;var b=s.memoizedProps,M=ca(o,b);p.props=M;var Y=p.context,W=o.contextType;T=io,typeof W=="object"&&W!==null&&(T=Xe(W));var tt=o.getDerivedStateFromProps;W=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||Y!==T)&&w0(s,p,u,T),Kr=!1;var K=s.memoizedState;p.state=K,Zl(s,u,p,d),Wl(),Y=s.memoizedState,b||K!==Y||Kr?(typeof tt=="function"&&(xm(s,o,tt,u),Y=s.memoizedState),(M=Kr||b0(s,o,M,u,K,Y,T))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),p.props=u,p.state=Y,p.context=T,u=M):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,sm(i,s),T=s.memoizedProps,W=ca(o,T),p.props=W,tt=s.pendingProps,K=p.context,Y=o.contextType,M=io,typeof Y=="object"&&Y!==null&&(M=Xe(Y)),b=o.getDerivedStateFromProps,(Y=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==tt||K!==M)&&w0(s,p,u,M),Kr=!1,K=s.memoizedState,p.state=K,Zl(s,u,p,d),Wl();var $=s.memoizedState;T!==tt||K!==$||Kr||i!==null&&i.dependencies!==null&&oh(i.dependencies)?(typeof b=="function"&&(xm(s,o,b,u),$=s.memoizedState),(W=Kr||b0(s,o,W,u,K,$,M)||i!==null&&i.dependencies!==null&&oh(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,M)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),p.props=u,p.state=$,p.context=M,u=W):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),u=!1)}return p=u,Rh(i,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,i!==null&&u?(s.child=la(s,i.child,null,d),s.child=la(s,null,o,d)):$e(i,s,o,d),s.memoizedState=p.state,i=s.child):i=cr(i,s,d),i}function j0(i,s,o,u){return na(),s.flags|=256,$e(i,s,o,u),s.child}var Vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(i){return{baseLanes:i,cachePool:x_()}}function Pm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Mn),i}function B0(i,s,o){var u=s.pendingProps,d=!1,p=(s.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Te.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(jt){if(d?$r(s):Wr(),(i=re)?(i=QT(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:qr!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},o=__(i),o.return=s,s.child=o,Qe=s,re=null)):i=null,i===null)throw Gr(s);return yp(i)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,d?(Wr(),d=s.mode,b=Ch({mode:"hidden",children:b},d),u=ea(u,d,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=Om(o),u.childLanes=Pm(i,T,o),s.memoizedState=Vm,iu(null,u)):($r(s),km(s,b))}var M=i.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(p)s.flags&256?($r(s),s.flags&=-257,s=Lm(i,s,o)):s.memoizedState!==null?(Wr(),s.child=i.child,s.flags|=128,s=null):(Wr(),b=u.fallback,d=s.mode,u=Ch({mode:"visible",children:u.children},d),b=ea(b,d,o,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,la(s,i.child,null,o),u=s.child,u.memoizedState=Om(o),u.childLanes=Pm(i,T,o),s.memoizedState=Vm,s=iu(null,u));else if($r(s),yp(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(r(419)),u.stack="",u.digest=T,Gl({value:u,source:null,stack:null}),s=Lm(i,s,o)}else if(Me||oo(i,s,o,!1),T=(o&i.childLanes)!==0,Me||T){if(T=ne,T!==null&&(u=wl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,ta(i,u),En(T,i,u),Mm;gp(b)||kh(),s=Lm(i,s,o)}else gp(b)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,re=Kn(b.nextSibling),Qe=s,jt=!0,Hr=null,Gn=!1,i!==null&&S_(s,i),s=km(s,u.children),s.flags|=4096);return s}return d?(Wr(),b=u.fallback,d=s.mode,M=i.child,Y=M.sibling,u=rr(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,Y!==null?b=rr(Y,b):(b=ea(b,d,o,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,iu(null,u),u=s.child,b=i.child.memoizedState,b===null?b=Om(o):(d=b.cachePool,d!==null?(M=Ie._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=x_(),b={baseLanes:b.baseLanes|o,cachePool:d}),u.memoizedState=b,u.childLanes=Pm(i,T,o),s.memoizedState=Vm,iu(i.child,u)):($r(s),o=i.child,i=o.sibling,o=rr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function km(i,s){return s=Ch({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ch(i,s){return i=Cn(22,i,null,s),i.lanes=0,i}function Lm(i,s,o){return la(s,i.child,null,o),i=km(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function z0(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Zd(i.return,s,o)}function Um(i,s,o,u,d,p){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=p)}function F0(i,s,o){var u=s.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var T=Te.current,b=(T&2)!==0;if(b?(T=T&1|2,s.flags|=128):T&=1,ut(Te,T),$e(i,s,u,o),u=jt?Hl:0,!b&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&z0(i,o,s);else if(i.tag===19)z0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&ph(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Um(s,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&ph(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Um(s,!0,o,null,p,u);break;case"together":Um(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function cr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ts|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(oo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=rr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=rr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function jm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&oh(i)))}function iI(i,s,o){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),Yr(s,Ie,i.memoizedState.cache),na();break;case 27:case 5:ks(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:Yr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?($r(s),s.flags|=128,null):(o&s.child.childLanes)!==0?B0(i,s,o):($r(s),i=cr(i,s,o),i!==null?i.sibling:null);$r(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(oo(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return F0(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ut(Te,Te.current),u)break;return null;case 22:return s.lanes=0,O0(i,s,o,s.pendingProps);case 24:Yr(s,Ie,i.memoizedState.cache)}return cr(i,s,o)}function q0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Me=!0;else{if(!jm(i,o)&&(s.flags&128)===0)return Me=!1,iI(i,s,o);Me=(i.flags&131072)!==0}else Me=!1,jt&&(s.flags&1048576)!==0&&E_(s,Hl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=aa(s.elementType),s.type=i,typeof i=="function")Hd(i)?(u=ca(i,u),s.tag=1,s=U0(null,s,i,u,o)):(s.tag=0,s=Nm(null,s,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===at){s.tag=11,s=M0(null,s,i,u,o);break t}else if(d===C){s.tag=14,s=N0(null,s,i,u,o);break t}}throw s=ee(i)||i,Error(r(306,s,""))}}return s;case 0:return Nm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ca(u,s.pendingProps),U0(i,s,u,d,o);case 3:t:{if(Le(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var p=s.memoizedState;d=p.element,sm(i,s),Zl(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Yr(s,Ie,u),u!==p.cache&&Jd(s,[Ie],o,!0),Wl(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=j0(i,s,u,o);break t}else if(u!==d){d=Fn(Error(r(424)),s),Gl(d),s=j0(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(re=Kn(i.firstChild),Qe=s,jt=!0,Hr=null,Gn=!0,o=O_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(na(),u===d){s=cr(i,s,o);break t}$e(i,s,u,o)}s=s.child}return s;case 26:return Rh(i,s),i===null?(o=tE(s.type,null,s.pendingProps,null))?s.memoizedState=o:jt||(o=s.type,i=s.pendingProps,u=qh(It.current).createElement(o),u[Re]=s,u[Fe]=i,We(u,o,i),Ce(u),s.stateNode=u):s.memoizedState=tE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ks(s),i===null&&jt&&(u=s.stateNode=WT(s.type,s.pendingProps,It.current),Qe=s,Gn=!0,d=re,ss(s.type)?(vp=d,re=Kn(u.firstChild)):re=d),$e(i,s,s.pendingProps.children,o),Rh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&jt&&((d=u=re)&&(u=VI(u,s.type,s.pendingProps,Gn),u!==null?(s.stateNode=u,Qe=s,re=Kn(u.firstChild),Gn=!1,d=!0):d=!1),d||Gr(s)),ks(s),d=s.type,p=s.pendingProps,T=i!==null?i.memoizedProps:null,u=p.children,dp(d,p)?u=null:T!==null&&dp(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=fm(i,s,Qx,null,null,o),vu._currentValue=d),Rh(i,s),$e(i,s,u,o),s.child;case 6:return i===null&&jt&&((i=o=re)&&(o=OI(o,s.pendingProps,Gn),o!==null?(s.stateNode=o,Qe=s,re=null,i=!0):i=!1),i||Gr(s)),null;case 13:return B0(i,s,o);case 4:return Le(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=la(s,null,u,o):$e(i,s,u,o),s.child;case 11:return M0(i,s,s.type,s.pendingProps,o);case 7:return $e(i,s,s.pendingProps,o),s.child;case 8:return $e(i,s,s.pendingProps.children,o),s.child;case 12:return $e(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Yr(s,s.type,u.value),$e(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ra(s),d=Xe(d),u=u(d),s.flags|=1,$e(i,s,u,o),s.child;case 14:return N0(i,s,s.type,s.pendingProps,o);case 15:return V0(i,s,s.type,s.pendingProps,o);case 19:return F0(i,s,o);case 31:return nI(i,s,o);case 22:return O0(i,s,o,s.pendingProps);case 24:return ra(s),u=Xe(Ie),i===null?(d=nm(),d===null&&(d=ne,p=tm(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),s.memoizedState={parent:u,cache:d},rm(s),Yr(s,Ie,d)):((i.lanes&o)!==0&&(sm(i,s),Zl(s,null,null,o),Wl()),d=i.memoizedState,p=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Yr(s,Ie,u)):(u=p.cache,Yr(s,Ie,u),u!==d.cache&&Jd(s,[Ie],o,!0))),$e(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function hr(i){i.flags|=4}function Bm(i,s,o,u,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(gT())i.flags|=8192;else throw oa=hh,im}else i.flags&=-16777217}function H0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!sE(s))if(gT())i.flags|=8192;else throw oa=hh,im}function xh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Oc():536870912,i.lanes|=s,To|=s)}function ru(i,s){if(!jt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function se(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function rI(i,s,o){var u=s.pendingProps;switch(Qd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(s),null;case 1:return se(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),or(Ie),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ao(s)?hr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$d())),se(s),null;case 26:var d=s.type,p=s.memoizedState;return i===null?(hr(s),p!==null?(se(s),H0(s,p)):(se(s),Bm(s,d,null,u,o))):p?p!==i.memoizedState?(hr(s),se(s),H0(s,p)):(se(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&hr(s),se(s),Bm(s,d,i,u,o)),null;case 27:if(Ua(s),o=It.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&hr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return se(s),null}i=ft.current,ao(s)?b_(s):(i=WT(d,u,o),s.stateNode=i,hr(s))}return se(s),null;case 5:if(Ua(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&hr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return se(s),null}if(p=ft.current,ao(s))b_(s);else{var T=qh(It.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}p[Re]=s,p[Fe]=u;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=p;t:switch(We(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&hr(s)}}return se(s),Bm(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&hr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=It.current,ao(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=Qe,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Re]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||BT(i.nodeValue,o)),i||Gr(s,!0)}else i=qh(i).createTextNode(u),i[Re]=s,s.stateNode=i}return se(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=ao(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Re]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),i=!1}else o=$d(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(r(558))}return se(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=ao(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Re]=s}else na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;se(s),d=!1}else d=$d(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),xh(s,s.updateQueue),se(s),null);case 4:return oe(),i===null&&lp(s.stateNode.containerInfo),se(s),null;case 10:return or(s.type),se(s),null;case 19:if(nt(Te),u=s.memoizedState,u===null)return se(s),null;if(d=(s.flags&128)!==0,p=u.rendering,p===null)if(d)ru(u,!1);else{if(ge!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(p=ph(i),p!==null){for(s.flags|=128,ru(u,!1),i=p.updateQueue,s.updateQueue=i,xh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)v_(o,i),o=o.sibling;return ut(Te,Te.current&1|2),jt&&sr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&cn()>Vh&&(s.flags|=128,d=!0,ru(u,!1),s.lanes=4194304)}else{if(!d)if(i=ph(p),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,xh(s,i),ru(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!jt)return se(s),null}else 2*cn()-u.renderingStartTime>Vh&&o!==536870912&&(s.flags|=128,d=!0,ru(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(i=u.last,i!==null?i.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=cn(),i.sibling=null,o=Te.current,ut(Te,d?o&1|2:o&1),jt&&sr(s,u.treeForkCount),i):(se(s),null);case 22:case 23:return In(s),um(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(se(s),s.subtreeFlags&6&&(s.flags|=8192)):se(s),o=s.updateQueue,o!==null&&xh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&nt(sa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),or(Ie),se(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function sI(i,s){switch(Qd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return or(Ie),oe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ua(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(r(340));na()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(In(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));na()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return nt(Te),null;case 4:return oe(),null;case 10:return or(s.type),null;case 22:case 23:return In(s),um(),i!==null&&nt(sa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return or(Ie),null;case 25:return null;default:return null}}function G0(i,s){switch(Qd(s),s.tag){case 3:or(Ie),oe();break;case 26:case 27:case 5:Ua(s);break;case 4:oe();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:nt(Te);break;case 10:or(s.type);break;case 22:case 23:In(s),um(),i!==null&&nt(sa);break;case 24:or(Ie)}}function su(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==d)}}catch(b){Xt(s,s.return,b)}}function Zr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&i)===i){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,d=s;var M=o,Y=b;try{Y()}catch(W){Xt(d,M,W)}}}u=u.next}while(u!==p)}}catch(W){Xt(s,s.return,W)}}function Y0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{k_(s,o)}catch(u){Xt(i,i.return,u)}}}function K0(i,s,o){o.props=ca(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Xt(i,s,u)}}function au(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Xt(i,s,d)}}function Bi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Xt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Xt(i,s,d)}else o.current=null}function Q0(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Xt(i,i.return,d)}}function zm(i,s,o){try{var u=i.stateNode;CI(u,i.type,o,s),u[Fe]=s}catch(d){Xt(i,i.return,d)}}function X0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ss(i.type)||i.tag===4}function Fm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||X0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ss(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ri));else if(u!==4&&(u===27&&ss(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(qm(i,s,o),i=i.sibling;i!==null;)qm(i,s,o),i=i.sibling}function Ih(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&ss(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ih(i,s,o),i=i.sibling;i!==null;)Ih(i,s,o),i=i.sibling}function $0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);We(s,u,o),s[Re]=i,s[Fe]=o}catch(p){Xt(i,i.return,p)}}var fr=!1,Ne=!1,Hm=!1,W0=typeof WeakSet=="function"?WeakSet:Set,He=null;function aI(i,s){if(i=i.containerInfo,hp=$h,i=u_(i),Ld(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,b=-1,M=-1,Y=0,W=0,tt=i,K=null;e:for(;;){for(var $;tt!==o||d!==0&&tt.nodeType!==3||(b=T+d),tt!==p||u!==0&&tt.nodeType!==3||(M=T+u),tt.nodeType===3&&(T+=tt.nodeValue.length),($=tt.firstChild)!==null;)K=tt,tt=$;for(;;){if(tt===i)break e;if(K===o&&++Y===d&&(b=T),K===p&&++W===u&&(M=T),($=tt.nextSibling)!==null)break;tt=K,K=tt.parentNode}tt=$}o=b===-1||M===-1?null:{start:b,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(fp={focusedElem:i,selectionRange:o},$h=!1,He=s;He!==null;)if(s=He,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,He=i;else for(;He!==null;){switch(s=He,p=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=s,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var mt=ca(o.type,d);i=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Xt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)pp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":pp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,He=i;break}He=s.return}}function Z0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:mr(i,o),u&4&&su(5,o);break;case 1:if(mr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){Xt(o,o.return,T)}else{var d=ca(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(o,o.return,T)}}u&64&&Y0(o),u&512&&au(o,o.return);break;case 3:if(mr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{k_(i,s)}catch(T){Xt(o,o.return,T)}}break;case 27:s===null&&u&4&&$0(o);case 26:case 5:mr(i,o),s===null&&u&4&&Q0(o),u&512&&au(o,o.return);break;case 12:mr(i,o);break;case 31:mr(i,o),u&4&&eT(i,o);break;case 13:mr(i,o),u&4&&nT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=pI.bind(null,o),PI(i,o))));break;case 22:if(u=o.memoizedState!==null||fr,!u){s=s!==null&&s.memoizedState!==null||Ne,d=fr;var p=Ne;fr=u,(Ne=s)&&!p?pr(i,o,(o.subtreeFlags&8772)!==0):mr(i,o),fr=d,Ne=p}break;case 30:break;default:mr(i,o)}}function J0(i){var s=i.alternate;s!==null&&(i.alternate=null,J0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&qa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ue=null,yn=!1;function dr(i,s,o){for(o=o.child;o!==null;)tT(i,s,o),o=o.sibling}function tT(i,s,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ti,o)}catch{}switch(o.tag){case 26:Ne||Bi(o,s),dr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ne||Bi(o,s);var u=ue,d=yn;ss(o.type)&&(ue=o.stateNode,yn=!1),dr(i,s,o),pu(o.stateNode),ue=u,yn=d;break;case 5:Ne||Bi(o,s);case 6:if(u=ue,d=yn,ue=null,dr(i,s,o),ue=u,yn=d,ue!==null)if(yn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(o.stateNode)}catch(p){Xt(o,s,p)}else try{ue.removeChild(o.stateNode)}catch(p){Xt(o,s,p)}break;case 18:ue!==null&&(yn?(i=ue,YT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),xo(i)):YT(ue,o.stateNode));break;case 4:u=ue,d=yn,ue=o.stateNode.containerInfo,yn=!0,dr(i,s,o),ue=u,yn=d;break;case 0:case 11:case 14:case 15:Zr(2,o,s),Ne||Zr(4,o,s),dr(i,s,o);break;case 1:Ne||(Bi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&K0(o,s,u)),dr(i,s,o);break;case 21:dr(i,s,o);break;case 22:Ne=(u=Ne)||o.memoizedState!==null,dr(i,s,o),Ne=u;break;default:dr(i,s,o)}}function eT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{xo(i)}catch(o){Xt(s,s.return,o)}}}function nT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xo(i)}catch(o){Xt(s,s.return,o)}}function oI(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new W0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new W0),s;default:throw Error(r(435,i.tag))}}function Dh(i,s){var o=oI(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=gI.bind(null,i,u);u.then(d,d)}})}function vn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=i,T=s,b=T;t:for(;b!==null;){switch(b.tag){case 27:if(ss(b.type)){ue=b.stateNode,yn=!1;break t}break;case 5:ue=b.stateNode,yn=!1;break t;case 3:case 4:ue=b.stateNode.containerInfo,yn=!0;break t}b=b.return}if(ue===null)throw Error(r(160));tT(p,T,d),ue=null,yn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)iT(s,i),s=s.sibling}var ci=null;function iT(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:vn(s,i),_n(i),u&4&&(Zr(3,i,i.return),su(3,i),Zr(5,i,i.return));break;case 1:vn(s,i),_n(i),u&512&&(Ne||o===null||Bi(o,o.return)),u&64&&fr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ci;if(vn(s,i),_n(i),u&512&&(Ne||o===null||Bi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ri]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),We(p,u,o),p[Re]=i,Ce(p),u=p;break t;case"link":var T=iE("link","href",d).get(u+(o.href||""));if(T){for(var b=0;b<T.length;b++)if(p=T[b],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(b,1);break e}}p=d.createElement(u),We(p,u,o),d.head.appendChild(p);break;case"meta":if(T=iE("meta","content",d).get(u+(o.content||""))){for(b=0;b<T.length;b++)if(p=T[b],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(b,1);break e}}p=d.createElement(u),We(p,u,o),d.head.appendChild(p);break;default:throw Error(r(468,u))}p[Re]=i,Ce(p),u=p}i.stateNode=u}else rE(d,i.type,i.stateNode);else i.stateNode=nE(d,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?rE(d,i.type,i.stateNode):nE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&zm(i,i.memoizedProps,o.memoizedProps)}break;case 27:vn(s,i),_n(i),u&512&&(Ne||o===null||Bi(o,o.return)),o!==null&&u&4&&zm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(vn(s,i),_n(i),u&512&&(Ne||o===null||Bi(o,o.return)),i.flags&32){d=i.stateNode;try{gn(d,"")}catch(mt){Xt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,zm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Hm=!0);break;case 6:if(vn(s,i),_n(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Xt(i,i.return,mt)}}break;case 3:if(Yh=null,d=ci,ci=Hh(s.containerInfo),vn(s,i),ci=d,_n(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xo(s.containerInfo)}catch(mt){Xt(i,i.return,mt)}Hm&&(Hm=!1,rT(i));break;case 4:u=ci,ci=Hh(i.stateNode.containerInfo),vn(s,i),_n(i),ci=u;break;case 12:vn(s,i),_n(i);break;case 31:vn(s,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dh(i,u)));break;case 13:vn(s,i),_n(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nh=cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dh(i,u)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,Y=fr,W=Ne;if(fr=Y||d,Ne=W||M,vn(s,i),Ne=W,fr=Y,_n(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||M||fr||Ne||ha(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(p=M.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=M.stateNode;var tt=M.memoizedProps.style,K=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){Xt(M,M.return,mt)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(mt){Xt(M,M.return,mt)}}}else if(s.tag===18){if(o===null){M=s;try{var $=M.stateNode;d?KT($,!0):KT(M.stateNode,!1)}catch(mt){Xt(M,M.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Dh(i,o))));break;case 19:vn(s,i),_n(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dh(i,u)));break;case 30:break;case 21:break;default:vn(s,i),_n(i)}}function _n(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(X0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,p=Fm(i);Ih(i,p,d);break;case 5:var T=o.stateNode;o.flags&32&&(gn(T,""),o.flags&=-33);var b=Fm(i);Ih(i,b,T);break;case 3:case 4:var M=o.stateNode.containerInfo,Y=Fm(i);qm(i,Y,M);break;default:throw Error(r(161))}}catch(W){Xt(i,i.return,W)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function rT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;rT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function mr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z0(i,s.alternate,s),s=s.sibling}function ha(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Zr(4,s,s.return),ha(s);break;case 1:Bi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&K0(s,s.return,o),ha(s);break;case 27:pu(s.stateNode);case 26:case 5:Bi(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}i=i.sibling}}function pr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,p=s,T=p.flags;switch(p.tag){case 0:case 11:case 15:pr(d,p,o),su(4,p);break;case 1:if(pr(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Xt(u,u.return,Y)}if(u=p,d=u.updateQueue,d!==null){var b=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)P_(M[d],b)}catch(Y){Xt(u,u.return,Y)}}o&&T&64&&Y0(p),au(p,p.return);break;case 27:$0(p);case 26:case 5:pr(d,p,o),o&&u===null&&T&4&&Q0(p),au(p,p.return);break;case 12:pr(d,p,o);break;case 31:pr(d,p,o),o&&T&4&&eT(d,p);break;case 13:pr(d,p,o),o&&T&4&&nT(d,p);break;case 22:p.memoizedState===null&&pr(d,p,o),au(p,p.return);break;case 30:break;default:pr(d,p,o)}s=s.sibling}}function Gm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Yl(o))}function Ym(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Yl(i))}function hi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sT(i,s,o,u),s=s.sibling}function sT(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:hi(i,s,o,u),d&2048&&su(9,s);break;case 1:hi(i,s,o,u);break;case 3:hi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Yl(i)));break;case 12:if(d&2048){hi(i,s,o,u),i=s.stateNode;try{var p=s.memoizedProps,T=p.id,b=p.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Xt(s,s.return,M)}}else hi(i,s,o,u);break;case 31:hi(i,s,o,u);break;case 13:hi(i,s,o,u);break;case 23:break;case 22:p=s.stateNode,T=s.alternate,s.memoizedState!==null?p._visibility&2?hi(i,s,o,u):ou(i,s):p._visibility&2?hi(i,s,o,u):(p._visibility|=2,yo(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Gm(T,s);break;case 24:hi(i,s,o,u),d&2048&&Ym(s.alternate,s);break;default:hi(i,s,o,u)}}function yo(i,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=i,T=s,b=o,M=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:yo(p,T,b,M,d),su(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?yo(p,T,b,M,d):ou(p,T):(W._visibility|=2,yo(p,T,b,M,d)),d&&Y&2048&&Gm(T.alternate,T);break;case 24:yo(p,T,b,M,d),d&&Y&2048&&Ym(T.alternate,T);break;default:yo(p,T,b,M,d)}s=s.sibling}}function ou(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:ou(o,u),d&2048&&Gm(u.alternate,u);break;case 24:ou(o,u),d&2048&&Ym(u.alternate,u);break;default:ou(o,u)}s=s.sibling}}var lu=8192;function vo(i,s,o){if(i.subtreeFlags&lu)for(i=i.child;i!==null;)aT(i,s,o),i=i.sibling}function aT(i,s,o){switch(i.tag){case 26:vo(i,s,o),i.flags&lu&&i.memoizedState!==null&&KI(o,ci,i.memoizedState,i.memoizedProps);break;case 5:vo(i,s,o);break;case 3:case 4:var u=ci;ci=Hh(i.stateNode.containerInfo),vo(i,s,o),ci=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=lu,lu=16777216,vo(i,s,o),lu=u):vo(i,s,o));break;default:vo(i,s,o)}}function oT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function uu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];He=u,uT(u,i)}oT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lT(i),i=i.sibling}function lT(i){switch(i.tag){case 0:case 11:case 15:uu(i),i.flags&2048&&Zr(9,i,i.return);break;case 3:uu(i);break;case 12:uu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Mh(i)):uu(i);break;default:uu(i)}}function Mh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];He=u,uT(u,i)}oT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Zr(8,s,s.return),Mh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Mh(s));break;default:Mh(s)}i=i.sibling}}function uT(i,s){for(;He!==null;){var o=He;switch(o.tag){case 0:case 11:case 15:Zr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,He=u;else t:for(o=i;He!==null;){u=He;var d=u.sibling,p=u.return;if(J0(u),u===o){He=null;break t}if(d!==null){d.return=p,He=d;break t}He=p}}}var lI={getCacheForType:function(i){var s=Xe(Ie),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Xe(Ie).controller.signal}},uI=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Mt=null,Ot=0,Qt=0,Dn=null,Jr=!1,_o=!1,Km=!1,gr=0,ge=0,ts=0,fa=0,Qm=0,Mn=0,To=0,cu=null,Tn=null,Xm=!1,Nh=0,cT=0,Vh=1/0,Oh=null,es=null,je=0,ns=null,Eo=null,yr=0,$m=0,Wm=null,hT=null,hu=0,Zm=null;function Nn(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:Z.T!==null?rp():Pc()}function fT(){if(Mn===0)if((Ot&536870912)===0||jt){var i=js;js<<=1,(js&3932160)===0&&(js=262144),Mn=i}else Mn=536870912;return i=xn.current,i!==null&&(i.flags|=32),Mn}function En(i,s,o){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(So(i,0),is(i,Ot,Mn,!1)),Bs(i,o),((Gt&2)===0||i!==ne)&&(i===ne&&((Gt&2)===0&&(fa|=o),ge===4&&is(i,Ot,Mn,!1)),zi(i))}function dT(i,s,o){if((Gt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||ei(i,s),d=u?fI(i,s):tp(i,s,!0),p=u;do{if(d===0){_o&&!u&&is(i,s,0,!1);break}else{if(o=i.current.alternate,p&&!cI(o)){d=tp(i,s,!1),p=!1;continue}if(d===2){if(p=s,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var b=i;d=cu;var M=b.current.memoizedState.isDehydrated;if(M&&(So(b,T).flags|=256),T=tp(b,T,!1),T!==2){if(Km&&!M){b.errorRecoveryDisabledLanes|=p,fa|=p,d=4;break t}p=Tn,Tn=d,p!==null&&(Tn===null?Tn=p:Tn.push.apply(Tn,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){So(i,0),is(i,s,0,!0);break}t:{switch(u=i,p=d,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:is(u,s,Mn,!Jr);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Nh+300-cn(),10<d)){if(is(u,s,Mn,!Jr),bi(u,0,!0)!==0)break t;yr=s,u.timeoutHandle=HT(mT.bind(null,u,o,Tn,Oh,Xm,s,Mn,fa,To,Jr,p,"Throttled",-0,0),d);break t}mT(u,o,Tn,Oh,Xm,s,Mn,fa,To,Jr,p,null,-0,0)}}break}while(!0);zi(i)}function mT(i,s,o,u,d,p,T,b,M,Y,W,tt,K,$){if(i.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},aT(s,p,tt);var mt=(p&62914560)===p?Nh-cn():(p&4194048)===p?cT-cn():0;if(mt=QI(tt,mt),mt!==null){yr=p,i.cancelPendingCommit=mt(ST.bind(null,i,s,p,o,u,d,T,b,M,W,tt,null,K,$)),is(i,p,T,!Y);return}}ST(i,s,p,o,u,d,T,b,M)}function cI(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Rn(p(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(i,s,o,u){s&=~Qm,s&=~fa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var p=31-ve(d),T=1<<p;u[p]=-1,d&=~T}o!==0&&zs(i,o,s)}function Ph(){return(Gt&6)===0?(fu(0),!1):!0}function Jm(){if(Mt!==null){if(Qt===0)var i=Mt.return;else i=Mt,ar=ia=null,pm(i),ho=null,Ql=0,i=Mt;for(;i!==null;)G0(i.alternate,i),i=i.return;Mt=null}}function So(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,DI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),yr=0,Jm(),ne=i,Mt=o=rr(i.current,null),Ot=s,Qt=0,Dn=null,Jr=!1,_o=ei(i,s),Km=!1,To=Mn=Qm=fa=ts=ge=0,Tn=cu=null,Xm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-ve(u),p=1<<d;s|=i[d],u&=~p}return gr=s,nh(),o}function pT(i,s){Ct=null,Z.H=nu,s===co||s===ch?(s=M_(),Qt=3):s===im?(s=M_(),Qt=4):Qt=s===Mm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dn=s,Mt===null&&(ge=1,wh(i,Fn(s,i.current)))}function gT(){var i=xn.current;return i===null?!0:(Ot&4194048)===Ot?Yn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Yn:!1}function yT(){var i=Z.H;return Z.H=nu,i===null?nu:i}function vT(){var i=Z.A;return Z.A=lI,i}function kh(){ge=4,Jr||(Ot&4194048)!==Ot&&xn.current!==null||(_o=!0),(ts&134217727)===0&&(fa&134217727)===0||ne===null||is(ne,Ot,Mn,!1)}function tp(i,s,o){var u=Gt;Gt|=2;var d=yT(),p=vT();(ne!==i||Ot!==s)&&(Oh=null,So(i,s)),s=!1;var T=ge;t:do try{if(Qt!==0&&Mt!==null){var b=Mt,M=Dn;switch(Qt){case 8:Jm(),T=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var Y=Qt;if(Qt=0,Dn=null,bo(i,b,M,Y),o&&_o){T=0;break t}break;default:Y=Qt,Qt=0,Dn=null,bo(i,b,M,Y)}}hI(),T=ge;break}catch(W){pT(i,W)}while(!0);return s&&i.shellSuspendCounter++,ar=ia=null,Gt=u,Z.H=d,Z.A=p,Mt===null&&(ne=null,Ot=0,nh()),T}function hI(){for(;Mt!==null;)_T(Mt)}function fI(i,s){var o=Gt;Gt|=2;var u=yT(),d=vT();ne!==i||Ot!==s?(Oh=null,Vh=cn()+500,So(i,s)):_o=ei(i,s);t:do try{if(Qt!==0&&Mt!==null){s=Mt;var p=Dn;e:switch(Qt){case 1:Qt=0,Dn=null,bo(i,s,p,1);break;case 2:case 9:if(I_(p)){Qt=0,Dn=null,TT(s);break}s=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),zi(i)},p.then(s,s);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:I_(p)?(Qt=0,Dn=null,TT(s)):(Qt=0,Dn=null,bo(i,s,p,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var b=Mt;if(T?sE(T):b.stateNode.complete){Qt=0,Dn=null;var M=b.sibling;if(M!==null)Mt=M;else{var Y=b.return;Y!==null?(Mt=Y,Lh(Y)):Mt=null}break e}}Qt=0,Dn=null,bo(i,s,p,5);break;case 6:Qt=0,Dn=null,bo(i,s,p,6);break;case 8:Jm(),ge=6;break t;default:throw Error(r(462))}}dI();break}catch(W){pT(i,W)}while(!0);return ar=ia=null,Z.H=u,Z.A=d,Gt=o,Mt!==null?0:(ne=null,Ot=0,nh(),ge)}function dI(){for(;Mt!==null&&!Dd();)_T(Mt)}function _T(i){var s=q0(i.alternate,i,gr);i.memoizedProps=i.pendingProps,s===null?Lh(i):Mt=s}function TT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=L0(o,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=L0(o,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:pm(s);default:G0(o,s),s=Mt=v_(s,gr),s=q0(o,s,gr)}i.memoizedProps=i.pendingProps,s===null?Lh(i):Mt=s}function bo(i,s,o,u){ar=ia=null,pm(s),ho=null,Ql=0;var d=s.return;try{if(eI(i,d,s,o,Ot)){ge=1,wh(i,Fn(o,i.current)),Mt=null;return}}catch(p){if(d!==null)throw Mt=d,p;ge=1,wh(i,Fn(o,i.current)),Mt=null;return}s.flags&32768?(jt||u===1?i=!0:_o||(Ot&536870912)!==0?i=!1:(Jr=i=!0,(u===2||u===9||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ET(s,i)):Lh(s)}function Lh(i){var s=i;do{if((s.flags&32768)!==0){ET(s,Jr);return}i=s.return;var o=rI(s.alternate,s,gr);if(o!==null){Mt=o;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);ge===0&&(ge=5)}function ET(i,s){do{var o=sI(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);ge=6,Mt=null}function ST(i,s,o,u,d,p,T,b,M){i.cancelPendingCommit=null;do Uh();while(je!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Fd,Vd(i,o,p,T,b,M),i===ne&&(Mt=ne=null,Ot=0),Eo=s,ns=i,yr=o,$m=p,Wm=d,hT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yI(Vr,function(){return CT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=rt.p,rt.p=2,T=Gt,Gt|=4;try{aI(i,s,o)}finally{Gt=T,rt.p=d,Z.T=u}}je=1,bT(),wT(),AT()}}function bT(){if(je===1){je=0;var i=ns,s=Eo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=rt.p;rt.p=2;var d=Gt;Gt|=4;try{iT(s,i);var p=fp,T=u_(i.containerInfo),b=p.focusedElem,M=p.selectionRange;if(T!==b&&b&&b.ownerDocument&&l_(b.ownerDocument.documentElement,b)){if(M!==null&&Ld(b)){var Y=M.start,W=M.end;if(W===void 0&&(W=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(W,b.value.length);else{var tt=b.ownerDocument||document,K=tt&&tt.defaultView||window;if(K.getSelection){var $=K.getSelection(),mt=b.textContent.length,vt=Math.min(M.start,mt),te=M.end===void 0?vt:Math.min(M.end,mt);!$.extend&&vt>te&&(T=te,te=vt,vt=T);var z=o_(b,vt),L=o_(b,te);if(z&&L&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var G=tt.createRange();G.setStart(z.node,z.offset),$.removeAllRanges(),vt>te?($.addRange(G),$.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),$.addRange(G))}}}}for(tt=[],$=b;$=$.parentNode;)$.nodeType===1&&tt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var J=tt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}$h=!!hp,fp=hp=null}finally{Gt=d,rt.p=u,Z.T=o}}i.current=s,je=2}}function wT(){if(je===2){je=0;var i=ns,s=Eo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=rt.p;rt.p=2;var d=Gt;Gt|=4;try{Z0(i,s.alternate,s)}finally{Gt=d,rt.p=u,Z.T=o}}je=3}}function AT(){if(je===4||je===3){je=0,xc();var i=ns,s=Eo,o=yr,u=hT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?je=5:(je=0,Eo=ns=null,RT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(es=null),tr(o),s=s.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ti,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=rt.p,rt.p=2,Z.T=null;try{for(var p=i.onRecoverableError,T=0;T<u.length;T++){var b=u[T];p(b.value,{componentStack:b.stack})}}finally{Z.T=s,rt.p=d}}(yr&3)!==0&&Uh(),zi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Zm?hu++:(hu=0,Zm=i):hu=0,fu(0)}}function RT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Yl(s)))}function Uh(){return bT(),wT(),AT(),CT()}function CT(){if(je!==5)return!1;var i=ns,s=$m;$m=0;var o=tr(yr),u=Z.T,d=rt.p;try{rt.p=32>o?32:o,Z.T=null,o=Wm,Wm=null;var p=ns,T=yr;if(je=0,Eo=ns=null,yr=0,(Gt&6)!==0)throw Error(r(331));var b=Gt;if(Gt|=4,lT(p.current),sT(p,p.current,T,o),Gt=b,fu(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ti,p)}catch{}return!0}finally{rt.p=d,Z.T=u,RT(i,s)}}function xT(i,s,o){s=Fn(o,s),s=Dm(i.stateNode,s,2),i=Xr(i,s,2),i!==null&&(Bs(i,2),zi(i))}function Xt(i,s,o){if(i.tag===3)xT(i,i,o);else for(;s!==null;){if(s.tag===3){xT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(es===null||!es.has(u))){i=Fn(o,i),o=I0(2),u=Xr(s,o,2),u!==null&&(D0(o,u,s,i),Bs(u,2),zi(u));break}}s=s.return}}function ep(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new uI;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Km=!0,d.add(o),i=mI.bind(null,i,s,o),s.then(i,i))}function mI(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(Ot&o)===o&&(ge===4||ge===3&&(Ot&62914560)===Ot&&300>cn()-Nh?(Gt&2)===0&&So(i,0):Qm|=o,To===Ot&&(To=0)),zi(i)}function IT(i,s){s===0&&(s=Oc()),i=ta(i,s),i!==null&&(Bs(i,s),zi(i))}function pI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),IT(i,o)}function gI(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),IT(i,o)}function yI(i,s){return Ue(i,s)}var jh=null,wo=null,np=!1,Bh=!1,ip=!1,rs=0;function zi(i){i!==wo&&i.next===null&&(wo===null?jh=wo=i:wo=wo.next=i),Bh=!0,np||(np=!0,_I())}function fu(i,s){if(!ip&&Bh){ip=!0;do for(var o=!1,u=jh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var T=u.suspendedLanes,b=u.pingedLanes;p=(1<<31-ve(42|i)+1)-1,p&=d&~(T&~b),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,VT(u,p))}else p=Ot,p=bi(u,u===ne?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ei(u,p)||(o=!0,VT(u,p));u=u.next}while(o);ip=!1}}function vI(){DT()}function DT(){Bh=np=!1;var i=0;rs!==0&&II()&&(i=rs);for(var s=cn(),o=null,u=jh;u!==null;){var d=u.next,p=MT(u,s);p===0?(u.next=null,o===null?jh=d:o.next=d,d===null&&(wo=o)):(o=u,(i!==0||(p&3)!==0)&&(Bh=!0)),u=d}je!==0&&je!==5||fu(i),rs!==0&&(rs=0)}function MT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-ve(p),b=1<<T,M=d[T];M===-1?((b&o)===0||(b&u)!==0)&&(d[T]=Nd(b,s)):M<=s&&(i.expiredLanes|=b),p&=~b}if(s=ne,o=Ot,o=bi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Nr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ei(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Nr(u),tr(o)){case 2:case 8:o=Sl;break;case 32:o=Vr;break;case 268435456:o=Ic;break;default:o=Vr}return u=NT.bind(null,i),o=Ue(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Nr(u),i.callbackPriority=2,i.callbackNode=null,2}function NT(i,s){if(je!==0&&je!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Uh()&&i.callbackNode!==o)return null;var u=Ot;return u=bi(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(dT(i,u,s),MT(i,cn()),i.callbackNode!=null&&i.callbackNode===o?NT.bind(null,i):null)}function VT(i,s){if(Uh())return null;dT(i,s,!0)}function _I(){MI(function(){(Gt&6)!==0?Ue(El,vI):DT()})}function rp(){if(rs===0){var i=lo;i===0&&(i=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),rs=i}return rs}function OT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ka(""+i)}function PT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function TI(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var p=OT((d[Fe]||null).action),T=u.submitter;T&&(s=(s=T[Fe]||null)?OT(s.formAction):T.getAttribute("formAction"),s!==null&&(p=s,T=null));var b=new Oi("action","action",null,u,d);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(rs!==0){var M=T?PT(d,T):new FormData(d);wm(o,{pending:!0,data:M,method:d.method,action:p},null,M)}}else typeof p=="function"&&(b.preventDefault(),M=T?PT(d,T):new FormData(d),wm(o,{pending:!0,data:M,method:d.method,action:p},p,M))},currentTarget:d}]})}}for(var sp=0;sp<zd.length;sp++){var ap=zd[sp],EI=ap.toLowerCase(),SI=ap[0].toUpperCase()+ap.slice(1);ui(EI,"on"+SI)}ui(f_,"onAnimationEnd"),ui(d_,"onAnimationIteration"),ui(m_,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Ux,"onTransitionRun"),ui(jx,"onTransitionStart"),ui(Bx,"onTransitionCancel"),ui(p_,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function kT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var p=void 0;if(s)for(var T=u.length-1;0<=T;T--){var b=u[T],M=b.instance,Y=b.currentTarget;if(b=b.listener,M!==p&&d.isPropagationStopped())break t;p=b,d.currentTarget=Y;try{p(d)}catch(W){eh(W)}d.currentTarget=null,p=M}else for(T=0;T<u.length;T++){if(b=u[T],M=b.instance,Y=b.currentTarget,b=b.listener,M!==p&&d.isPropagationStopped())break t;p=b,d.currentTarget=Y;try{p(d)}catch(W){eh(W)}d.currentTarget=null,p=M}}}}function Nt(i,s){var o=s[Fa];o===void 0&&(o=s[Fa]=new Set);var u=i+"__bubble";o.has(u)||(LT(s,i,2,!1),o.add(u))}function op(i,s,o){var u=0;s&&(u|=4),LT(o,i,u,s)}var zh="_reactListening"+Math.random().toString(36).slice(2);function lp(i){if(!i[zh]){i[zh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(bI.has(o)||op(o,!1,i),op(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[zh]||(s[zh]=!0,op("selectionchange",!1,s))}}function LT(i,s,o,u){switch(fE(s)){case 2:var d=WI;break;case 8:d=ZI;break;default:d=bp}o=d.bind(null,s,o,i),d=void 0,!Ys||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function up(i,s,o,u,d){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===d)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;b!==null;){if(T=Ci(b),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=p=T;continue t}b=b.parentNode}}u=u.return}jr(function(){var Y=p,W=Un(o),tt=[];t:{var K=g_.get(i);if(K!==void 0){var $=Oi,mt=i;switch(i){case"keypress":if(Qs(o)===0)break t;case"keydown":case"keyup":$=Zc;break;case"focusin":mt="focus",$=$s;break;case"focusout":mt="blur",$=$s;break;case"beforeblur":case"afterblur":$=$s;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=v;break;case f_:case d_:case m_:$=Gc;break;case p_:$=A;break;case"scroll":case"scrollend":$=Ll;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ir;break;case"toggle":case"beforetoggle":$=Rt}var vt=(s&4)!==0,te=!vt&&(i==="scroll"||i==="scrollend"),z=vt?K!==null?K+"Capture":null:K;vt=[];for(var L=Y,G;L!==null;){var J=L;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||z===null||(J=si(L,z),J!=null&&vt.push(mu(L,J,G))),te)break;L=L.return}0<vt.length&&(K=new $(K,mt,null,o,W),tt.push({event:K,listeners:vt}))}}if((s&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",K&&o!==Ol&&(mt=o.relatedTarget||o.fromElement)&&(Ci(mt)||mt[Ai]))break t;if(($||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,$?(mt=o.relatedTarget||o.toElement,$=Y,mt=mt?Ci(mt):null,mt!==null&&(te=l(mt),vt=mt.tag,mt!==te||vt!==5&&vt!==27&&vt!==6)&&(mt=null)):($=null,mt=Y),$!==mt)){if(vt=Ul,J="onMouseLeave",z="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(vt=ir,J="onPointerLeave",z="onPointerEnter",L="pointer"),te=$==null?K:wn($),G=mt==null?K:wn(mt),K=new vt(J,L+"leave",$,o,W),K.target=te,K.relatedTarget=G,J=null,Ci(W)===Y&&(vt=new vt(z,L+"enter",mt,o,W),vt.target=G,vt.relatedTarget=te,J=vt),te=J,$&&mt)e:{for(vt=wI,z=$,L=mt,G=0,J=z;J;J=vt(J))G++;J=0;for(var gt=L;gt;gt=vt(gt))J++;for(;0<G-J;)z=vt(z),G--;for(;0<J-G;)L=vt(L),J--;for(;G--;){if(z===L||L!==null&&z===L.alternate){vt=z;break e}z=vt(z),L=vt(L)}vt=null}else vt=null;$!==null&&UT(tt,K,$,vt,!1),mt!==null&&te!==null&&UT(tt,te,mt,vt,!0)}}t:{if(K=Y?wn(Y):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Ft=e_;else if(Jv(K))if(n_)Ft=Px;else{Ft=Vx;var pt=Nx}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Ya(Y.elementType)&&(Ft=e_):Ft=Ox;if(Ft&&(Ft=Ft(i,Y))){t_(tt,Ft,o,W);break t}pt&&pt(i,K,Y),i==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Ml(K,"number",K.value)}switch(pt=Y?wn(Y):window,i){case"focusin":(Jv(pt)||pt.contentEditable==="true")&&(to=pt,Ud=Y,ql=null);break;case"focusout":ql=Ud=to=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,c_(tt,o,W);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":c_(tt,o,W)}var Dt;if(Ht)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ja?Ws(i,o)&&(Pt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pt="onCompositionStart");Pt&&(Li&&o.locale!=="ko"&&(Ja||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ja&&(Dt=kl()):(Vi=W,Pl="value"in Vi?Vi.value:Vi.textContent,Ja=!0)),pt=Fh(Y,Pt),0<pt.length&&(Pt=new ki(Pt,i,null,o,W),tt.push({event:Pt,listeners:pt}),Dt?Pt.data=Dt:(Dt=Za(o),Dt!==null&&(Pt.data=Dt)))),(Dt=Bn?xx(i,o):Ix(i,o))&&(Pt=Fh(Y,"onBeforeInput"),0<Pt.length&&(pt=new ki("onBeforeInput","beforeinput",null,o,W),tt.push({event:pt,listeners:Pt}),pt.data=Dt)),TI(tt,i,Y,o,W)}kT(tt,s)})}function mu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Fh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=si(i,o),d!=null&&u.unshift(mu(i,d,p)),d=si(i,s),d!=null&&u.push(mu(i,d,p))),i.tag===3)return u;i=i.return}return[]}function wI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function UT(i,s,o,u,d){for(var p=s._reactName,T=[];o!==null&&o!==u;){var b=o,M=b.alternate,Y=b.stateNode;if(b=b.tag,M!==null&&M===u)break;b!==5&&b!==26&&b!==27||Y===null||(M=Y,d?(Y=si(o,p),Y!=null&&T.unshift(mu(o,Y,M))):d||(Y=si(o,p),Y!=null&&T.push(mu(o,Y,M)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var AI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function jT(i){return(typeof i=="string"?i:""+i).replace(AI,`
`).replace(RI,"")}function BT(i,s){return s=jT(s),jT(i)===s}function Jt(i,s,o,u,d,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||gn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&gn(i,""+u);break;case"className":An(i,"class",u);break;case"tabIndex":An(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(i,o,u);break;case"style":Vl(i,u,p);break;case"data":if(s!=="object"){An(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ka(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&Jt(i,s,"name",d.name,d,null),Jt(i,s,"formEncType",d.formEncType,d,null),Jt(i,s,"formMethod",d.formMethod,d,null),Jt(i,s,"formTarget",d.formTarget,d,null)):(Jt(i,s,"encType",d.encType,d,null),Jt(i,s,"method",d.method,d,null),Jt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ka(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ri);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ka(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),Ha(i,"popover",u);break;case"xlinkActuate":xe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ha(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Fc.get(o)||o,Ha(i,o,u))}}function cp(i,s,o,u,d,p){switch(o){case"style":Vl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?gn(i,u):(typeof u=="number"||typeof u=="bigint")&&gn(i,""+u);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),p=i[Fe]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(s,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ha(i,o,u)}}}function We(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(i,s,p,T,o,null)}}d&&Jt(i,s,"srcSet",o.srcSet,o,null),u&&Jt(i,s,"src",o.src,o,null);return;case"input":Nt("invalid",i);var b=p=T=d=null,M=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":d=W;break;case"type":T=W;break;case"checked":M=W;break;case"defaultChecked":Y=W;break;case"value":p=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:Jt(i,s,u,W,o,null)}}jc(i,p,b,M,Y,T,d,!1);return;case"select":Nt("invalid",i),u=T=p=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":p=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Jt(i,s,d,b,o,null)}s=p,o=T,i.multiple=!!u,s!=null?Pr(i,!!u,s,!1):o!=null&&Pr(i,!!u,o,!0);return;case"textarea":Nt("invalid",i),p=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(b=o[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":d=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Jt(i,s,T,b,o,null)}kr(i,u,d,p);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Jt(i,s,M,u,o,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(u=0;u<du.length;u++)Nt(du[u],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Jt(i,s,Y,u,o,null)}return;default:if(Ya(s)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&cp(i,s,W,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Jt(i,s,b,u,o,null))}function CI(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,b=null,M=null,Y=null,W=null;for($ in o){var tt=o[$];if(o.hasOwnProperty($)&&tt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=tt;default:u.hasOwnProperty($)||Jt(i,s,$,null,u,tt)}}for(var K in u){var $=u[K];if(tt=o[K],u.hasOwnProperty(K)&&($!=null||tt!=null))switch(K){case"type":p=$;break;case"name":d=$;break;case"checked":Y=$;break;case"defaultChecked":W=$;break;case"value":T=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==tt&&Jt(i,s,K,$,u,tt)}}Ga(i,T,b,M,Y,W,p,d);return;case"select":$=T=b=K=null;for(p in o)if(M=o[p],o.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":$=M;default:u.hasOwnProperty(p)||Jt(i,s,p,null,u,M)}for(d in u)if(p=u[d],M=o[d],u.hasOwnProperty(d)&&(p!=null||M!=null))switch(d){case"value":K=p;break;case"defaultValue":b=p;break;case"multiple":T=p;default:p!==M&&Jt(i,s,d,p,u,M)}s=b,o=T,u=$,K!=null?Pr(i,!!o,K,!1):!!u!=!!o&&(s!=null?Pr(i,!!o,s,!0):Pr(i,!!o,o?[]:"",!1));return;case"textarea":$=K=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Jt(i,s,b,null,u,d)}for(T in u)if(d=u[T],p=o[T],u.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":K=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==p&&Jt(i,s,T,d,u,p)}Bc(i,K,$);return;case"option":for(var mt in o)if(K=o[mt],o.hasOwnProperty(mt)&&K!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:Jt(i,s,mt,null,u,K)}for(M in u)if(K=u[M],$=o[M],u.hasOwnProperty(M)&&K!==$&&(K!=null||$!=null))switch(M){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Jt(i,s,M,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Jt(i,s,vt,null,u,K);for(Y in u)if(K=u[Y],$=o[Y],u.hasOwnProperty(Y)&&K!==$&&(K!=null||$!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Jt(i,s,Y,K,u,$)}return;default:if(Ya(s)){for(var te in o)K=o[te],o.hasOwnProperty(te)&&K!==void 0&&!u.hasOwnProperty(te)&&cp(i,s,te,void 0,u,K);for(W in u)K=u[W],$=o[W],!u.hasOwnProperty(W)||K===$||K===void 0&&$===void 0||cp(i,s,W,K,u,$);return}}for(var z in o)K=o[z],o.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&Jt(i,s,z,null,u,K);for(tt in u)K=u[tt],$=o[tt],!u.hasOwnProperty(tt)||K===$||K==null&&$==null||Jt(i,s,tt,K,u,$)}function zT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,T=d.initiatorType,b=d.duration;if(p&&b&&zT(T)){for(T=0,b=d.responseEnd,u+=1;u<o.length;u++){var M=o[u],Y=M.startTime;if(Y>b)break;var W=M.transferSize,tt=M.initiatorType;W&&zT(tt)&&(M=M.responseEnd,T+=W*(M<b?1:(b-Y)/(M-Y)))}if(--u,s+=8*(p+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var hp=null,fp=null;function qh(i){return i.nodeType===9?i:i.ownerDocument}function FT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function dp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mp=null;function II(){var i=window.event;return i&&i.type==="popstate"?i===mp?!1:(mp=i,!0):(mp=null,!1)}var HT=typeof setTimeout=="function"?setTimeout:void 0,DI=typeof clearTimeout=="function"?clearTimeout:void 0,GT=typeof Promise=="function"?Promise:void 0,MI=typeof queueMicrotask=="function"?queueMicrotask:typeof GT<"u"?function(i){return GT.resolve(null).then(i).catch(NI)}:HT;function NI(i){setTimeout(function(){throw i})}function ss(i){return i==="head"}function YT(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),xo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")pu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,pu(o);for(var p=o.firstChild;p;){var T=p.nextSibling,b=p.nodeName;p[Ri]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&pu(i.ownerDocument.body);o=d}while(o);xo(s)}function KT(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function pp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pp(o),qa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function VI(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ri])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function OI(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Kn(i.nextSibling),i===null))return null;return i}function QT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Kn(i.nextSibling),i===null))return null;return i}function gp(i){return i.data==="$?"||i.data==="$~"}function yp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function PI(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Kn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var vp=null;function XT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Kn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function $T(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function WT(i,s,o){switch(s=qh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function pu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);qa(i)}var Qn=new Map,ZT=new Set;function Hh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var vr=rt.d;rt.d={f:kI,r:LI,D:UI,C:jI,L:BI,m:zI,X:qI,S:FI,M:HI};function kI(){var i=vr.f(),s=Ph();return i||s}function LI(i){var s=Ln(i);s!==null&&s.tag===5&&s.type==="form"?p0(s):vr.r(i)}var Ao=typeof document>"u"?null:document;function JT(i,s,o){var u=Ao;if(u&&typeof s=="string"&&s){var d=pn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ZT.has(d)||(ZT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),We(s,"link",i),Ce(s),u.head.appendChild(s)))}}function UI(i){vr.D(i),JT("dns-prefetch",i,null)}function jI(i,s){vr.C(i,s),JT("preconnect",i,s)}function BI(i,s,o){vr.L(i,s,o);var u=Ao;if(u&&i&&s){var d='link[rel="preload"][as="'+pn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+pn(o.imageSizes)+'"]')):d+='[href="'+pn(i)+'"]';var p=d;switch(s){case"style":p=Ro(i);break;case"script":p=Co(i)}Qn.has(p)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Qn.set(p,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(gu(p))||s==="script"&&u.querySelector(yu(p))||(s=u.createElement("link"),We(s,"link",i),Ce(s),u.head.appendChild(s)))}}function zI(i,s){vr.m(i,s);var o=Ao;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(i)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Co(i)}if(!Qn.has(p)&&(i=_({rel:"modulepreload",href:i},s),Qn.set(p,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(p)))return}u=o.createElement("link"),We(u,"link",i),Ce(u),o.head.appendChild(u)}}}function FI(i,s,o){vr.S(i,s,o);var u=Ao;if(u&&i){var d=xi(u).hoistableStyles,p=Ro(i);s=s||"default";var T=d.get(p);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(gu(p)))b.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Qn.get(p))&&_p(i,o);var M=T=u.createElement("link");Ce(M),We(M,"link",i),M._p=new Promise(function(Y,W){M.onload=Y,M.onerror=W}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Gh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:b},d.set(p,T)}}}function qI(i,s){vr.X(i,s);var o=Ao;if(o&&i){var u=xi(o).hoistableScripts,d=Co(i),p=u.get(d);p||(p=o.querySelector(yu(d)),p||(i=_({src:i,async:!0},s),(s=Qn.get(d))&&Tp(i,s),p=o.createElement("script"),Ce(p),We(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function HI(i,s){vr.M(i,s);var o=Ao;if(o&&i){var u=xi(o).hoistableScripts,d=Co(i),p=u.get(d);p||(p=o.querySelector(yu(d)),p||(i=_({src:i,async:!0,type:"module"},s),(s=Qn.get(d))&&Tp(i,s),p=o.createElement("script"),Ce(p),We(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function tE(i,s,o,u){var d=(d=It.current)?Hh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ro(o.href),o=xi(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ro(o.href);var p=xi(d).hoistableStyles,T=p.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=d.querySelector(gu(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Qn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(i,o),p||GI(d,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(o),o=xi(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ro(i){return'href="'+pn(i)+'"'}function gu(i){return'link[rel="stylesheet"]['+i+"]"}function eE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function GI(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),We(s,"link",o),Ce(s),i.head.appendChild(s))}function Co(i){return'[src="'+pn(i)+'"]'}function yu(i){return"script[async]"+i}function nE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return s.instance=u,Ce(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ce(u),We(u,"style",d),Gh(u,o.precedence,i),s.instance=u;case"stylesheet":d=Ro(o.href);var p=i.querySelector(gu(d));if(p)return s.state.loading|=4,s.instance=p,Ce(p),p;u=eE(o),(d=Qn.get(d))&&_p(u,d),p=(i.ownerDocument||i).createElement("link"),Ce(p);var T=p;return T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),We(p,"link",u),s.state.loading|=4,Gh(p,o.precedence,i),s.instance=p;case"script":return p=Co(o.src),(d=i.querySelector(yu(p)))?(s.instance=d,Ce(d),d):(u=o,(d=Qn.get(p))&&(u=_({},o),Tp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Ce(d),We(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Gh(u,o.precedence,i));return s.instance}function Gh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===s)p=b;else if(p!==d)break}p?p.parentNode.insertBefore(i,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function _p(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Tp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Yh=null;function iE(i,s,o){if(Yh===null){var u=new Map,d=Yh=new Map;d.set(o,u)}else d=Yh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var p=o[d];if(!(p[Ri]||p[Re]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(s)||"";T=i+T;var b=u.get(T);b?b.push(p):u.set(T,[p])}}return u}function rE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function YI(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function sE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function KI(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Ro(u.href),p=s.querySelector(gu(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Kh.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=p,Ce(p);return}p=s.ownerDocument||s,u=eE(u),(d=Qn.get(d))&&_p(u,d),p=p.createElement("link"),Ce(p);var T=p;T._p=new Promise(function(b,M){T.onload=b,T.onerror=M}),We(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Kh.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Ep=0;function QI(i,s){return i.stylesheets&&i.count===0&&Xh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+s);0<i.imgBytes&&Ep===0&&(Ep=62500*xI());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>Ep?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qh=null;function Xh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qh=new Map,s.forEach(XI,i),Qh=null,Kh.call(i))}function XI(i,s){if(!(s.state.loading&4)){var o=Qh.get(i);if(o)var u=o.get(null);else{o=new Map,Qh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,d),o.set(T,d),this.count++,u=Kh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var vu={$$typeof:H,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function $I(i,s,o,u,d,p,T,b,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function aE(i,s,o,u,d,p,T,b,M,Y,W,tt){return i=new $I(i,s,o,T,M,Y,W,tt,b),s=1,p===!0&&(s|=24),p=Cn(3,null,null,s),i.current=p,p.stateNode=i,s=tm(),s.refCount++,i.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},rm(p),i}function oE(i){return i?(i=io,i):io}function lE(i,s,o,u,d,p){d=oE(d),u.context===null?u.context=d:u.pendingContext=d,u=Qr(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Xr(i,u,s),o!==null&&(En(o,i,s),$l(o,i,s))}function uE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Sp(i,s){uE(i,s),(i=i.alternate)&&uE(i,s)}function cE(i){if(i.tag===13||i.tag===31){var s=ta(i,67108864);s!==null&&En(s,i,67108864),Sp(i,67108864)}}function hE(i){if(i.tag===13||i.tag===31){var s=Nn();s=Fs(s);var o=ta(i,s);o!==null&&En(o,i,s),Sp(i,s)}}var $h=!0;function WI(i,s,o,u){var d=Z.T;Z.T=null;var p=rt.p;try{rt.p=2,bp(i,s,o,u)}finally{rt.p=p,Z.T=d}}function ZI(i,s,o,u){var d=Z.T;Z.T=null;var p=rt.p;try{rt.p=8,bp(i,s,o,u)}finally{rt.p=p,Z.T=d}}function bp(i,s,o,u){if($h){var d=wp(u);if(d===null)up(i,s,u,Wh,o),dE(i,u);else if(t2(d,i,s,o,u))u.stopPropagation();else if(dE(i,u),s&4&&-1<JI.indexOf(i)){for(;d!==null;){var p=Ln(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Si(p.pendingLanes);if(T!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var M=1<<31-ve(T);b.entanglements[1]|=M,T&=~M}zi(p),(Gt&6)===0&&(Vh=cn()+500,fu(0))}}break;case 31:case 13:b=ta(p,2),b!==null&&En(b,p,2),Ph(),Sp(p,2)}if(p=wp(u),p===null&&up(i,s,u,Wh,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else up(i,s,u,null,o)}}function wp(i){return i=Un(i),Ap(i)}var Wh=null;function Ap(i){if(Wh=null,i=Ci(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wh=i,null}function fE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Us()){case El:return 2;case Sl:return 8;case Vr:case Md:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var Rp=!1,as=null,os=null,ls=null,_u=new Map,Tu=new Map,us=[],JI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(i,s){switch(i){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":_u.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(s.pointerId)}}function Eu(i,s,o,u,d,p){return i===null||i.nativeEvent!==p?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Ln(s),s!==null&&cE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function t2(i,s,o,u,d){switch(s){case"focusin":return as=Eu(as,i,s,o,u,d),!0;case"dragenter":return os=Eu(os,i,s,o,u,d),!0;case"mouseover":return ls=Eu(ls,i,s,o,u,d),!0;case"pointerover":var p=d.pointerId;return _u.set(p,Eu(_u.get(p)||null,i,s,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Tu.set(p,Eu(Tu.get(p)||null,i,s,o,u,d)),!0}return!1}function mE(i){var s=Ci(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,ni(i.priority,function(){hE(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,ni(i.priority,function(){hE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=wp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ol=u,o.target.dispatchEvent(u),Ol=null}else return s=Ln(o),s!==null&&cE(s),i.blockedOn=o,!1;s.shift()}return!0}function pE(i,s,o){Zh(i)&&o.delete(s)}function e2(){Rp=!1,as!==null&&Zh(as)&&(as=null),os!==null&&Zh(os)&&(os=null),ls!==null&&Zh(ls)&&(ls=null),_u.forEach(pE),Tu.forEach(pE)}function Jh(i,s){i.blockedOn===s&&(i.blockedOn=null,Rp||(Rp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,e2)))}var tf=null;function gE(i){tf!==i&&(tf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){tf===i&&(tf=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Ap(u||o)===null)continue;break}var p=Ln(o);p!==null&&(i.splice(s,3),s-=3,wm(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function xo(i){function s(M){return Jh(M,i)}as!==null&&Jh(as,i),os!==null&&Jh(os,i),ls!==null&&Jh(ls,i),_u.forEach(s),Tu.forEach(s);for(var o=0;o<us.length;o++){var u=us[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<us.length&&(o=us[0],o.blockedOn===null);)mE(o),o.blockedOn===null&&us.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],T=d[Fe]||null;if(typeof p=="function")T||gE(o);else if(T){var b=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Fe]||null)b=T.formAction;else if(Ap(d)!==null)continue}else b=T.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),gE(o)}}}function yE(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Cp(i){this._internalRoot=i}ef.prototype.render=Cp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Nn();lE(o,u,i,s,null,null)},ef.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;lE(i.current,2,null,i,null,null),Ph(),s[Ai]=null}};function ef(i){this._internalRoot=i}ef.prototype.unstable_scheduleHydration=function(i){if(i){var s=Pc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<us.length&&s!==0&&s<us[o].priority;o++);us.splice(o,0,i),o===0&&mE(i)}};var vE=t.version;if(vE!=="19.2.3")throw Error(r(527,vE,"19.2.3"));rt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var n2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{ti=nf.inject(n2),Ye=nf}catch{}}return bu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=A0,p=R0,T=C0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=aE(i,1,!1,null,null,o,u,null,d,p,T,yE),i[Ai]=s.current,lp(i),new Cp(s)},bu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",p=A0,T=R0,b=C0,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),s=aE(i,1,!0,s,o??null,u,d,M,p,T,b,yE),s.context=oE(null),o=s.current,u=Nn(),u=Fs(u),d=Qr(u),d.callback=null,Xr(o,d,u),o=u,s.current.lanes=o,Bs(s,o),zi(s),i[Ai]=s.current,lp(i),new ef(s)},bu.version="19.2.3",bu}var xE;function d2(){if(xE)return Dp.exports;xE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dp.exports=f2(),Dp.exports}var m2=d2();const p2=Uw(m2);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IE="popstate";function g2(e={}){function t(a,l){let{pathname:c="/",search:f="",hash:m=""}=Ma(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),pg("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");f=g===-1?m:m.slice(0,g)}return f+"#"+(typeof l=="string"?l:Qu(l))}function r(a,l){Vn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return v2(t,n,r,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function y2(){return Math.random().toString(36).substring(2,10)}function DE(e,t){return{usr:e.state,key:e.key,idx:t}}function pg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ma(t):t,state:n,key:t&&t.key||r||y2()}}function Qu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ma(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function v2(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let V=y(),B=V==null?null:V-g;g=V,m&&m({action:f,location:N.location,delta:B})}function S(V,B){f="PUSH";let X=pg(N.location,V,B);n&&n(X,V),g=y()+1;let H=DE(X,g),at=N.createHref(X);try{c.pushState(H,"",at)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;a.location.assign(at)}l&&m&&m({action:f,location:N.location,delta:1})}function w(V,B){f="REPLACE";let X=pg(N.location,V,B);n&&n(X,V),g=y();let H=DE(X,g),at=N.createHref(X);c.replaceState(H,"",at),l&&m&&m({action:f,location:N.location,delta:0})}function I(V){return _2(V)}let N={get action(){return f},get location(){return e(a,c)},listen(V){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(IE,_),m=V,()=>{a.removeEventListener(IE,_),m=null}},createHref(V){return t(a,V)},createURL:I,encodeLocation(V){let B=I(V);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:w,go(V){return c.go(V)}};return N}function _2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Qu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jw(e,t,n="/"){return T2(e,t,n,!1)}function T2(e,t,n,r){let a=typeof t=="string"?Ma(t):t,l=Sr(a.pathname||"/",n);if(l==null)return null;let c=Bw(e);E2(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=N2(l);f=D2(c[m],g,r)}return f}function Bw(e,t=[],n=[],r="",a=!1){let l=(c,f,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;he(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=Er([r,y.relativePath]),S=n.concat(y);c.children&&c.children.length>0&&(he(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Bw(c.children,t,S,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:x2(_,c.index),routesMeta:S})};return e.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let g of zw(c.path))l(c,f,!0,g)}),t}function zw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=zw(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function E2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:I2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var S2=/^:[\w-]+$/,b2=3,w2=2,A2=1,R2=10,C2=-2,ME=e=>e==="*";function x2(e,t){let n=e.split("/"),r=n.length;return n.some(ME)&&(r+=C2),t&&(r+=w2),n.filter(a=>!ME(a)).reduce((a,l)=>a+(S2.test(l)?b2:l===""?A2:R2),r)}function I2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function D2(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],g=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Nf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),S=m.route;if(!_&&g&&n&&!r[r.length-1].route.index&&(_=Nf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Er([l,_.pathname]),pathnameBase:k2(Er([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Er([l,_.pathnameBase]))}return c}function Nf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=M2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:_},S)=>{if(y==="*"){let I=f[S]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const w=f[S];return _&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function M2(e,t=!1,n=!0){Vn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function N2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V2=e=>Fw.test(e);function O2(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ma(e):e,l;if(n)if(V2(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=NE(n.substring(1),"/"):l=NE(n,t)}else l=t;return{pathname:l,search:L2(r),hash:U2(a)}}function NE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Op(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gy(e){let t=P2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function yy(e,t,n,r=!1){let a;typeof e=="string"?a=Ma(e):(a={...e},he(!a.pathname||!a.pathname.includes("?"),Op("?","pathname","search",a)),he(!a.pathname||!a.pathname.includes("#"),Op("#","pathname","hash",a)),he(!a.search||!a.search.includes("#"),Op("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;a.pathname=S.join("/")}f=_>=0?t[_]:"/"}let m=O2(a,f),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Er=e=>e.join("/").replace(/\/\/+/g,"/"),k2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,j2=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function B2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function z2(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hw(e,t){let n=e;if(typeof n!="string"||!Fw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(qw)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Sr(c.pathname,t);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gw=["POST","PUT","PATCH","DELETE"];new Set(Gw);var F2=["GET",...Gw];new Set(F2);var rl=k.createContext(null);rl.displayName="DataRouter";var rd=k.createContext(null);rd.displayName="DataRouterState";var q2=k.createContext(!1),Yw=k.createContext({isTransitioning:!1});Yw.displayName="ViewTransition";var H2=k.createContext(new Map);H2.displayName="Fetchers";var G2=k.createContext(null);G2.displayName="Await";var Pn=k.createContext(null);Pn.displayName="Navigation";var fc=k.createContext(null);fc.displayName="Location";var Ji=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var vy=k.createContext(null);vy.displayName="RouteError";var Kw="REACT_ROUTER_ERROR",Y2="REDIRECT",K2="ROUTE_ERROR_RESPONSE";function Q2(e){if(e.startsWith(`${Kw}:${Y2}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function X2(e){if(e.startsWith(`${Kw}:${K2}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new j2(t.status,t.statusText,t.data)}catch{}}function $2(e,{relative:t}={}){he(sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Pn),{hash:a,pathname:l,search:c}=dc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Er([n,l])),r.createHref({pathname:f,search:c,hash:a})}function sl(){return k.useContext(fc)!=null}function Dr(){return he(sl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(fc).location}var Qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xw(e){k.useContext(Pn).static||k.useLayoutEffect(e)}function _y(){let{isDataRoute:e}=k.useContext(Ji);return e?uD():W2()}function W2(){he(sl(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(rl),{basename:t,navigator:n}=k.useContext(Pn),{matches:r}=k.useContext(Ji),{pathname:a}=Dr(),l=JSON.stringify(gy(r)),c=k.useRef(!1);return Xw(()=>{c.current=!0}),k.useCallback((m,g={})=>{if(Vn(c.current,Qw),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=yy(m,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Er([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}k.createContext(null);function dc(e,{relative:t}={}){let{matches:n}=k.useContext(Ji),{pathname:r}=Dr(),a=JSON.stringify(gy(n));return k.useMemo(()=>yy(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function Z2(e,t){return $w(e,t)}function $w(e,t,n,r,a){var X;he(sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(Pn),{matches:c}=k.useContext(Ji),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let H=_&&_.path||"";Zw(g,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=Dr(),w;if(t){let H=typeof t=="string"?Ma(t):t;he(y==="/"||((X=H.pathname)==null?void 0:X.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),w=H}else w=S;let I=w.pathname||"/",N=I;if(y!=="/"){let H=y.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let V=jw(e,{pathname:N});Vn(_||V!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Vn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=iD(V&&V.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:Er([y,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Er([y,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,n,r,a);return t&&B?k.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},B):B}function J2(){let e=lD(),t=B2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:a},n):null,c)}var tD=k.createElement(J2,null),Ww=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=X2(e.digest);n&&(e=n)}let t=e!==void 0?k.createElement(Ji.Provider,{value:this.props.routeContext},k.createElement(vy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?k.createElement(eD,{error:e},t):t}};Ww.contextType=q2;var Pp=new WeakMap;function eD({children:e,error:t}){let{basename:n}=k.useContext(Pn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Q2(t.digest);if(r){let a=Pp.get(t);if(a)throw a;let l=Hw(r.location,n);if(qw&&!Pp.get(t))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Pp.set(t,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function nD({routeContext:e,match:t,children:n}){let r=k.useContext(rl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Ji.Provider,{value:e},n)}function iD(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);he(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:S,errors:w}=n,I=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||I){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&r?(y,_)=>{var S,w;r(y,{location:n.location,params:((w=(S=n.matches)==null?void 0:S[0])==null?void 0:w.params)??{},unstable_pattern:z2(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,S)=>{let w,I=!1,N=null,V=null;n&&(w=c&&_.route.id?c[_.route.id]:void 0,N=_.route.errorElement||tD,f&&(m<0&&S===0?(Zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,V=null):m===S&&(I=!0,V=_.route.hydrateFallbackElement||null)));let B=t.concat(l.slice(0,S+1)),X=()=>{let H;return w?H=N:I?H=V:_.route.Component?H=k.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=y,k.createElement(nD,{match:_,routeContext:{outlet:y,matches:B,isDataRoute:n!=null},children:H})};return n&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?k.createElement(Ww,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:X(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:g}):X()},null)}function Ty(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rD(e){let t=k.useContext(rl);return he(t,Ty(e)),t}function sD(e){let t=k.useContext(rd);return he(t,Ty(e)),t}function aD(e){let t=k.useContext(Ji);return he(t,Ty(e)),t}function Ey(e){let t=aD(e),n=t.matches[t.matches.length-1];return he(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function oD(){return Ey("useRouteId")}function lD(){var r;let e=k.useContext(vy),t=sD("useRouteError"),n=Ey("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function uD(){let{router:e}=rD("useNavigate"),t=Ey("useNavigate"),n=k.useRef(!1);return Xw(()=>{n.current=!0}),k.useCallback(async(a,l={})=>{Vn(n.current,Qw),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var VE={};function Zw(e,t,n){!t&&!VE[e]&&(VE[e]=!0,Vn(!1,n))}k.memo(cD);function cD({routes:e,future:t,state:n,onError:r}){return $w(e,void 0,n,r,t)}function Jw({to:e,replace:t,state:n,relative:r}){he(sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(Pn);Vn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=k.useContext(Ji),{pathname:c}=Dr(),f=_y(),m=yy(e,gy(l),c,r==="path"),g=JSON.stringify(m);return k.useEffect(()=>{f(JSON.parse(g),{replace:t,state:n,relative:r})},[f,g,r,t,n]),null}function Iu(e){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){he(!sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=Ma(n));let{pathname:g="/",search:y="",hash:_="",state:S=null,key:w="default"}=n,I=k.useMemo(()=>{let N=Sr(g,f);return N==null?null:{location:{pathname:N,search:y,hash:_,state:S,key:w},navigationType:r}},[f,g,y,_,S,w,r]);return Vn(I!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:k.createElement(Pn.Provider,{value:m},k.createElement(fc.Provider,{children:t,value:I}))}function fD({children:e,location:t}){return Z2(gg(e),t)}function gg(e,t=[]){let n=[];return k.Children.forEach(e,(r,a)=>{if(!k.isValidElement(r))return;let l=[...t,a];if(r.type===k.Fragment){n.push.apply(n,gg(r.props.children,l));return}he(r.type===Iu,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=gg(r.props.children,l)),n.push(c)}),n}var gf="get",yf="application/x-www-form-urlencoded";function sd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function dD(e){return sd(e)&&e.tagName.toLowerCase()==="button"}function mD(e){return sd(e)&&e.tagName.toLowerCase()==="form"}function pD(e){return sd(e)&&e.tagName.toLowerCase()==="input"}function gD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yD(e,t){return e.button===0&&(!t||t==="_self")&&!gD(e)}var rf=null;function vD(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var _D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(e){return e!=null&&!_D.has(e)?(Vn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):e}function TD(e,t){let n,r,a,l,c;if(mD(e)){let f=e.getAttribute("action");r=f?Sr(f,t):null,n=e.getAttribute("method")||gf,a=kp(e.getAttribute("enctype"))||yf,l=new FormData(e)}else if(dD(e)||pD(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?Sr(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||gf,a=kp(e.getAttribute("formenctype"))||kp(f.getAttribute("enctype"))||yf,l=new FormData(f,e),!vD()){let{name:g,type:y,value:_}=e;if(y==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(sd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,r=null,a=yf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ED(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Sr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function SD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wD(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await SD(l,n);return c.links?c.links():[]}return[]}));return xD(r.flat(1).filter(bD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function OE(e,t,n,r,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>{var y;return n[g].pathname!==m.pathname||((y=n[g].route.path)==null?void 0:y.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?t.filter((m,g)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function AD(e,t,{includeHydrateFallback:n}={}){return RD(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function RD(e){return[...new Set(e)]}function CD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function xD(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(CD(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function tA(){let e=k.useContext(rl);return Sy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ID(){let e=k.useContext(rd);return Sy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var by=k.createContext(void 0);by.displayName="FrameworkContext";function eA(){let e=k.useContext(by);return Sy(e,"You must render this element inside a <HydratedRouter> element"),e}function DD(e,t){let n=k.useContext(by),[r,a]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,S=k.useRef(null);k.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=B=>{B.forEach(X=>{c(X.isIntersecting)})},V=new IntersectionObserver(N,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[e]),k.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,S,{}]:[l,S,{onFocus:wu(f,w),onBlur:wu(m,I),onMouseEnter:wu(g,w),onMouseLeave:wu(y,I),onTouchStart:wu(_,w)}]:[!1,S,{}]}function wu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function MD({page:e,...t}){let{router:n}=tA(),r=k.useMemo(()=>jw(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?k.createElement(VD,{page:e,matches:r,...t}):null}function ND(e){let{manifest:t,routeModules:n}=eA(),[r,a]=k.useState([]);return k.useEffect(()=>{let l=!1;return wD(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function VD({page:e,matches:t,...n}){let r=Dr(),{manifest:a,routeModules:l}=eA(),{basename:c}=tA(),{loaderData:f,matches:m}=ID(),g=k.useMemo(()=>OE(e,t,m,a,r,"data"),[e,t,m,a,r]),y=k.useMemo(()=>OE(e,t,m,a,r,"assets"),[e,t,m,a,r]),_=k.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let I=new Set,N=!1;if(t.forEach(B=>{var H;let X=a.routes[B.route.id];!X||!X.hasLoader||(!g.some(at=>at.route.id===B.route.id)&&B.route.id in f&&((H=l[B.route.id])!=null&&H.shouldRevalidate)||X.hasClientLoader?N=!0:I.add(B.route.id))}),I.size===0)return[];let V=ED(e,c,"data");return N&&I.size>0&&V.searchParams.set("_routes",t.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[V.pathname+V.search]},[c,f,r,a,g,t,e,l]),S=k.useMemo(()=>AD(y,a),[y,a]),w=ND(y);return k.createElement(k.Fragment,null,_.map(I=>k.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),S.map(I=>k.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),w.map(({key:I,link:N})=>k.createElement("link",{key:I,nonce:n.nonce,...N})))}function OD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var PD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PD&&(window.__reactRouterVersion="7.11.0")}catch{}function kD({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=k.useRef();a.current==null&&(a.current=g2({window:r,v5Compat:!0}));let l=a.current,[c,f]=k.useState({action:l.action,location:l.location}),m=k.useCallback(g=>{n===!1?f(g):k.startTransition(()=>f(g))},[n]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.createElement(hD,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oo=k.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...w},I){let{basename:N,unstable_useTransitions:V}=k.useContext(Pn),B=typeof g=="string"&&nA.test(g),X=Hw(g,N);g=X.to;let H=$2(g,{relative:a}),[at,st,lt]=DD(r,w),C=BD(g,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:S,unstable_useTransitions:V});function R(O){t&&t(O),O.defaultPrevented||C(O)}let x=k.createElement("a",{...w,...lt,href:X.absoluteURL||H,onClick:X.isExternal||l?t:R,ref:OD(I,st),target:m,"data-discover":!B&&n==="render"?"true":void 0});return at&&!B?k.createElement(k.Fragment,null,x,k.createElement(MD,{page:H})):x});Oo.displayName="Link";var LD=k.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},y){let _=dc(c,{relative:g.relative}),S=Dr(),w=k.useContext(rd),{navigator:I,basename:N}=k.useContext(Pn),V=w!=null&&GD(_)&&f===!0,B=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,X=S.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(X=X.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&N&&(H=Sr(H,N)||H);const at=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let st=X===B||!a&&X.startsWith(B)&&X.charAt(at)==="/",lt=H!=null&&(H===B||!a&&H.startsWith(B)&&H.charAt(B.length)==="/"),C={isActive:st,isPending:lt,isTransitioning:V},R=st?t:void 0,x;typeof r=="function"?x=r(C):x=[r,st?"active":null,lt?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(C):l;return k.createElement(Oo,{...g,"aria-current":R,className:x,ref:y,style:O,to:c,viewTransition:f},typeof m=="function"?m(C):m)});LD.displayName="NavLink";var UD=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=gf,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S,...w},I)=>{let{unstable_useTransitions:N}=k.useContext(Pn),V=qD(),B=HD(f,{relative:g}),X=c.toLowerCase()==="get"?"get":"post",H=typeof f=="string"&&nA.test(f),at=st=>{if(m&&m(st),st.defaultPrevented)return;st.preventDefault();let lt=st.nativeEvent.submitter,C=(lt==null?void 0:lt.getAttribute("formmethod"))||c,R=()=>V(lt||st.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:S});N&&n!==!1?k.startTransition(()=>R()):R()};return k.createElement("form",{ref:I,method:X,action:B,onSubmit:r?m:at,...w,"data-discover":!H&&e==="render"?"true":void 0})});UD.displayName="Form";function jD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(e){let t=k.useContext(rl);return he(t,jD(e)),t}function BD(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let g=_y(),y=Dr(),_=dc(e,{relative:l});return k.useCallback(S=>{if(yD(S,t)){S.preventDefault();let w=n!==void 0?n:Qu(y)===Qu(_),I=()=>g(e,{replace:w,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?k.startTransition(()=>I()):I()}},[y,g,_,n,r,t,e,a,l,c,f,m])}var zD=0,FD=()=>`__${String(++zD)}__`;function qD(){let{router:e}=iA("useSubmit"),{basename:t}=k.useContext(Pn),n=oD(),r=e.fetch,a=e.navigate;return k.useCallback(async(l,c={})=>{let{action:f,method:m,encType:g,formData:y,body:_}=TD(l,t);if(c.navigate===!1){let S=c.fetcherKey||FD();await r(S,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function HD(e,{relative:t}={}){let{basename:n}=k.useContext(Pn),r=k.useContext(Ji);he(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...dc(e||".",{relative:t})},c=Dr();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Er([n,l.pathname])),Qu(l)}function GD(e,{relative:t}={}){let n=k.useContext(Yw);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iA("useViewTransitionState"),a=dc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nf(a.pathname,c)!=null||Nf(a.pathname,l)!=null}const YD=()=>{};var PE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},KD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},sA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let S=(f&15)<<2|g>>6,w=g&63;m||(w=64,c||(S=64)),r.push(n[y],n[_],n[S],n[w])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):KD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||g==null||_==null)throw new QD;const S=l<<2|f>>4;if(r.push(S),g!==64){const w=f<<4&240|g>>2;if(r.push(w),_!==64){const I=g<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class QD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XD=function(e){const t=rA(e);return sA.encodeByteArray(t,!0)},Vf=function(e){return XD(e).replace(/\./g,"")},aA=function(e){try{return sA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=()=>$D().__FIREBASE_DEFAULTS__,ZD=()=>{if(typeof process>"u"||typeof PE>"u")return;const e=PE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},JD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&aA(e[1]);return t&&JSON.parse(t)},ad=()=>{try{return YD()||WD()||ZD()||JD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},oA=e=>{var t,n;return(n=(t=ad())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},tM=e=>{const t=oA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},lA=()=>{var e;return(e=ad())==null?void 0:e.config},uA=e=>{var t;return(t=ad())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cA(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Vf(JSON.stringify(n)),Vf(JSON.stringify(c)),""].join(".")}const Lu={};function iM(){const e={prod:[],emulator:[]};for(const t of Object.keys(Lu))Lu[t]?e.emulator.push(t):e.prod.push(t);return e}function rM(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let kE=!1;function hA(e,t){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Lu[e]===t||Lu[e]||kE)return;Lu[e]=t;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",l=iM().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{kE=!0,c()},S}function y(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=rM(r),w=n("text"),I=document.getElementById(w)||document.createElement("span"),N=n("learnmore"),V=document.getElementById(N)||document.createElement("a"),B=n("preprendIcon"),X=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;f(H),y(V,N);const at=g();m(X,B),H.append(X,I,V,at),document.body.appendChild(H)}l?(I.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function aM(){var t;const e=(t=ad())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lM(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function uM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cM(){const e=ln();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hM(){return!aM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fM(){try{return typeof indexedDB=="object"}catch{return!1}}function dM(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)==null?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="FirebaseError";class Mr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=mM,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?pM(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Mr(a,f,r)}}function pM(e,t){return e.replace(gM,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const gM=/\{\$([^}]+)}/g;function yM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Aa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(LE(l)&&LE(c)){if(!Aa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function LE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Du(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Mu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vM(e,t){const n=new _M(e,t);return n.subscribe.bind(n)}class _M{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TM(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Lp),a.error===void 0&&(a.error=Lp),a.complete===void 0&&(a.complete=Lp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){return e&&e._delegate?e._delegate:e}class Ra{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new eM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bM(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SM(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SM(e){return e===pa?void 0:e}function bM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new EM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const AM={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},RM=kt.INFO,CM={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},xM=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=CM[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wy{constructor(t){this.name=t,this._logLevel=RM,this._logHandler=xM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const IM=(e,t)=>t.some(n=>e instanceof n);let UE,jE;function DM(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MM(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fA=new WeakMap,yg=new WeakMap,dA=new WeakMap,Up=new WeakMap,Ay=new WeakMap;function NM(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(_s(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&fA.set(n,e)}).catch(()=>{}),Ay.set(t,e),t}function VM(e){if(yg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});yg.set(e,t)}let vg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return yg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||dA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function OM(e){vg=e(vg)}function PM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(jp(this),t,...n);return dA.set(r,t.sort?t.sort():[t]),_s(r)}:MM().includes(e)?function(...t){return e.apply(jp(this),t),_s(fA.get(this))}:function(...t){return _s(e.apply(jp(this),t))}}function kM(e){return typeof e=="function"?PM(e):(e instanceof IDBTransaction&&VM(e),IM(e,DM())?new Proxy(e,vg):e)}function _s(e){if(e instanceof IDBRequest)return NM(e);if(Up.has(e))return Up.get(e);const t=kM(e);return t!==e&&(Up.set(e,t),Ay.set(t,e)),t}const jp=e=>Ay.get(e);function LM(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=_s(c);return r&&c.addEventListener("upgradeneeded",m=>{r(_s(c.result),m.oldVersion,m.newVersion,_s(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const UM=["get","getKey","getAll","getAllKeys","count"],jM=["put","add","delete","clear"],Bp=new Map;function BE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bp.get(t))return Bp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=jM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||UM.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return Bp.set(t,l),l}OM(e=>({...e,get:(t,n,r)=>BE(t,n)||e.get(t,n,r),has:(t,n)=>!!BE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _g="@firebase/app",zE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new wy("@firebase/app"),FM="@firebase/app-compat",qM="@firebase/analytics-compat",HM="@firebase/analytics",GM="@firebase/app-check-compat",YM="@firebase/app-check",KM="@firebase/auth",QM="@firebase/auth-compat",XM="@firebase/database",$M="@firebase/data-connect",WM="@firebase/database-compat",ZM="@firebase/functions",JM="@firebase/functions-compat",tN="@firebase/installations",eN="@firebase/installations-compat",nN="@firebase/messaging",iN="@firebase/messaging-compat",rN="@firebase/performance",sN="@firebase/performance-compat",aN="@firebase/remote-config",oN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",hN="@firebase/ai",fN="@firebase/firestore-compat",dN="firebase",mN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",pN={[_g]:"fire-core",[FM]:"fire-core-compat",[HM]:"fire-analytics",[qM]:"fire-analytics-compat",[YM]:"fire-app-check",[GM]:"fire-app-check-compat",[KM]:"fire-auth",[QM]:"fire-auth-compat",[XM]:"fire-rtdb",[$M]:"fire-data-connect",[WM]:"fire-rtdb-compat",[ZM]:"fire-fn",[JM]:"fire-fn-compat",[tN]:"fire-iid",[eN]:"fire-iid-compat",[nN]:"fire-fcm",[iN]:"fire-fcm-compat",[rN]:"fire-perf",[sN]:"fire-perf-compat",[aN]:"fire-rc",[oN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[fN]:"fire-fst-compat",[hN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,gN=new Map,Eg=new Map;function FE(e,t){try{e.container.addComponent(t)}catch(n){br.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Qo(e){const t=e.name;if(Eg.has(t))return br.debug(`There were multiple attempts to register component ${t}.`),!1;Eg.set(t,e);for(const n of Of.values())FE(n,e);for(const n of gN.values())FE(n,e);return!0}function Ry(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function mi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new mc("app","Firebase",yN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=mN;function mA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Tg,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Ts.create("bad-app-name",{appName:String(a)});if(n||(n=lA()),!n)throw Ts.create("no-options");const l=Of.get(a);if(l){if(Aa(n,l.options)&&Aa(r,l.config))return l;throw Ts.create("duplicate-app",{appName:a})}const c=new wM(a);for(const m of Eg.values())c.addComponent(m);const f=new vN(n,r,c);return Of.set(a,f),f}function pA(e=Tg){const t=Of.get(e);if(!t&&e===Tg&&lA())return mA();if(!t)throw Ts.create("no-app",{appName:e});return t}function Es(e,t,n){let r=pN[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),br.warn(c.join(" "));return}Qo(new Ra(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-heartbeat-database",TN=1,Xu="firebase-heartbeat-store";let zp=null;function gA(){return zp||(zp=LM(_N,TN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ts.create("idb-open",{originalErrorMessage:e.message})})),zp}async function EN(e){try{const n=(await gA()).transaction(Xu),r=await n.objectStore(Xu).get(yA(e));return await n.done,r}catch(t){if(t instanceof Mr)br.warn(t.message);else{const n=Ts.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});br.warn(n.message)}}}async function qE(e,t){try{const r=(await gA()).transaction(Xu,"readwrite");await r.objectStore(Xu).put(t,yA(e)),await r.done}catch(n){if(n instanceof Mr)br.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function yA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=1024,bN=30;class wN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=HE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>bN){const c=CN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){br.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=HE(),{heartbeatsToSend:r,unsentEntries:a}=AN(this._heartbeatsCache.heartbeats),l=Vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return br.warn(n),""}}}function HE(){return new Date().toISOString().substring(0,10)}function AN(e,t=SN){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),GE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),GE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fM()?dM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return qE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return qE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function GE(e){return Vf(JSON.stringify({version:2,heartbeats:e})).length}function CN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e){Qo(new Ra("platform-logger",t=>new BM(t),"PRIVATE")),Qo(new Ra("heartbeat",t=>new wN(t),"PRIVATE")),Es(_g,zE,e),Es(_g,zE,"esm2020"),Es("fire-js","")}xN("");function vA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IN=vA,_A=new mc("auth","Firebase",vA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new wy("@firebase/auth");function DN(e,...t){Pf.logLevel<=kt.WARN&&Pf.warn(`Auth (${ol}): ${e}`,...t)}function vf(e,...t){Pf.logLevel<=kt.ERROR&&Pf.error(`Auth (${ol}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e,...t){throw Cy(e,...t)}function qi(e,...t){return Cy(e,...t)}function TA(e,t,n){const r={...IN(),[t]:n};return new mc("auth","Firebase",r).create(t,{appName:e.name})}function Ss(e){return TA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return _A.create(e,...t)}function _t(e,t,...n){if(!e)throw Cy(t,...n)}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vf(t),new Error(t)}function wr(e,t){e||_r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function MN(){return YE()==="http:"||YE()==="https:"}function YE(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MN()||lM()||"connection"in navigator)?navigator.onLine:!0}function VN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){this.shortDelay=t,this.longDelay=n,wr(n>t,"Short delay should be less than long delay!"),this.isMobile=sM()||uM()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e,t){wr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kN=new gc(3e4,6e4);function Na(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Os(e,t,n,r,a={}){return SA(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=pc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return oM()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&al(e.emulatorConfig.host)&&(g.credentials="include"),EA.fetch()(await bA(e,e.config.apiHost,n,f),g)})}async function SA(e,t,n){e._canInitEmulator=!1;const r={...ON,...t};try{const a=new UN(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw sf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw sf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw sf(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw TA(e,y,g);vi(e,y)}}catch(a){if(a instanceof Mr)throw a;vi(e,"network-request-failed",{message:String(a)})}}async function od(e,t,n,r,a={}){const l=await Os(e,t,n,r,a);return"mfaPendingCredential"in l&&vi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function bA(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?xy(e.config,a):`${e.config.apiScheme}://${a}`;return PN.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function LN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),kN.get())})}}function sf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=qi(e,t,r);return a.customData._tokenResponse=n,a}function KE(e){return e!==void 0&&e.enterprise!==void 0}class jN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return LN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BN(e,t){return Os(e,"GET","/v2/recaptchaConfig",Na(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(e,t){return Os(e,"POST","/v1/accounts:delete",t)}async function kf(e,t){return Os(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FN(e,t=!1){const n=un(e),r=await n.getIdToken(t),a=Iy(r);_t(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Uu(Fp(a.auth_time)),issuedAtTime:Uu(Fp(a.iat)),expirationTime:Uu(Fp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Fp(e){return Number(e)*1e3}function Iy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=aA(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function QE(e){const t=Iy(e);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Mr&&qN(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function qN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(e){var _;const t=e.auth,n=await e.getIdToken(),r=await $u(e,kf(t,{idToken:n}));_t(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?wA(a.providerUserInfo):[],c=YN(e.providerData,l),f=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new bg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function GN(e){const t=un(e);await Lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function YN(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function wA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(e,t){const n=await SA(e,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await bA(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return e.emulatorConfig&&al(e.emulatorConfig.host)&&(m.credentials="include"),EA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QN(e,t){return Os(e,"POST","/v2/accounts:revokeToken",Na(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):QE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=QE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await KN(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Fo;return r&&(_t(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(_t(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(_t(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,t){_t(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new bg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await $u(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return FN(this,t)}reload(){return GN(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(Ss(this.auth));const t=await this.getIdToken();return await $u(this,zN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:w,providerData:I,stsTokenManager:N}=n;_t(_&&N,t,"internal-error");const V=Fo.fromJSON(this.name,N);_t(typeof _=="string",t,"internal-error"),hs(r,t.name),hs(a,t.name),_t(typeof S=="boolean",t,"internal-error"),_t(typeof w=="boolean",t,"internal-error"),hs(l,t.name),hs(c,t.name),hs(f,t.name),hs(m,t.name),hs(g,t.name),hs(y,t.name);const B=new pi({uid:_,auth:t,email:a,emailVerified:S,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:V,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(B.providerData=I.map(X=>({...X}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(t,n,r=!1){const a=new Fo;a.updateFromServerResponse(n);const l=new pi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Lf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];_t(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?wA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Fo;f.updateFromIdToken(r);const m=new pi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function Tr(e){wr(e instanceof Function,"Expected a class definition");let t=XE.get(e);return t?(wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,XE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}AA.type="NONE";const $E=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(e,t,n){return`firebase:${e}:${t}:${n}`}class qo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=_f(this.userKey,a.apiKey,l),this.fullPersistenceKey=_f("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await kf(this.auth,{idToken:t}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new qo(Tr($E),t,r);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Tr($E);const c=_f(r,t.config.apiKey,t.name);let f=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const S=await kf(t,{idToken:y}).catch(()=>{});if(!S)break;_=await pi._fromGetAccountInfoResponse(t,S,y)}else _=pi._fromJSON(t,y);g!==l&&(f=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new qo(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new qo(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MA(t))return"Blackberry";if(NA(t))return"Webos";if(CA(t))return"Safari";if((t.includes("chrome/")||xA(t))&&!t.includes("edge/"))return"Chrome";if(DA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RA(e=ln()){return/firefox\//i.test(e)}function CA(e=ln()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xA(e=ln()){return/crios\//i.test(e)}function IA(e=ln()){return/iemobile/i.test(e)}function DA(e=ln()){return/android/i.test(e)}function MA(e=ln()){return/blackberry/i.test(e)}function NA(e=ln()){return/webos/i.test(e)}function Dy(e=ln()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function XN(e=ln()){var t;return Dy(e)&&!!((t=window.navigator)!=null&&t.standalone)}function $N(){return cM()&&document.documentMode===10}function VA(e=ln()){return Dy(e)||DA(e)||NA(e)||MA(e)||/windows phone/i.test(e)||IA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(e,t=[]){let n;switch(e){case"Browser":n=WE(ln());break;case"Worker":n=`${WE(ln())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(e,t={}){return Os(e,"GET","/v2/passwordPolicy",Na(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class tV{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZE(this),this.idTokenSubscription=new ZE(this),this.beforeStateQueue=new WN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await qo.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await kf(this,{idToken:t}),r=await pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var l;if(mi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(r=m.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(mi(this.app))return Promise.reject(Ss(this));const n=t?un(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return mi(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZN(this),n=new tV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QN(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Tr(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=OA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&DN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ll(e){return un(e)}class ZE{constructor(t){this.auth=t,this.observer=null,this.addObserver=vM(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nV(e){ld=e}function PA(e){return ld.loadJS(e)}function iV(){return ld.recaptchaEnterpriseScript}function rV(){return ld.gapiScript}function sV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class aV{constructor(){this.enterprise=new oV}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class oV{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const lV="recaptcha-enterprise",kA="NO_RECAPTCHA";class uV{constructor(t){this.type=lV,this.auth=ll(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{BN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new jN(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;KE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(g=>{c(g)}).catch(()=>{c(kA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&KE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=iV();m.length!==0&&(m+=f),PA(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function JE(e,t,n,r=!1,a=!1){const l=new uV(e);let c;if(a)c=kA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function tS(e,t,n,r,a){var l;if((l=e._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await JE(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await JE(e,t,n,n==="getOobCode");return r(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(e,t){const n=Ry(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Aa(l,t??{}))return a;vi(a,"already-initialized")}return n.initialize({options:t})}function hV(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function fV(e,t,n){const r=ll(e);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=LA(t),{host:c,port:f}=dV(t),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Aa(g,r.config.emulator)&&Aa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,al(c)?(cA(`${l}//${c}${m}`),hA("Auth",!0)):mV()}function LA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dV(e){const t=LA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:eS(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:eS(c)}}}function eS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function mV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(t){return _r("not implemented")}_linkToIdToken(t,n){return _r("not implemented")}_getReauthenticationResolver(t){return _r("not implemented")}}async function pV(e,t){return Os(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(e,t){return od(e,"POST","/v1/accounts:signInWithPassword",Na(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(e,t){return od(e,"POST","/v1/accounts:signInWithEmailLink",Na(e,t))}async function vV(e,t){return od(e,"POST","/v1/accounts:signInWithEmailLink",Na(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends My{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Wu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Wu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tS(t,n,"signInWithPassword",gV);case"emailLink":return yV(t,{email:this._email,oobCode:this._password});default:vi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tS(t,r,"signUpPassword",pV);case"emailLink":return vV(t,{idToken:n,email:this._email,oobCode:this._password});default:vi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(e,t){return od(e,"POST","/v1/accounts:signInWithIdp",Na(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="http://localhost";class Ca extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new Ca(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Ho(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ho(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ho(t,n)}buildRequest(){const t={requestUri:_V,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EV(e){const t=Du(Mu(e)).link,n=t?Du(Mu(t)).deep_link_id:null,r=Du(Mu(e)).deep_link_id;return(r?Du(Mu(r)).link:null)||r||n||t||e}class Ny{constructor(t){const n=Du(Mu(t)),r=n.apiKey??null,a=n.oobCode??null,l=TV(n.mode??null);_t(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=EV(t);try{return new Ny(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(t,n){return Wu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Ny.parseLink(n);return _t(r,"argument-error"),Wu._fromEmailAndCode(t,r.code,r.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends UA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends yc{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ms.credential(t.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ca._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ps.credentialFromTaggedObject(t)}static credentialFromError(t){return ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends yc{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends yc{constructor(){super("twitter.com")}static credential(t,n){return Ca._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await pi._fromIdTokenResponse(t,r,a),c=nS(r);return new Xo({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=nS(r);return new Xo({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function nS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends Mr{constructor(t,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Uf(t,n,r,a)}}function jA(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(e,l,t,r):l})}async function SV(e,t,n=!1){const r=await $u(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xo._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(e,t,n=!1){const{auth:r}=e;if(mi(r.app))return Promise.reject(Ss(r));const a="reauthenticate";try{const l=await $u(e,jA(r,a,t,e),n);_t(l.idToken,r,"internal-error");const c=Iy(l.idToken);_t(c,r,"internal-error");const{sub:f}=c;return _t(e.uid===f,r,"user-mismatch"),Xo._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&vi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(e,t,n=!1){if(mi(e.app))return Promise.reject(Ss(e));const r="signIn",a=await jA(e,r,t),l=await Xo._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function wV(e,t){return BA(ll(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(e){const t=ll(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function RV(e,t,n){return mi(e.app)?Promise.reject(Ss(e)):wV(un(e),ul.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AV(e),r})}function CV(e,t,n,r){return un(e).onIdTokenChanged(t,n,r)}function xV(e,t,n){return un(e).beforeAuthStateChanged(t,n)}function IV(e,t,n,r){return un(e).onAuthStateChanged(t,n,r)}function DV(e){return un(e).signOut()}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1e3,NV=10;class FA extends zA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);$N()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,NV):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},MV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}FA.type="LOCAL";const VV=FA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA extends zA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}qA.type="SESSION";const HA=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new ud(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async g=>g(n.origin,l)),m=await OV(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=Vy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function kV(e){Hi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function LV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UV(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function jV(){return GA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebaseLocalStorageDb",BV=1,Bf="firebaseLocalStorage",KA="fbase_key";class vc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cd(e,t){return e.transaction([Bf],t?"readwrite":"readonly").objectStore(Bf)}function zV(){const e=indexedDB.deleteDatabase(YA);return new vc(e).toPromise()}function wg(){const e=indexedDB.open(YA,BV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Bf,{keyPath:KA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Bf)?t(r):(r.close(),await zV(),t(await wg()))})})}async function iS(e,t,n){const r=cd(e,!0).put({[KA]:t,value:n});return new vc(r).toPromise()}async function FV(e,t){const n=cd(e,!1).get(t),r=await new vc(n).toPromise();return r===void 0?null:r.value}function rS(e,t){const n=cd(e,!0).delete(t);return new vc(n).toPromise()}const qV=800,HV=3;class QA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>HV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(jV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await LV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wg();return await iS(t,jf,"1"),await rS(t,jf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iS(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>FV(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>rS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=cd(a,!1).getAll();return new vc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QA.type="LOCAL";const GV=QA;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(e,t){return t?Tr(t):(_t(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends My{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ho(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ho(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ho(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function KV(e){return BA(e.auth,new Oy(e),e.bypassAuthState)}function QV(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),bV(n,new Oy(e),e.bypassAuthState)}async function XV(e){const{auth:t,user:n}=e;return _t(n,t,"internal-error"),SV(n,new Oy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KV;case"linkViaPopup":case"linkViaRedirect":return XV;case"reauthViaPopup":case"reauthViaRedirect":return QV;default:vi(this.auth,"internal-error")}}resolve(t){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new gc(2e3,1e4);class Po extends XA{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const t=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$V.get())};t()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="pendingRedirect",Tf=new Map;class ZV extends XA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Tf.get(this.auth._key());if(!t){try{const r=await JV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Tf.set(this.auth._key(),t)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JV(e,t){const n=nO(t),r=eO(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function tO(e,t){Tf.set(e._key(),t)}function eO(e){return Tr(e._redirectPersistence)}function nO(e){return _f(WV,e.config.apiKey,e.name)}async function iO(e,t,n=!1){if(mi(e.app))return Promise.reject(Ss(e));const r=ll(e),a=YV(r,t),c=await new ZV(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=600*1e3;class sO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!$A(t)){const a=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rO&&this.cachedEventUids.clear(),this.cachedEventUids.has(sS(t))}saveEventToCache(t){this.cachedEventUids.add(sS(t)),this.lastProcessedEventTime=Date.now()}}function sS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function $A({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function aO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $A(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(e,t={}){return Os(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uO=/^https?/;async function cO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await oO(e);for(const n of t)try{if(hO(n))return}catch{}vi(e,"unauthorized-domain")}function hO(e){const t=Sg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!uO.test(n))return!1;if(lO.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new gc(3e4,6e4);function aS(){const e=Hi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function dO(e){return new Promise((t,n)=>{var a,l,c;function r(){aS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aS(),n(qi(e,"network-request-failed"))},timeout:fO.get()})}if((l=(a=Hi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)t(gapi.iframes.getContext());else if((c=Hi().gapi)!=null&&c.load)r();else{const f=sV("iframefcb");return Hi()[f]=()=>{gapi.load?r():n(qi(e,"network-request-failed"))},PA(`${rV()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw Ef=null,t})}let Ef=null;function mO(e){return Ef=Ef||dO(e),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new gc(5e3,15e3),gO="__/auth/iframe",yO="emulator/auth/iframe",vO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TO(e){const t=e.config;_t(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?xy(t,yO):`https://${e.config.authDomain}/${gO}`,r={apiKey:t.apiKey,appName:e.name,v:ol},a=_O.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${pc(r).slice(1)}`}async function EO(e){const t=await mO(e),n=Hi().gapi;return _t(n,e,"internal-error"),t.open({where:document.body,url:TO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vO,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=qi(e,"network-request-failed"),f=Hi().setTimeout(()=>{l(c)},pO.get());function m(){Hi().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bO=500,wO=600,AO="_blank",RO="http://localhost";class oS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CO(e,t,n,r=bO,a=wO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m={...SO,width:r.toString(),height:a.toString(),top:l,left:c},g=ln().toLowerCase();n&&(f=xA(g)?AO:n),RA(g)&&(t=t||RO,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[w,I])=>`${S}${w}=${I},`,"");if(XN(g)&&f!=="_self")return xO(t||"",f),new oS(null);const _=window.open(t||"",f,y);_t(_,e,"popup-blocked");try{_.focus()}catch{}return new oS(_)}function xO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__/auth/handler",DO="emulator/auth/handler",MO=encodeURIComponent("fac");async function lS(e,t,n,r,a,l){_t(e.config.authDomain,e,"auth-domain-config-required"),_t(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ol,eventId:a};if(t instanceof UA){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",yM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof yc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),g=m?`#${MO}=${encodeURIComponent(m)}`:"";return`${NO(e)}?${pc(f).slice(1)}${g}`}function NO({config:e}){return e.emulator?xy(e,DO):`https://${e.authDomain}/${IO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class VO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HA,this._completeRedirectFn=iO,this._overrideRedirectResult=tO}async _openPopup(t,n,r,a){var c;wr((c=this.eventManagers[t._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await lS(t,n,r,Sg(),a);return CO(t,l,Vy())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await lS(t,n,r,Sg(),a);return kV(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(wr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await EO(t),r=new sO(t);return n.register("authEvent",a=>(_t(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(qp,{type:qp},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[qp];l!==void 0&&n(!!l),vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return VA()||CA()||Dy()}}const OO=VO;var uS="@firebase/auth",cS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LO(e){Qo(new Ra("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;_t(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OA(e)},g=new eV(r,a,l,m);return hV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Qo(new Ra("auth-internal",t=>{const n=ll(t.getProvider("auth").getImmediate());return(r=>new PO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(uS,cS,kO(e)),Es(uS,cS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=300,jO=uA("authIdTokenMaxAge")||UO;let hS=null;const BO=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jO)return;const a=n==null?void 0:n.token;hS!==a&&(hS=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zO(e=pA()){const t=Ry(e,"auth");if(t.isInitialized())return t.getImmediate();const n=cV(e,{popupRedirectResolver:OO,persistence:[GV,VV,HA]}),r=uA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=BO(l.toString());xV(n,c,()=>c(n.currentUser)),CV(n,f=>c(f))}}const a=oA("auth");return a&&fV(n,`http://${a}`),n}function FO(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}nV({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=qi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",FO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LO("Browser");var qO="firebase",HO="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(qO,HO,"app");var fS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,WA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,R){function x(){}x.prototype=R.prototype,C.F=R.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(O,P,F){for(var D=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)D[ee-2]=arguments[ee];return R.prototype[P].apply(O,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,R,x){x||(x=0);const O=Array(16);if(typeof R=="string")for(var P=0;P<16;++P)O[P]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(P=0;P<16;++P)O[P]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=C.g[0],x=C.g[1],P=C.g[2];let F=C.g[3],D;D=R+(F^x&(P^F))+O[0]+3614090360&4294967295,R=x+(D<<7&4294967295|D>>>25),D=F+(P^R&(x^P))+O[1]+3905402710&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(x^F&(R^x))+O[2]+606105819&4294967295,P=F+(D<<17&4294967295|D>>>15),D=x+(R^P&(F^R))+O[3]+3250441966&4294967295,x=P+(D<<22&4294967295|D>>>10),D=R+(F^x&(P^F))+O[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=F+(P^R&(x^P))+O[5]+1200080426&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(x^F&(R^x))+O[6]+2821735955&4294967295,P=F+(D<<17&4294967295|D>>>15),D=x+(R^P&(F^R))+O[7]+4249261313&4294967295,x=P+(D<<22&4294967295|D>>>10),D=R+(F^x&(P^F))+O[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=F+(P^R&(x^P))+O[9]+2336552879&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(x^F&(R^x))+O[10]+4294925233&4294967295,P=F+(D<<17&4294967295|D>>>15),D=x+(R^P&(F^R))+O[11]+2304563134&4294967295,x=P+(D<<22&4294967295|D>>>10),D=R+(F^x&(P^F))+O[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=F+(P^R&(x^P))+O[13]+4254626195&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(x^F&(R^x))+O[14]+2792965006&4294967295,P=F+(D<<17&4294967295|D>>>15),D=x+(R^P&(F^R))+O[15]+1236535329&4294967295,x=P+(D<<22&4294967295|D>>>10),D=R+(P^F&(x^P))+O[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=F+(x^P&(R^x))+O[6]+3225465664&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^x&(F^R))+O[11]+643717713&4294967295,P=F+(D<<14&4294967295|D>>>18),D=x+(F^R&(P^F))+O[0]+3921069994&4294967295,x=P+(D<<20&4294967295|D>>>12),D=R+(P^F&(x^P))+O[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=F+(x^P&(R^x))+O[10]+38016083&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^x&(F^R))+O[15]+3634488961&4294967295,P=F+(D<<14&4294967295|D>>>18),D=x+(F^R&(P^F))+O[4]+3889429448&4294967295,x=P+(D<<20&4294967295|D>>>12),D=R+(P^F&(x^P))+O[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=F+(x^P&(R^x))+O[14]+3275163606&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^x&(F^R))+O[3]+4107603335&4294967295,P=F+(D<<14&4294967295|D>>>18),D=x+(F^R&(P^F))+O[8]+1163531501&4294967295,x=P+(D<<20&4294967295|D>>>12),D=R+(P^F&(x^P))+O[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=F+(x^P&(R^x))+O[2]+4243563512&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^x&(F^R))+O[7]+1735328473&4294967295,P=F+(D<<14&4294967295|D>>>18),D=x+(F^R&(P^F))+O[12]+2368359562&4294967295,x=P+(D<<20&4294967295|D>>>12),D=R+(x^P^F)+O[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=F+(R^x^P)+O[8]+2272392833&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^x)+O[11]+1839030562&4294967295,P=F+(D<<16&4294967295|D>>>16),D=x+(P^F^R)+O[14]+4259657740&4294967295,x=P+(D<<23&4294967295|D>>>9),D=R+(x^P^F)+O[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=F+(R^x^P)+O[4]+1272893353&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^x)+O[7]+4139469664&4294967295,P=F+(D<<16&4294967295|D>>>16),D=x+(P^F^R)+O[10]+3200236656&4294967295,x=P+(D<<23&4294967295|D>>>9),D=R+(x^P^F)+O[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=F+(R^x^P)+O[0]+3936430074&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^x)+O[3]+3572445317&4294967295,P=F+(D<<16&4294967295|D>>>16),D=x+(P^F^R)+O[6]+76029189&4294967295,x=P+(D<<23&4294967295|D>>>9),D=R+(x^P^F)+O[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=F+(R^x^P)+O[12]+3873151461&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^x)+O[15]+530742520&4294967295,P=F+(D<<16&4294967295|D>>>16),D=x+(P^F^R)+O[2]+3299628645&4294967295,x=P+(D<<23&4294967295|D>>>9),D=R+(P^(x|~F))+O[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=F+(x^(R|~P))+O[7]+1126891415&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~x))+O[14]+2878612391&4294967295,P=F+(D<<15&4294967295|D>>>17),D=x+(F^(P|~R))+O[5]+4237533241&4294967295,x=P+(D<<21&4294967295|D>>>11),D=R+(P^(x|~F))+O[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=F+(x^(R|~P))+O[3]+2399980690&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~x))+O[10]+4293915773&4294967295,P=F+(D<<15&4294967295|D>>>17),D=x+(F^(P|~R))+O[1]+2240044497&4294967295,x=P+(D<<21&4294967295|D>>>11),D=R+(P^(x|~F))+O[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=F+(x^(R|~P))+O[15]+4264355552&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~x))+O[6]+2734768916&4294967295,P=F+(D<<15&4294967295|D>>>17),D=x+(F^(P|~R))+O[13]+1309151649&4294967295,x=P+(D<<21&4294967295|D>>>11),D=R+(P^(x|~F))+O[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=F+(x^(R|~P))+O[11]+3174756917&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~x))+O[2]+718787259&4294967295,P=F+(D<<15&4294967295|D>>>17),D=x+(F^(P|~R))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.v=function(C,R){R===void 0&&(R=C.length);const x=R-this.blockSize,O=this.C;let P=this.h,F=0;for(;F<R;){if(P==0)for(;F<=x;)a(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<R;)if(O[P++]=C.charCodeAt(F++),P==this.blockSize){a(this,O),P=0;break}}else for(;F<R;)if(O[P++]=C[F++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=R},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,x=0;x<4;++x)for(let O=0;O<32;O+=8)C[R++]=this.g[x]>>>O&255;return C};function l(C,R){var x=f;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=R(C)}function c(C,R){this.h=R;const x=[];let O=!0;for(let P=C.length-1;P>=0;P--){const F=C[P]|0;O&&F==R||(x[P]=F,O=!1)}this.g=x}var f={};function m(C){return-128<=C&&C<128?l(C,function(R){return new c([R|0],R<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return V(g(-C));const R=[];let x=1;for(let O=0;C>=x;O++)R[O]=C/x|0,x*=4294967296;return new c(R,0)}function y(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return V(y(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(R,8));let O=_;for(let F=0;F<C.length;F+=8){var P=Math.min(8,C.length-F);const D=parseInt(C.substring(F,F+P),R);P<8?(P=g(Math.pow(R,P)),O=O.j(P).add(g(D))):(O=O.j(x),O=O.add(g(D)))}return O}var _=m(0),S=m(1),w=m(16777216);e=c.prototype,e.m=function(){if(N(this))return-V(this).m();let C=0,R=1;for(let x=0;x<this.g.length;x++){const O=this.i(x);C+=(O>=0?O:4294967296+O)*R,R*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(N(this))return"-"+V(this).toString(C);const R=g(Math.pow(C,6));var x=this;let O="";for(;;){const P=at(x,R).g;x=B(x,P.j(R));let F=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=P,I(x))return F+O;for(;F.length<6;)F="0"+F;O=F+O}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function N(C){return C.h==-1}e.l=function(C){return C=B(this,C),N(C)?-1:I(C)?0:1};function V(C){const R=C.g.length,x=[];for(let O=0;O<R;O++)x[O]=~C.g[O];return new c(x,~C.h).add(S)}e.abs=function(){return N(this)?V(this):this},e.add=function(C){const R=Math.max(this.g.length,C.g.length),x=[];let O=0;for(let P=0;P<=R;P++){let F=O+(this.i(P)&65535)+(C.i(P)&65535),D=(F>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);O=D>>>16,F&=65535,D&=65535,x[P]=D<<16|F}return new c(x,x[x.length-1]&-2147483648?-1:0)};function B(C,R){return C.add(V(R))}e.j=function(C){if(I(this)||I(C))return _;if(N(this))return N(C)?V(this).j(V(C)):V(V(this).j(C));if(N(C))return V(this.j(V(C)));if(this.l(w)<0&&C.l(w)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,x=[];for(var O=0;O<2*R;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(let P=0;P<C.g.length;P++){const F=this.i(O)>>>16,D=this.i(O)&65535,ee=C.i(P)>>>16,me=C.i(P)&65535;x[2*O+2*P]+=D*me,X(x,2*O+2*P),x[2*O+2*P+1]+=F*me,X(x,2*O+2*P+1),x[2*O+2*P+1]+=D*ee,X(x,2*O+2*P+1),x[2*O+2*P+2]+=F*ee,X(x,2*O+2*P+2)}for(C=0;C<R;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=R;C<2*R;C++)x[C]=0;return new c(x,0)};function X(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function H(C,R){this.g=C,this.h=R}function at(C,R){if(I(R))throw Error("division by zero");if(I(C))return new H(_,_);if(N(C))return R=at(V(C),R),new H(V(R.g),V(R.h));if(N(R))return R=at(C,V(R)),new H(V(R.g),R.h);if(C.g.length>30){if(N(C)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,O=R;O.l(C)<=0;)x=st(x),O=st(O);var P=lt(x,1),F=lt(O,1);for(O=lt(O,2),x=lt(x,2);!I(O);){var D=F.add(O);D.l(C)<=0&&(P=P.add(x),F=D),O=lt(O,1),x=lt(x,1)}return R=B(C,P.j(R)),new H(P,R)}for(P=_;C.l(R)>=0;){for(x=Math.max(1,Math.floor(C.m()/R.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),F=g(x),D=F.j(R);N(D)||D.l(C)>0;)x-=O,F=g(x),D=F.j(R);I(F)&&(F=S),P=P.add(F),C=B(C,D)}return new H(P,C)}e.B=function(C){return at(this,C).h},e.and=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)&C.i(O);return new c(x,this.h&C.h)},e.or=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)|C.i(O);return new c(x,this.h|C.h)},e.xor=function(C){const R=Math.max(this.g.length,C.g.length),x=[];for(let O=0;O<R;O++)x[O]=this.i(O)^C.i(O);return new c(x,this.h^C.h)};function st(C){const R=C.g.length+1,x=[];for(let O=0;O<R;O++)x[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(x,C.h)}function lt(C,R){const x=R>>5;R%=32;const O=C.g.length-x,P=[];for(let F=0;F<O;F++)P[F]=R>0?C.i(F+x)>>>R|C.i(F+x+1)<<32-R:C.i(F+x);return new c(P,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,bs=c}).apply(typeof fS<"u"?fS:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZA,Nu,JA,Sf,Ag,t1,e1,n1;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in E))break t;E=E[q]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var E=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&E.push([A,v[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,E){return h.call.apply(h.bind,arguments)}function g(h,v,E){return g=m,g.apply(null,arguments)}function y(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,q,Q){for(var ot=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ot[Rt-2]=arguments[Rt];return v.prototype[q].apply(A,ot)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const v=h.length;if(v>0){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function I(h,v){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Q=q.length||0;h.length=E+Q;for(let ot=0;ot<Q;ot++)h[E+ot]=q[ot]}else h.push(q)}}class N{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class X{constructor(){this.h=this.g=null}add(v,E){const A=H.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var H=new N(()=>new at,h=>h.reset());class at{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let st,lt=!1,C=new X,R=()=>{const h=Promise.resolve(void 0);st=()=>{h.then(x)}};function x(){for(var h;h=B();){try{h.h.call(h.g)}catch(E){V(E)}var v=H;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}lt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ee(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(ee,P),ee.prototype.init=function(h,v){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Z=0;function rt(h,v,E,A,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=q,this.key=++Z,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xt(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function Vt(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function U(h){const v={};for(const E in h)v[E]=h[E];return v}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(h,v){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)h[E]=A[E];for(let Q=0;Q<nt.length;Q++)E=nt[Q],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,E,A,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ot=It(h,v,A,q);return ot>-1?(v=h[ot],E||(v.fa=!1)):(v=new rt(v,this.src,Q,!!A,q),v.fa=E,h.push(v)),v};function St(h,v){const E=v.type;if(E in h.g){var A=h.g[E],q=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(A,q,1),Q&&(dt(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function It(h,v,E,A){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==A)return q}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Le={};function oe(h,v,E,A,q){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)oe(h,v[Q],E,A,q);return null}return E=Tl(E),h&&h[me]?h.J(v,E,f(A)?!!A.capture:!1,q):ks(h,v,E,!1,A,q)}function ks(h,v,E,A,q,Q){if(!v)throw Error("Invalid event type");const ot=f(q)?!!q.capture:!!q;let Rt=Ls(h);if(Rt||(h[Bt]=Rt=new ft(h)),E=Rt.add(v,E,A,ot,Q),E.proxy)return E;if(A=Ua(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)F||(q=ot),q===void 0&&(q=!1),h.addEventListener(v.toString(),A,q);else if(h.attachEvent)h.attachEvent(Ti(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ua(){function h(E){return v.call(h.src,h.listener,E)}const v=vl;return h}function ja(h,v,E,A,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ja(h,v[Q],E,A,q);else A=f(A)?!!A.capture:!!A,E=Tl(E),h&&h[me]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],E=It(v,E,A,q),E>-1&&(dt(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Ls(h))&&(v=h.g[v.toString()],h=-1,v&&(h=It(v,E,A,q)),(E=h>-1?v[h]:null)&&Ba(E))}function Ba(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[me])St(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(Ti(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=Ls(v))?(St(E,h),E.h==0&&(E.src=null,v[Bt]=null)):dt(h)}}}function Ti(h){return h in Le?Le[h]:Le[h]="on"+h}function vl(h,v){if(h.da)h=!0;else{v=new ee(v,this);const E=h.listener,A=h.ha||h.src;h.fa&&Ba(h),h=E.call(A,v)}return h}function Ls(h){return h=h[Bt],h instanceof ft?h:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tl(h){return typeof h=="function"?h:(h[_l]||(h[_l]=function(v){return h.handleEvent(v)}),h[_l])}function we(){O.call(this),this.i=new ft(this),this.M=this,this.G=null}_(we,O),we.prototype[me]=!0,we.prototype.removeEventListener=function(h,v,E,A){ja(this,h,v,E,A)};function Ue(h,v){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var q=v;v=new P(A,h),ut(v,q)}q=!0;let Q,ot;if(E)for(ot=E.length-1;ot>=0;ot--)Q=v.g=E[ot],q=Nr(Q,A,!0,v)&&q;if(Q=v.g=h,q=Nr(Q,A,!0,v)&&q,q=Nr(Q,A,!1,v)&&q,E)for(ot=0;ot<E.length;ot++)Q=v.g=E[ot],q=Nr(Q,A,!1,v)&&q}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let A=0;A<E.length;A++)dt(E[A]);delete h.g[v],h.h--}}this.G=null},we.prototype.J=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},we.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function Nr(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let Q=0;Q<v.length;++Q){const ot=v[Q];if(ot&&!ot.da&&ot.capture==E){const Rt=ot.listener,_e=ot.ha||ot.src;ot.fa&&St(h.i,ot),q=Rt.call(_e,A)!==!1&&q}}return q&&!A.defaultPrevented}function Dd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function xc(h){h.g=Dd(()=>{h.g=null,h.i&&(h.i=!1,xc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class cn extends O{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(h){O.call(this),this.h=h,this.g={}}_(Us,O);var El=[];function Sl(h){xt(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ba(v)},h),h.g={}}Us.prototype.N=function(){Us.Z.N.call(this),Sl(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=c.JSON.stringify,Md=c.JSON.parse,Ic=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Dc(){}function Mc(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){P.call(this,"d")}_(Ye,P);function kn(){P.call(this,"c")}_(kn,P);var ve={},Nc=null;function za(){return Nc=Nc||new we}ve.Ia="serverreachability";function Vc(h){P.call(this,ve.Ia,h)}_(Vc,P);function Ei(h){const v=za();Ue(v,new Vc(v))}ve.STAT_EVENT="statevent";function js(h,v){P.call(this,ve.STAT_EVENT,h),this.stat=v}_(js,P);function Ae(h){const v=za();Ue(v,new js(v,h))}ve.Ja="timingevent";function Si(h,v){P.call(this,ve.Ja,h),this.size=v}_(Si,P);function bi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Nd(h,v,E,A,q,Q){h.info(function(){if(h.g)if(Q){var ot="",Rt=Q.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var _e=Rt[Ht].split("=");if(_e.length>1){const le=_e[0];_e=_e[1];const Bn=le.split("_");ot=Bn.length>=2&&Bn[1]=="type"?ot+(le+"="+_e+"&"):ot+(le+"=redacted&")}}}else ot=null;else ot=Q;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+E+`
`+ot})}function Oc(h,v,E,A,q,Q,ot){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+ot})}function wi(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Vd(h,E)+(A?" "+A:"")})}function Bs(h,v){h.info(function(){return"TIMEOUT: "+v})}ei.prototype.info=function(){};function Vd(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return Vr(Q)}catch{return v}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Fs(){}_(Fs,Dc),Fs.prototype.g=function(){return new XMLHttpRequest},wl=new Fs;function tr(h){return encodeURIComponent(String(h))}function Pc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ni(h,v,E,A){this.j=h,this.i=v,this.l=E,this.S=A||1,this.V=new Us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Re={},Fe={};function Ai(h,v,E){h.M=1,h.A=qs(xe(v)),h.u=E,h.R=!0,Fa(h,null)}function Fa(h,v){h.F=Date.now(),Ri(h),h.B=xe(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ya(E.i,"t",A),h.C=0,E=h.j.L,h.h=new ii,h.g=$c(h.j,E?v:null,!h.u),h.P>0&&(h.O=new cn(g(h.Y,h,h.g),h.P)),v=h.V,E=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(El[0]=q.toString()),q=El);for(let Q=0;Q<q.length;Q++){const ot=oe(E,q[Q],A||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ei(),Nd(h.i,h.v,h.B,h.l,h.S,h.u)}ni.prototype.ba=function(h){h=h.target;const v=this.O;v&&ai(h)==3?v.j():this.Y(h)},ni.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=ai(this.g),_e=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||_e==7||(_e==8||Ht<=0?Ei(3):Ei(2)),Ci(this);var v=this.g.ca();this.X=v;var E=Od(this);if(this.o=v==200,Oc(this.i,this.v,this.B,this.l,this.S,Rt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var Q=A;break e}}Q=null}if(h=Q)wi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,Ae(12),wn(this),Ln(this);break t}}if(this.R){h=!0;let le;for(;!this.K&&this.C<E.length;)if(le=Lc(this,E),le==Fe){Rt==4&&(this.m=4,Ae(14),h=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Re){this.m=4,Ae(15),wi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else wi(this.i,this.l,le,null),xi(this,le);if(kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||E.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)wi(this.i,this.l,E,"[Invalid Chunked Response]"),wn(this),Ln(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),jl(ot),ot.P=!0,Ae(11))}}else wi(this.i,this.l,E,null),xi(this,E);Rt==4&&wn(this),this.o&&!this.K&&(Rt==4?Yc(this.j,this):(this.o=!1,Ri(this)))}else nr(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),wn(this),Ln(this)}}}catch{}finally{}};function Od(h){if(!kc(h))return h.g.la();const v=Ke(h.g);if(v==="")return"";let E="";const A=v.length,q=ai(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return wn(h),Ln(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,E+=h.h.i.decode(v[Q],{stream:!(q&&Q==A-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function kc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Lc(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?Fe:(E=Number(v.substring(E,A)),isNaN(E)?Re:(A+=1,A+E>v.length?Fe:(v=v.slice(A,A+E),h.C=A+E,v)))}ni.prototype.cancel=function(){this.K=!0,wn(this)};function Ri(h){h.T=Date.now()+h.H,qa(h,h.H)}function qa(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bi(g(h.aa,h),v)}function Ci(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ni.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(Ei(),Ae(17)),wn(this),this.m=2,Ln(this)):qa(this,this.T-h)};function Ln(h){h.j.I==0||h.K||Yc(h.j,h)}function wn(h){Ci(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Sl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function xi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Di(E.h,h))){if(!h.L&&Di(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Wa(E),zr(E);else break t;$s(E),Ae(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=bi(g(E.Va,E),6e3));Ii(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((h.L||E.g==h)&&Wa(E),!D(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Ht=q[v];const le=Ht[0];if(!(le<=E.K))if(E.K=le,Ht=Ht[1],E.I==2)if(Ht[0]=="c"){E.M=Ht[1],E.ba=Ht[2];const Bn=Ht[3];Bn!=null&&(E.ka=Bn,E.j.info("VER="+E.ka));const Li=Ht[4];Li!=null&&(E.za=Li,E.j.info("SVER="+E.za));const oi=Ht[5];oi!=null&&typeof oi=="number"&&oi>0&&(A=1.5*oi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const li=h.g;if(li){const Ws=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var Q=A.h;Q.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Cl(Q,Q.h),Q.h=null))}if(A.G){const Za=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(A.wa=Za,Kt(A.J,A.G,Za))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ot=h;if(A.na=Xc(A,A.L?A.ba:null,A.W),ot.L){xl(A.h,ot);var Rt=ot,_e=A.O;_e&&(Rt.H=_e),Rt.D&&(Ci(Rt),Ri(Rt)),A.g=ot}else Hc(A);E.i.length>0&&Pi(E)}else Ht[0]!="stop"&&Ht[0]!="close"||ki(E,7);else E.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ki(E,7):Ll(E):Ht[0]!="noop"&&E.l&&E.l.qa(Ht),E.A=0)}}Ei(4)}catch{}}var Ce=class{constructor(h,v){this.g=h,this.map=v}};function Al(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ii(h){return h.h?1:h.g?h.g.size:0}function Di(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Cl(h,v){h.g?h.g.add(v):h.h=v}function xl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Al.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return w(h.i)}var Uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ha(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let q,Q=null;A>=0?(q=h[E].substring(0,A),Q=h[E].substring(A+1)):q=h[E],v(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof An?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,Or(this,h.u),this.h=h.h,Dl(this,Fc(h.i)),this.m=h.m):h&&(v=String(h).match(Uc))?(this.l=!1,qe(this,v[1]||"",!0),this.o=Mi(v[2]||""),this.g=Mi(v[3]||"",!0),Or(this,v[4]),this.h=Mi(v[5]||"",!0),Dl(this,v[6]||"",!0),this.m=Mi(v[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}An.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Hs(v,Ga,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Hs(v,Ga,!0),"@"),h.push(tr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Hs(E,E.charAt(0)=="/"?Ml:jc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Hs(E,Bc)),h.join("")},An.prototype.resolve=function(h){const v=xe(this);let E=!!h.j;E?qe(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var A=h.h;if(E)Or(v,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=v.h.lastIndexOf("/");q!=-1&&(A=v.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ot=0;ot<q.length;){const Rt=q[ot++];Rt=="."?A&&ot==q.length&&Q.push(""):Rt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ot==q.length&&Q.push("")):(Q.push(Rt),A=!0)}A=Q.join("/")}else A=q}return E?v.h=A:E=h.i.toString()!=="",E?Dl(v,Fc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function xe(h){return new An(h)}function qe(h,v,E){h.j=E?Mi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Or(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Dl(h,v,E){v instanceof kr?(h.i=v,Ka(h.i,h.l)):(E||(v=Hs(v,Pr)),h.i=new kr(v,h.l))}function Kt(h,v,E){h.i.set(v,E)}function qs(h){return Kt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hs(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,pn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ga=/[#\/\?@]/g,jc=/[#\?:]/g,Ml=/[#\?]/g,Pr=/[#\?@]/g,Bc=/#/g;function kr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ha(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=kr.prototype,e.add=function(h,v){gn(this),this.i=null,h=Lr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function zc(h,v){gn(h),v=Lr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Nl(h,v){return gn(h),v=Lr(h,v),h.g.has(v)}e.forEach=function(h,v){gn(this),this.g.forEach(function(E,A){E.forEach(function(q){h.call(v,q,A,this)},this)},this)};function Vl(h,v){gn(h);let E=[];if(typeof v=="string")Nl(h,v)&&(E=E.concat(h.g.get(Lr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}e.set=function(h,v){return gn(this),this.i=null,h=Lr(this,h),Nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Vl(this,h),h.length>0?String(h[0]):v):v};function Ya(h,v,E){zc(h,v),E.length>0&&(h.i=null,h.g.set(Lr(h,v),w(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var E=v[A];const q=tr(E);E=Vl(this,E);for(let Q=0;Q<E.length;Q++){let ot=q;E[Q]!==""&&(ot+="="+tr(E[Q])),h.push(ot)}}return this.i=h.join("&")};function Fc(h){const v=new kr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Lr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ka(h,v){v&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(zc(this,A),Ya(this,q,E))},h)),h.j=v}function ri(h,v){const E=new ei;if(c.Image){const A=new Image;A.onload=y(Un,E,"TestLoadImage: loaded",!0,v,A),A.onerror=y(Un,E,"TestLoadImage: error",!1,v,A),A.onabort=y(Un,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=y(Un,E,"TestLoadImage: timeout",!1,v,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function Ol(h,v){const E=new ei,A=new AbortController,q=setTimeout(()=>{A.abort(),Un(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(q),Q.ok?Un(E,"TestPingServer: ok",!0,v):Un(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Un(E,"TestPingServer: error",!1,v)})}function Un(h,v,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Ur(){this.g=new Ic}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Ni,Dc),Ni.prototype.g=function(){return new Gs(this.i,this.h)};function Gs(h,v){we.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Gs,we),e=Gs.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?jr(this):si(this),this.readyState==3&&Qa(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,jr(this))},e.Na=function(h){this.g&&(this.response=h,jr(this))},e.ga=function(){this.g&&jr(this)};function jr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let v="";return xt(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function Ys(h,v,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=jn(E),typeof h=="string"?E!=null&&tr(E):Kt(h,v,E))}function Wt(h){we.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Wt,we);var Vi=/^https?$/i,Pl=["POST","PUT"];e=Wt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Ks(this,Q);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Pl,v,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ot]of E)this.g.setRequestHeader(Q,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Ks(this,Q)}};function Ks(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,kl(h),er(h)}function kl(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),er(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Wt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qs(this):this.Xa())},e.Xa=function(){Qs(this)};function Qs(h){if(h.h&&typeof l<"u"){if(h.v&&ai(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),ai(h)==4){h.h=!1;try{const Q=h.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var A;if(A=Q===0){let ot=String(h.D).match(Uc)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),A=!Vi.test(ot?ot.toLowerCase():"")}E=A}if(E)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var q=ai(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",kl(h)}}finally{er(h)}}}}function er(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Ue(h,"ready");try{E.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}e.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Md(v)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(h){const v={};h=(h.g&&ai(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var E=Pc(h[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}Vt(v,function(A){return A.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Br(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(h&&h.concurrentRequestLimit),this.Ba=new Ur,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Br.prototype,e.ka=8,e.I=1,e.connect=function(h,v,E,A){Ae(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Xc(this,null,this.W),Pi(this)};function Ll(h){if(Xa(h),h.I==3){var v=h.V++,E=xe(h.J);if(Kt(E,"SID",h.M),Kt(E,"RID",v),Kt(E,"TYPE","terminate"),Xs(h,E),v=new ni(h,h.j,v),v.M=2,v.A=qs(xe(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.A,E=!0),E||(v.g=$c(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ri(v)}Qc(h)}function zr(h){h.g&&(jl(h),h.g.cancel(),h.g=null)}function Xa(h){zr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Wa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Pi(h){if(!Rl(h.h)&&!h.m){h.m=!0;var v=h.Ea;st||R(),lt||(st(),lt=!0),C.add(v,h),h.D=0}}function $a(h,v){return Ii(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bi(g(h.Ea,h,v),Kc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ni(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),ut(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=qc(this,q,v),E=xe(this.J),Kt(E,"RID",h),Kt(E,"CVER",22),this.G&&Kt(E,"X-HTTP-Session-Id",this.G),Xs(this,E),Q&&(this.R?v="headers="+tr(jn(Q))+"&"+v:this.u&&Ys(E,this.u,Q)),Cl(this.h,q),this.Ra&&Kt(E,"TYPE","init"),this.S?(Kt(E,"$req",v),Kt(E,"SID","null"),q.U=!0,Ai(q,E,null)):Ai(q,E,v),this.I=2}}else this.I==3&&(h?Ul(this,h):this.i.length==0||Rl(this.h)||Ul(this))};function Ul(h,v){var E;v?E=v.l:E=h.V++;const A=xe(h.J);Kt(A,"SID",h.M),Kt(A,"RID",E),Kt(A,"AID",h.K),Xs(h,A),h.u&&h.o&&Ys(A,h.u,h.o),E=new ni(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=qc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Cl(h.h,E),Ai(E,A,v)}function Xs(h,v){h.H&&xt(h.H,function(E,A){Kt(v,A,E)}),h.l&&xt({},function(E,A){Kt(v,A,E)})}function qc(h,v,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;t:{var q=h.i;let Rt=-1;for(;;){const _e=["count="+E];Rt==-1?E>0?(Rt=q[0].g,_e.push("ofs="+Rt)):Rt=0:_e.push("ofs="+Rt);let Ht=!0;for(let le=0;le<E;le++){var Q=q[le].g;const Bn=q[le].map;if(Q-=Rt,Q<0)Rt=Math.max(0,q[le].g-100),Ht=!1;else try{Q="req"+Q+"_"||"";try{var ot=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Li,oi]of ot){let li=oi;f(oi)&&(li=Vr(oi)),_e.push(Q+Li+"="+encodeURIComponent(li))}}catch(Li){throw _e.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(Bn)}}if(Ht){ot=_e.join("&");break t}}ot=void 0}return h=h.i.splice(0,E),v.G=h,ot}function Hc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;st||R(),lt||(st(),lt=!0),C.add(v,h),h.A=0}}function $s(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bi(g(h.Da,h),Kc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Gc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bi(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),zr(this),Gc(this))};function jl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Gc(h){h.g=new ni(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xe(h.na);Kt(v,"RID","rpc"),Kt(v,"SID",h.M),Kt(v,"AID",h.K),Kt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Kt(v,"TO",h.ia),Kt(v,"TYPE","xmlhttp"),Xs(h,v),h.u&&h.o&&Ys(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=qs(xe(v)),E.u=null,E.R=!0,Fa(E,h)}e.Va=function(){this.C!=null&&(this.C=null,zr(this),$s(this),Ae(19))};function Wa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Yc(h,v){var E=null;if(h.g==v){Wa(h),jl(h),h.g=null;var A=2}else if(Di(h.h,v))E=v.G,xl(h.h,v),A=1;else return;if(h.I!=0){if(v.o)if(A==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;A=za(),Ue(A,new Si(A,E)),Pi(h)}else Hc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(A==1&&$a(h,v)||A==2&&$s(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:ki(h,5);break;case 4:ki(h,10);break;case 3:ki(h,6);break;default:ki(h,2)}}}function Kc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function ki(h,v){if(h.j.info("Error code "+v),v==2){var E=g(h.bb,h),A=h.Ua;const q=!A;A=new An(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(A,"https"),qs(A),q?ri(A.toString(),E):Ol(A.toString(),E)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Qc(h),Xa(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Qc(h){if(h.I=0,h.ja=[],h.l){const v=Il(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ja,v),I(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function Xc(h,v,E){var A=E instanceof An?xe(E):new An(E);if(A.g!="")v&&(A.g=v+"."+A.g),Or(A,A.u);else{var q=c.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const Q=new An(null);A&&qe(Q,A),v&&(Q.g=v),q&&Or(Q,q),E&&(Q.h=E),A=Q}return E=h.G,v=h.wa,E&&v&&Kt(A,E,v),Kt(A,"VER",h.ka),Xs(h,A),A}function $c(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Wt(new Ni({ab:E})):new Wt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}e=Wc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Fr(){}Fr.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){we.call(this),this.g=new Br(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ir(this)}_(hn,we),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Ll(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Vr(h),h=E);v.i.push(new Ce(v.Ya++,h)),v.I==3&&Pi(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,hn.Z.N.call(this)};function Zc(h){Ye.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Zc,Ye);function Jc(){kn.call(this),this.status=1}_(Jc,kn);function ir(h){this.g=h}_(ir,Wc),ir.prototype.ra=function(){Ue(this.g,"a")},ir.prototype.qa=function(h){Ue(this.g,new Zc(h))},ir.prototype.pa=function(h){Ue(this.g,new Jc)},ir.prototype.oa=function(){Ue(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,n1=function(){return new Fr},e1=function(){return za()},t1=ve,Ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Sf=zs,bl.COMPLETE="complete",JA=bl,Mc.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",we.prototype.listen=we.prototype.J,Nu=Mc,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,ZA=Wt}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const dS="@firebase/firestore",mS="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new wy("@firebase/firestore");function Do(){return xa.logLevel}function ht(e,...t){if(xa.logLevel<=kt.DEBUG){const n=t.map(Py);xa.debug(`Firestore (${cl}): ${e}`,...n)}}function Ar(e,...t){if(xa.logLevel<=kt.ERROR){const n=t.map(Py);xa.error(`Firestore (${cl}): ${e}`,...n)}}function $o(e,...t){if(xa.logLevel<=kt.WARN){const n=t.map(Py);xa.warn(`Firestore (${cl}): ${e}`,...n)}}function Py(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,i1(e,r,n)}function i1(e,t,n){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function Yt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||i1(t,a,r)}function At(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class YO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KO{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ws,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ws)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string",31837,{l:r}),new r1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class QO{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XO{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new QO(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $O{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const r=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=WO(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Lt(e,t){return e<t?-1:e>t?1:0}function Rg(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const a=e.charAt(r),l=t.charAt(r);if(a!==l)return Hp(a)===Hp(l)?Lt(a,l):Hp(a)?1:-1}return Lt(e.length,t.length)}const ZO=55296,JO=57343;function Hp(e){const t=e.charCodeAt(0);return t>=ZO&&t<=JO}function Wo(e,t,n){return e.length===t.length&&e.every(((r,a)=>n(r,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="__name__";class Fi{constructor(t,n,r){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Tt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Fi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Fi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Lt(t.length,n.length)}static compareSegments(t,n){const r=Fi.isNumericId(t),a=Fi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Fi.extractNumericId(t).compare(Fi.extractNumericId(n)):Rg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return bs.fromString(t.substring(4,t.length-2))}}class ie extends Fi{construct(t,n,r){return new ie(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const tP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Fi{construct(t,n,r){return new tn(t,n,r)}static isValidIdentifier(t){return tP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gS}static keyField(){return new tn([gS])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ie.fromString(t))}static fromName(t){return new yt(ie.fromString(t).popFirst(5))}static empty(){return new yt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(e,t,n){if(!n)throw new ct(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function eP(e,t,n,r){if(t===!0&&r===!0)throw new ct(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function yS(e){if(!yt.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function vS(e){if(yt.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function a1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function hd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function Gi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hd(e);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e,t){const n={typeString:e};return t&&(n.value=t),n}function _c(e,t){if(!a1(e))throw new ct(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ct(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=-62135596800,TS=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*TS);return new ae(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<_S)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TS}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_c(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_S;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:ke("string",ae._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ae(0,0))}static max(){return new bt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;function nP(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=bt.fromTimestamp(r===1e9?new ae(n+1,0):new ae(n,r));return new Rs(a,yt.empty(),t)}function iP(e){return new Rs(e.readTime,e.key,Zu)}class Rs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(bt.min(),yt.empty(),Zu)}static max(){return new Rs(bt.max(),yt.empty(),Zu)}}function rP(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:Lt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==sP)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):it.reject(n)}static resolve(t){return new it(((n,r)=>{n(t)}))}static reject(t){return new it(((n,r)=>{r(t)}))}static waitFor(t){return new it(((n,r)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>r(m)))})),c=!0,l===a&&n()}))}static or(t){let n=it.resolve(!1);for(const r of t)n=n.next((a=>a?it.resolve(a):r()));return n}static forEach(t,n){const r=[];return t.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(t,n){return new it(((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++f,f===l&&r(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new it(((r,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):r()};l()}))}}function oP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function dd(e){return e==null}function zf(e){return e===0&&1/e==-1/0}function lP(e){return typeof e=="number"&&Number.isInteger(e)&&!zf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="";function uP(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ES(t)),t=cP(e.get(n),t);return ES(t)}function cP(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case o1:n+="";break;default:n+=l}}return n}function ES(e){return e+o1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Va(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function l1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.comparator=t,this.root=n||Je.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new of(this.root,t,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new of(this.root,t,this.comparator,!0)}}class of{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Je.RED,this.left=a??Je.EMPTY,this.right=l??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Je(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Je.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new Je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new bS(this.data.getIterator())}getIteratorFrom(t){return new bS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ze(this.comparator);return n.data=t,n}}class bS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new gi([])}unionWith(t){let n=new ze(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new gi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wo(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new u1("Invalid base64 string: "+l):l}})(t);return new en(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const hP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=hP.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Se(e.seconds),nanos:Se(e.nanos)}}function Se(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xs(e){return typeof e=="string"?en.fromBase64String(e):en.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="server_timestamp",h1="__type__",f1="__previous_value__",d1="__local_write_time__";function Uy(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[h1])==null?void 0:r.stringValue)===c1}function md(e){const t=e.mapValue.fields[f1];return Uy(t)?md(t):t}function Ju(e){const t=Cs(e.mapValue.fields[d1].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t,n,r,a,l,c,f,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Ff="(default)";class tc{constructor(t,n){this.projectId=t,this.database=n||Ff}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(t){return t instanceof tc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__type__",dP="__max__",lf={mapValue:{}},p1="__vector__",qf="value";function Is(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Uy(e)?4:pP(e)?9007199254740991:mP(e)?10:11:Tt(28295,{value:e})}function Zi(e,t){if(e===t)return!0;const n=Is(e);if(n!==Is(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ju(e).isEqual(Ju(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cs(a.timestampValue),f=Cs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Se(a.geoPointValue.latitude)===Se(l.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Se(a.integerValue)===Se(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Se(a.doubleValue),f=Se(l.doubleValue);return c===f?zf(c)===zf(f):isNaN(c)&&isNaN(f)}return!1})(e,t);case 9:return Wo(e.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(SS(c)!==SS(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Zi(c[m],f[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function ec(e,t){return(e.values||[]).find((n=>Zi(n,t)))!==void 0}function Zo(e,t){if(e===t)return 0;const n=Is(e),r=Is(t);if(n!==r)return Lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=Se(l.integerValue||l.doubleValue),m=Se(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(e,t);case 3:return wS(e.timestampValue,t.timestampValue);case 4:return wS(Ju(e),Ju(t));case 5:return Rg(e.stringValue,t.stringValue);case 6:return(function(l,c){const f=xs(l),m=xs(c);return f.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=Lt(f[g],m[g]);if(y!==0)return y}return Lt(f.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Lt(Se(l.latitude),Se(c.latitude));return f!==0?f:Lt(Se(l.longitude),Se(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return AS(e.arrayValue,t.arrayValue);case 10:return(function(l,c){var S,w,I,N;const f=l.fields||{},m=c.fields||{},g=(S=f[qf])==null?void 0:S.arrayValue,y=(w=m[qf])==null?void 0:w.arrayValue,_=Lt(((I=g==null?void 0:g.values)==null?void 0:I.length)||0,((N=y==null?void 0:y.values)==null?void 0:N.length)||0);return _!==0?_:AS(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===lf.mapValue&&c===lf.mapValue)return 0;if(l===lf.mapValue)return 1;if(c===lf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const S=Rg(m[_],y[_]);if(S!==0)return S;const w=Zo(f[m[_]],g[y[_]]);if(w!==0)return w}return Lt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function wS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lt(e,t);const n=Cs(e),r=Cs(t),a=Lt(n.seconds,r.seconds);return a!==0?a:Lt(n.nanos,r.nanos)}function AS(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Zo(n[a],r[a]);if(l)return l}return Lt(n.length,r.length)}function Jo(e){return Cg(e)}function Cg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return xs(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Cg(l);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Cg(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function bf(e){switch(Is(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=md(e);return t?16+bf(t):16;case 5:return 2*e.stringValue.length;case 6:return xs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+bf(l)),0)})(e.arrayValue);case 10:case 11:return(function(r){let a=0;return Va(r.fields,((l,c)=>{a+=l.length+bf(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function RS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function xg(e){return!!e&&"integerValue"in e}function jy(e){return!!e&&"arrayValue"in e}function CS(e){return!!e&&"nullValue"in e}function xS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wf(e){return!!e&&"mapValue"in e}function mP(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[m1])==null?void 0:r.stringValue)===p1}function ju(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Va(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=ju(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ju(e.arrayValue.values[n]);return t}return{...e}}function pP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===dP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!wf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ju(n)}setAll(t){let n=tn.emptyPath(),r={},a=[];t.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=ju(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Va(n,((a,l)=>t[a]=l));for(const a of r)delete t[a]}clone(){return new $n(ju(this.value))}}function g1(e){const t=[];return Va(e.fields,((n,r)=>{const a=new tn([n]);if(wf(r)){const l=g1(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new gi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new an(t,0,bt.min(),bt.min(),bt.min(),$n.empty(),0)}static newFoundDocument(t,n,r,a){return new an(t,1,n,bt.min(),r,a,0)}static newNoDocument(t,n){return new an(t,2,n,bt.min(),bt.min(),$n.empty(),0)}static newUnknownDocument(t,n){return new an(t,3,n,bt.min(),bt.min(),$n.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n){this.position=t,this.inclusive=n}}function IS(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=Zo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function DS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n="asc"){this.field=t,this.dir=n}}function gP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{}class Pe extends y1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new vP(t,n,r):n==="array-contains"?new EP(t,r):n==="in"?new SP(t,r):n==="not-in"?new bP(t,r):n==="array-contains-any"?new wP(t,r):new Pe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new _P(t,r):new TP(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends y1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new _i(t,n)}matches(t){return v1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function v1(e){return e.op==="and"}function _1(e){return yP(e)&&v1(e)}function yP(e){for(const t of e.filters)if(t instanceof _i)return!1;return!0}function Ig(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+Jo(e.value);if(_1(e))return e.filters.map((t=>Ig(t))).join(",");{const t=e.filters.map((n=>Ig(n))).join(",");return`${e.op}(${t})`}}function T1(e,t){return e instanceof Pe?(function(r,a){return a instanceof Pe&&r.op===a.op&&r.field.isEqual(a.field)&&Zi(r.value,a.value)})(e,t):e instanceof _i?(function(r,a){return a instanceof _i&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&T1(c,a.filters[f])),!0):!1})(e,t):void Tt(19439)}function E1(e){return e instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`})(e):e instanceof _i?(function(n){return n.op.toString()+" {"+n.getFilters().map(E1).join(" ,")+"}"})(e):"Filter"}class vP extends Pe{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class _P extends Pe{constructor(t,n){super(t,"in",n),this.keys=S1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class TP extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=S1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function S1(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((r=>yt.fromName(r.referenceValue)))}class EP extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jy(n)&&ec(n.arrayValue,this.value)}}class SP extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class bP extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ec(this.value.arrayValue,n)}}class wP extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ec(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function MS(e,t=null,n=[],r=[],a=null,l=null,c=null){return new AP(e,t,n,r,a,l,c)}function By(e){const t=At(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Ig(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),dd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Jo(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Jo(r))).join(",")),t.Te=n}return t.Te}function zy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!T1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!DS(e.startAt,t.startAt)&&DS(e.endAt,t.endAt)}function Dg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function RP(e,t,n,r,a,l,c,f){return new dl(e,t,n,r,a,l,c,f)}function pd(e){return new dl(e)}function NS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function b1(e){return e.collectionGroup!==null}function Bu(e){const t=At(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new ze(tn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new nc(l,r))})),n.has(tn.keyField().canonicalString())||t.Ie.push(new nc(tn.keyField(),r))}return t.Ie}function Yi(e){const t=At(e);return t.Ee||(t.Ee=CP(t,Bu(e))),t.Ee}function CP(e,t){if(e.limitType==="F")return MS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nc(a.field,l)}));const n=e.endAt?new Hf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hf(e.startAt.position,e.startAt.inclusive):null;return MS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Mg(e,t){const n=e.filters.concat([t]);return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ng(e,t,n){return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gd(e,t){return zy(Yi(e),Yi(t))&&e.limitType===t.limitType}function w1(e){return`${By(Yi(e))}|lt:${e.limitType}`}function Mo(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>E1(a))).join(", ")}]`),dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Jo(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Jo(a))).join(",")),`Target(${r})`})(Yi(e))}; limitType=${e.limitType})`}function yd(e,t){return t.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(e,t)&&(function(r,a){for(const l of Bu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(r,a){return!(r.startAt&&!(function(c,f,m){const g=IS(c,f,m);return c.inclusive?g<=0:g<0})(r.startAt,Bu(r),a)||r.endAt&&!(function(c,f,m){const g=IS(c,f,m);return c.inclusive?g>=0:g>0})(r.endAt,Bu(r),a))})(e,t)}function xP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function A1(e){return(t,n)=>{let r=!1;for(const a of Bu(e)){const l=IP(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function IP(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Zo(m,g):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Va(this.inner,((n,r)=>{for(const[a,l]of r)t(a,l)}))}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new de(yt.comparator);function Rr(){return DP}const R1=new de(yt.comparator);function Vu(...e){let t=R1;for(const n of e)t=t.insert(n.key,n);return t}function C1(e){let t=R1;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function _a(){return zu()}function x1(){return zu()}function zu(){return new Oa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const MP=new de(yt.comparator),NP=new ze(yt.comparator);function Ut(...e){let t=NP;for(const n of e)t=t.add(n);return t}const VP=new ze(Lt);function OP(){return VP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(t)?"-0":t}}function I1(e){return{integerValue:""+e}}function PP(e,t){return lP(t)?I1(t):Fy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function kP(e,t,n){return e instanceof ic?(function(a,l){const c={fields:{[h1]:{stringValue:c1},[d1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uy(l)&&(l=md(l)),l&&(c.fields[f1]=l),{mapValue:c}})(n,t):e instanceof rc?M1(e,t):e instanceof sc?N1(e,t):(function(a,l){const c=D1(a,l),f=VS(c)+VS(a.Ae);return xg(c)&&xg(a.Ae)?I1(f):Fy(a.serializer,f)})(e,t)}function LP(e,t,n){return e instanceof rc?M1(e,t):e instanceof sc?N1(e,t):n}function D1(e,t){return e instanceof Gf?(function(r){return xg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class ic extends vd{}class rc extends vd{constructor(t){super(),this.elements=t}}function M1(e,t){const n=V1(t);for(const r of e.elements)n.some((a=>Zi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class sc extends vd{constructor(t){super(),this.elements=t}}function N1(e,t){let n=V1(t);for(const r of e.elements)n=n.filter((a=>!Zi(a,r)));return{arrayValue:{values:n}}}class Gf extends vd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function VS(e){return Se(e.integerValue||e.doubleValue)}function V1(e){return jy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,n){this.field=t,this.transform=n}}function jP(e,t){return e.field.isEqual(t.field)&&(function(r,a){return r instanceof rc&&a instanceof rc||r instanceof sc&&a instanceof sc?Wo(r.elements,a.elements,Zi):r instanceof Gf&&a instanceof Gf?Zi(r.Ae,a.Ae):r instanceof ic&&a instanceof ic})(e.transform,t.transform)}class BP{constructor(t,n){this.version=t,this.transformResults=n}}class yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Af(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class _d{}function O1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new qy(e.key,yi.none()):new Tc(e.key,e.data,yi.none());{const n=e.data,r=$n.empty();let a=new ze(tn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Pa(e.key,r,new gi(a.toArray()),yi.none())}}function zP(e,t,n){e instanceof Tc?(function(a,l,c){const f=a.value.clone(),m=PS(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(e,t,n):e instanceof Pa?(function(a,l,c){if(!Af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=PS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(P1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Fu(e,t,n,r){return e instanceof Tc?(function(l,c,f,m){if(!Af(l.precondition,c))return f;const g=l.value.clone(),y=kS(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,r):e instanceof Pa?(function(l,c,f,m){if(!Af(l.precondition,c))return f;const g=kS(l.fieldTransforms,m,c),y=c.data;return y.setAll(P1(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,r):(function(l,c,f){return Af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(e,t,n)}function FP(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=D1(r.transform,a||null);l!=null&&(n===null&&(n=$n.empty()),n.set(r.field,l))}return n||null}function OS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Wo(r,a,((l,c)=>jP(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Tc extends _d{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pa extends _d{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function P1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function PS(e,t,n){const r=new Map;Yt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,LP(c,f,n[a]))}return r}function kS(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,kP(l,c,t))}return r}class qy extends _d{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qP extends _d{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&zP(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Fu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Fu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=x1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=O1(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,((n,r)=>OS(n,r)))&&Wo(this.baseMutations,t.baseMutations,((n,r)=>OS(n,r)))}}class Hy{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Yt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return MP})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Hy(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,zt;function KP(e){switch(e){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function k1(e){if(e===void 0)return Ar("GRPC error has no .code"),et.UNKNOWN;switch(e){case Ve.OK:return et.OK;case Ve.CANCELLED:return et.CANCELLED;case Ve.UNKNOWN:return et.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return et.INTERNAL;case Ve.UNAVAILABLE:return et.UNAVAILABLE;case Ve.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ve.NOT_FOUND:return et.NOT_FOUND;case Ve.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ve.ABORTED:return et.ABORTED;case Ve.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ve.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:e})}}(zt=Ve||(Ve={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new bs([4294967295,4294967295],0);function LS(e){const t=QP().encode(e),n=new WA;return n.update(t),new Uint8Array(n.digest())}function US(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new bs([n,r],0),new bs([a,l],0)]}class Gy{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=bs.fromNumber(this.ge)}ye(t,n,r){let a=t.add(n.multiply(bs.fromNumber(r)));return a.compare(XP)===1&&(a=new bs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=LS(t),[r,a]=US(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Gy(l,a,n);return r.forEach((f=>c.insert(f))),c}insert(t){if(this.ge===0)return;const n=LS(t),[r,a]=US(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,Ec.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Td(bt.min(),a,new de(Lt),Rr(),Ut())}}class Ec{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ec(r,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,n,r,a){this.be=t,this.removedTargetIds=n,this.key=r,this.De=a}}class L1{constructor(t,n){this.targetId=t,this.Ce=n}}class U1{constructor(t,n,r=en.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class jS{constructor(){this.ve=0,this.Fe=BS(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),r=Ut();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Tt(38017,{changeType:l})}})),new Ec(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=BS()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $P{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rr(),this.Je=uf(),this.He=uf(),this.Ye=new de(Lt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,r=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Dg(l))if(r===0){const c=new yt(l.path);this.et(n,c,an.newNoDocument(c,bt.min()))}else Yt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const f=this.ut(t),m=f?this.ct(f,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=xs(r).toUint8Array()}catch(m){if(m instanceof u1)return $o("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Gy(c,a,l)}catch(m){return $o(m instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Dg(f.target)){const m=new yt(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,an.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=Ut();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Td(t,n,this.Ye,this.je,r);return this.je=Rr(),this.Je=uf(),this.He=uf(),this.Ye=new de(Lt),a}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new jS,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ze(Lt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ze(Lt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new jS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function uf(){return new de(yt.comparator)}function BS(){return new de(yt.comparator)}const WP={asc:"ASCENDING",desc:"DESCENDING"},ZP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JP={and:"AND",or:"OR"};class t4{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vg(e,t){return e.useProto3Json||dd(t)?t:{value:t}}function Yf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function j1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function e4(e,t){return Yf(e,t.toTimestamp())}function Ki(e){return Yt(!!e,49232),bt.fromTimestamp((function(n){const r=Cs(n);return new ae(r.seconds,r.nanos)})(e))}function Yy(e,t){return Og(e,t).canonicalString()}function Og(e,t){const n=(function(a){return new ie(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function B1(e){const t=ie.fromString(e);return Yt(G1(t),10190,{key:t.toString()}),t}function Pg(e,t){return Yy(e.databaseId,t.path)}function Gp(e,t){const n=B1(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(F1(n))}function z1(e,t){return Yy(e.databaseId,t)}function n4(e){const t=B1(e);return t.length===4?ie.emptyPath():F1(t)}function kg(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function F1(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function zS(e,t,n){return{name:Pg(e,t),fields:n.value.mapValue.fields}}function i4(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),en.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),en.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(g){const y=g.code===void 0?et.UNKNOWN:k1(g.code);return new ct(y,g.message||"")})(c);n=new U1(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Gp(e,r.document.name),l=Ki(r.document.updateTime),c=r.document.createTime?Ki(r.document.createTime):bt.min(),f=new $n({mapValue:{fields:r.document.fields}}),m=an.newFoundDocument(a,l,c,f),g=r.targetIds||[],y=r.removedTargetIds||[];n=new Rf(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Gp(e,r.document),l=r.readTime?Ki(r.readTime):bt.min(),c=an.newNoDocument(a,l),f=r.removedTargetIds||[];n=new Rf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Gp(e,r.document),l=r.removedTargetIds||[];n=new Rf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new YP(a,l),f=r.targetId;n=new L1(f,c)}}return n}function r4(e,t){let n;if(t instanceof Tc)n={update:zS(e,t.key,t.value)};else if(t instanceof qy)n={delete:Pg(e,t.key)};else if(t instanceof Pa)n={update:zS(e,t.key,t.data),updateMask:d4(t.fieldMask)};else{if(!(t instanceof qP))return Tt(16599,{Vt:t.type});n={verify:Pg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof ic)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof rc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof sc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Gf)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Tt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:e4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function s4(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Ki(a.updateTime):Ki(l);return c.isEqual(bt.min())&&(c=Ki(l)),new BP(c,a.transformResults||[])})(n,t)))):[]}function a4(e,t){return{documents:[z1(e,t.path)]}}function o4(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=z1(e,a);const l=(function(g){if(g.length!==0)return H1(_i.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:No(S.field),direction:c4(S.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Vg(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function l4(e){let t=n4(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Yt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const S=q1(_);return S instanceof _i&&_1(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((S=>(function(I){return new nc(Vo(I.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(S)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let S;return S=typeof _=="object"?_.value:_,dd(S)?null:S})(n.limit));let m=null;n.startAt&&(m=(function(_){const S=!!_.before,w=_.values||[];return new Hf(w,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const S=!_.before,w=_.values||[];return new Hf(w,S)})(n.endAt)),RP(t,a,c,l,f,"F",m,g)}function u4(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function q1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vo(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vo(n.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(n.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(n.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Pe.create(Vo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return _i.create(n.compositeFilter.filters.map((r=>q1(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function c4(e){return WP[e]}function h4(e){return ZP[e]}function f4(e){return JP[e]}function No(e){return{fieldPath:e.canonicalString()}}function Vo(e){return tn.fromServerFormat(e.fieldPath)}function H1(e){return e instanceof Pe?(function(n){if(n.op==="=="){if(xS(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(CS(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xS(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(CS(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:h4(n.op),value:n.value}}})(e):e instanceof _i?(function(n){const r=n.getFilters().map((a=>H1(a)));return r.length===1?r[0]:{compositeFilter:{op:f4(n.op),filters:r}}})(e):Tt(54877,{filter:e})}function d4(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function G1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t,n,r,a,l=bt.min(),c=bt.min(),f=en.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new vs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t){this.yt=t}}function p4(e){const t=l4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ng(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.Cn=new y4}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(Rs.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(Rs.min())}updateCollectionGroup(t,n,r){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class y4{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new ze(ie.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new ze(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y1=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(Y1,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="LruGarbageCollector",v4=1048576;function HS([e,t],[n,r]){const a=Lt(e,n);return a===0?Lt(t,r):a}class _4{constructor(t){this.Ir=t,this.buffer=new ze(HS),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();HS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T4{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(qS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?ht(qS,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.Vr(3e5)}))}}class E4{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return it.resolve(fd.ce);const r=new _4(n);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(FS)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FS):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,a,l,c,f,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(r=_,f=Date.now(),this.removeTargets(t,r,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((_=>(g=Date.now(),Do()<=kt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function S4(e,t){return new E4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.changes=new Oa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?it.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(r!==null&&Fu(r.mutation,a,gi.empty(),ae.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Ut()){const a=_a();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,r).next((l=>{let c=Vu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=_a();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Ut())))}populateOverlays(t,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(t,n,r,a){let l=Rr();const c=zu(),f=(function(){return zu()})();return n.forEach(((m,g)=>{const y=r.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Pa)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Fu(y.mutation,g,y.mutation.getFieldMask(),ae.now())):c.set(g.key,gi.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>f.set(g,new w4(y,c.get(g)??null)))),f)))}recalculateAndSaveOverlays(t,n){const r=zu();let a=new de(((c,f)=>c-f)),l=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=r.get(m)||gi.empty();y=f.applyToLocalView(g,y),r.set(m,y);const _=(a.get(f.batchId)||Ut()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,_=x1();y.forEach((S=>{if(!l.has(S)){const w=O1(n.get(S),r.get(S));w!==null&&_.set(S,w),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return it.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):it.resolve(_a());let f=Zu,m=l;return c.next((g=>it.forEach(g,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next((S=>{m=m.insert(y,S)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,Ut()))).next((y=>({batchId:f,changes:C1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((r=>{let a=Vu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(t,l).next((f=>it.forEach(f,(m=>{const g=(function(_,S){return new dl(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,r,a).next((y=>{y.forEach(((_,S)=>{c=c.insert(_,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,an.newInvalidDocument(y)))}));let f=Vu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Fu(y.mutation,g,gi.empty(),ae.now()),yd(n,g)&&(f=f.insert(m,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Ki(a.createTime)}})(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:p4(a.bundledQuery),readTime:Ki(a.readTime)}})(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.overlays=new de(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const r=_a();return it.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((a,l)=>{this.St(t,n,l)})),it.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),it.resolve()}getOverlaysForCollection(t,n,r){const a=_a(),l=n.length+1,c=new yt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new de(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=l.get(g.largestBatchId);y===null&&(y=_a(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=_a(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=a)););return it.resolve(f)}St(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new GP(n,r));let l=this.qr.get(n);l===void 0&&(l=Ut(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Qr=new ze(Ge.$r),this.Ur=new ze(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ge(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Ge(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new yt(new ie([])),r=new Ge(n,t),a=new Ge(n,t+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ie([])),r=new Ge(n,t),a=new Ge(n,t+1);let l=Ut();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ge(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ge{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Lt(t.Yr,n.Yr)}static Kr(t,n){return Lt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Ge.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new HP(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new Ge(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Ly:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ge(n,0),a=new Ge(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ze(Lt);return n.forEach((a=>{const l=new Ge(a,0),c=new Ge(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),it.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new Ge(new yt(l),0);let f=new ze(Lt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Yr)),!0)}),c),it.resolve(this.ti(f))}ti(t){const n=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return it.forEach(n.mutations,(a=>{const l=new Ge(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Ge(n,0),a=this.Zr.firstAfterOrEqual(r);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.ri=t,this.docs=(function(){return new de(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return it.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(t,n){let r=Rr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))})),it.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Rr();const c=n.path,f=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||rP(iP(y),r)<=0||(a.has(y.key)||yd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Tt(9500)}ii(t,n){return it.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new M4(this)}getSize(t){return it.resolve(this.size)}}class M4 extends b4{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.persistence=t,this.si=new Oa((n=>By(n)),zy),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ky,this.targetCount=0,this.ai=tl.ur()}forEachTarget(t,n){return this.si.forEach(((r,a)=>n(a))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new tl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),it.waitFor(l).next((()=>a))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return it.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),it.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return it.resolve(r)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,n){this.ui={},this.overlays={},this.ci=new fd(0),this.li=!1,this.li=!0,this.hi=new x4,this.referenceDelegate=t(this),this.Pi=new N4(this),this.indexManager=new g4,this.remoteDocumentCache=(function(a){return new D4(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new m4(n),this.Ii=new R4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new C4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new I4(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ht("MemoryPersistence","Starting transaction:",t);const a=new V4(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return it.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class V4 extends aP{constructor(t){super(),this.currentSequenceNumber=t}}class Qy{constructor(t){this.persistence=t,this.Ri=new Ky,this.Vi=null}static mi(t){return new Qy(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),it.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,(r=>{const a=yt.fromPath(r);return this.gi(t,a).next((l=>{l||n.removeEntry(a,bt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Kf{constructor(t,n){this.persistence=t,this.pi=new Oa((r=>uP(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=S4(this,n)}static mi(t,n){return new Kf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((a=>r+a))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return it.forEach(this.pi,((r,a)=>this.br(t,r,a).next((l=>l?it.resolve():n(a)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,n).next((f=>{f||(r++,l.removeEntry(c,bt.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bf(t.data.value)),n}br(t,n,r){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return it.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=a}static As(t,n){let r=Ut(),a=Ut();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xy(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hM()?8:oP(ln())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ys(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new O4;return this.Ss(t,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(t,n,c,f.size)}))})).next((()=>l.result))}bs(t,n,r,a){return r.documentReadCount<this.fs?(Do()<=kt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Do()<=kt.DEBUG&&ht("QueryEngine","Query:",Mo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Do()<=kt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yi(n))):it.resolve())}ys(t,n){if(NS(n))return it.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ng(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=Ut(...l);return this.ps.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,r).next((m=>{const g=this.Ds(n,f);return this.Cs(n,g,c,m.readTime)?this.ys(t,Ng(n,null,"F")):this.vs(t,g,n,m)}))))})))))}ws(t,n,r,a){return NS(n)||a.isEqual(bt.min())?it.resolve(null):this.ps.getDocuments(t,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?it.resolve(null):(Do()<=kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.vs(t,c,n,nP(a,Zu)).next((f=>f)))}))}Ds(t,n){let r=new ze(A1(t));return n.forEach(((a,l)=>{yd(t,l)&&(r=r.add(l))})),r}Cs(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,r){return Do()<=kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.ps.getDocumentsMatchingQuery(t,n,Rs.min(),r)}vs(t,n,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="LocalStore",k4=3e8;class L4{constructor(t,n,r,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new de(Lt),this.xs=new Oa((l=>By(l)),zy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new A4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function U4(e,t,n,r){return new L4(e,t,n,r)}async function Q1(e,t){const n=At(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let m=Ut();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function j4(e,t){const n=At(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const _=g.batch,S=_.keys();let w=it.resolve();return S.forEach((I=>{w=w.next((()=>y.getEntry(m,I))).next((N=>{const V=g.docVersions.get(I);Yt(V!==null,48541),N.version.compareTo(V)<0&&(_.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),y.addEntry(N)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,r,t,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=Ut();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function X1(e){const t=At(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function B4(e,t){const n=At(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];t.targetChanges.forEach(((y,_)=>{const S=a.get(_);if(!S)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let w=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(en.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(_,w),(function(N,V,B){return N.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=k4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(S,w,y)&&f.push(n.Pi.updateTargetData(l,w))}));let m=Rr(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(z4(l,c,t.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!r.isEqual(bt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(y)}return it.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function z4(e,t,n){let r=Ut(),a=Ut();return n.forEach((l=>r=r.add(l))),t.getEntries(e,r).next((l=>{let c=Rr();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(bt.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ht($y,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function F4(e,t){const n=At(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function q4(e,t){const n=At(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,t).next((l=>l?(a=l,it.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new vs(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function Lg(e,t,n){const r=At(e),a=r.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fl(c))throw c;ht($y,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function GS(e,t,n){const r=At(e);let a=bt.min(),l=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const _=At(m),S=_.xs.get(y);return S!==void 0?it.resolve(_.Ms.get(S)):_.Pi.getTargetData(g,y)})(r,c,Yi(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,n?a:bt.min(),n?l:Ut()))).next((f=>(H4(r,xP(t),f),{documents:f,Qs:l})))))}function H4(e,t,n){let r=e.Os.get(t)||bt.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),e.Os.set(t,r)}class YS{constructor(){this.activeTargetIds=OP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G4{constructor(){this.Mo=new YS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new YS,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="ConnectivityMonitor";class QS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(KS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(KS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function Ug(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RestConnection",K4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Ff?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,n,r,a,l){const c=Ug(),f=this.zo(t,n.toUriEncodedString());ht(Yp,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(f),y=al(g);return this.Jo(t,f,m,r,y).then((_=>(ht(Yp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw $o(Yp,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",r),_}))}Ho(t,n,r,a,l,c){return this.Go(t,n,r,a,l)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),r&&r.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const r=K4[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class $4 extends Q4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,a,l){const c=Ug();return new Promise(((f,m)=>{const g=new ZA;g.setWithCredentials(!0),g.listenOnce(JA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Sf.NO_ERROR:const _=g.getResponseJson();ht(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case Sf.TIMEOUT:ht(rn,`RPC '${t}' ${c} timed out`),m(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const S=g.getStatus();if(ht(rn,`RPC '${t}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const N=(function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(X)>=0?X:et.UNKNOWN})(I.status);m(new ct(N,I.message))}else m(new ct(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(rn,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,r,15)}))}T_(t,n,r){const a=Ug(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=n1(),f=e1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ht(rn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let S=!1,w=!1;const I=new X4({Yo:V=>{w?ht(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,V):(S||(ht(rn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),S=!0),ht(rn,`RPC '${t}' stream ${a} sending:`,V),_.send(V))},Zo:()=>_.close()}),N=(V,B,X)=>{V.listen(B,(H=>{try{X(H)}catch(at){setTimeout((()=>{throw at}),0)}}))};return N(_,Nu.EventType.OPEN,(()=>{w||(ht(rn,`RPC '${t}' stream ${a} transport opened.`),I.o_())})),N(_,Nu.EventType.CLOSE,(()=>{w||(w=!0,ht(rn,`RPC '${t}' stream ${a} transport closed`),I.a_(),this.E_(_))})),N(_,Nu.EventType.ERROR,(V=>{w||(w=!0,$o(rn,`RPC '${t}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),I.a_(new ct(et.UNAVAILABLE,"The operation could not be completed")))})),N(_,Nu.EventType.MESSAGE,(V=>{var B;if(!w){const X=V.data[0];Yt(!!X,16349);const H=X,at=(H==null?void 0:H.error)||((B=H[0])==null?void 0:B.error);if(at){ht(rn,`RPC '${t}' stream ${a} received error:`,at);const st=at.status;let lt=(function(x){const O=Ve[x];if(O!==void 0)return k1(O)})(st),C=at.message;lt===void 0&&(lt=et.INTERNAL,C="Unknown error status: "+st+" with message "+at.message),w=!0,I.a_(new ct(lt,C)),_.close()}else ht(rn,`RPC '${t}' stream ${a} received:`,X),I.u_(X)}})),N(f,t1.STAT_EVENT,(V=>{V.stat===Ag.PROXY?ht(rn,`RPC '${t}' stream ${a} detected buffering proxy`):V.stat===Ag.NOPROXY&&ht(rn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e){return new t4(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="PersistentStream";class W1{constructor(t,n,r,a,l,c,f,m){this.Mi=t,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{t((()=>{const a=new ct(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(XS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(XS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W4 extends W1{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=i4(this.serializer,t),r=(function(l){if(!("targetChange"in l))return bt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?Ki(c.readTime):bt.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=kg(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Dg(m)?{documents:a4(l,m)}:{query:o4(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=j1(l,c.resumeToken);const g=Vg(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(bt.min())>0){f.readTime=Yf(l,c.snapshotVersion.toTimestamp());const g=Vg(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,t);const r=u4(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=kg(this.serializer),n.removeTarget=t,this.q_(n)}}class Z4 extends W1{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=s4(t.writeResults,t.commitTime),r=Ki(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=kg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>r4(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{}class tk extends J4{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,Og(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(et.UNKNOWN,l.toString())}))}Ho(t,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(t,Og(n,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ek{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class nk{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ka(this)&&(ht(Ia,"Restarting streams for network reachability change."),await(async function(m){const g=At(m);g.Ea.add(4),await Sc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Sd(g)})(this))}))})),this.Ra=new ek(r,a)}}async function Sd(e){if(ka(e))for(const t of e.da)await t(!0)}async function Sc(e){for(const t of e.da)await t(!1)}function Z1(e,t){const n=At(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),tv(n)?Jy(n):ml(n).O_()&&Zy(n,t))}function Wy(e,t){const n=At(e),r=ml(n);n.Ia.delete(t),r.O_()&&J1(n,t),n.Ia.size===0&&(r.O_()?r.L_():ka(n)&&n.Ra.set("Unknown"))}function Zy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ml(e).Y_(t)}function J1(e,t){e.Va.Ue(t),ml(e).Z_(t)}function Jy(e){e.Va=new $P({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ml(e).start(),e.Ra.ua()}function tv(e){return ka(e)&&!ml(e).x_()&&e.Ia.size>0}function ka(e){return At(e).Ea.size===0}function tR(e){e.Va=void 0}async function ik(e){e.Ra.set("Online")}async function rk(e){e.Ia.forEach(((t,n)=>{Zy(e,t)}))}async function sk(e,t){tR(e),tv(e)?(e.Ra.ha(t),Jy(e)):e.Ra.set("Unknown")}async function ak(e,t,n){if(e.Ra.set("Online"),t instanceof U1&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(e,t)}catch(r){ht(Ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Qf(e,r)}else if(t instanceof Rf?e.Va.Ze(t):t instanceof L1?e.Va.st(t):e.Va.tt(t),!n.isEqual(bt.min()))try{const r=await X1(e.localStore);n.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),J1(l,m);const _=new vs(y.target,m,g,y.sequenceNumber);Zy(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(e,n)}catch(r){ht(Ia,"Failed to raise snapshot:",r),await Qf(e,r)}}async function Qf(e,t,n){if(!fl(t))throw t;e.Ea.add(1),await Sc(e),e.Ra.set("Offline"),n||(n=()=>X1(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ht(Ia,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Sd(e)}))}function eR(e,t){return t().catch((n=>Qf(e,n,t)))}async function bd(e){const t=At(e),n=Ds(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ly;for(;ok(t);)try{const a=await F4(t.localStore,r);if(a===null){t.Ta.length===0&&n.L_();break}r=a.batchId,lk(t,a)}catch(a){await Qf(t,a)}nR(t)&&iR(t)}function ok(e){return ka(e)&&e.Ta.length<10}function lk(e,t){e.Ta.push(t);const n=Ds(e);n.O_()&&n.X_&&n.ea(t.mutations)}function nR(e){return ka(e)&&!Ds(e).x_()&&e.Ta.length>0}function iR(e){Ds(e).start()}async function uk(e){Ds(e).ra()}async function ck(e){const t=Ds(e);for(const n of e.Ta)t.ea(n.mutations)}async function hk(e,t,n){const r=e.Ta.shift(),a=Hy.from(r,t,n);await eR(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await bd(e)}async function fk(e,t){t&&Ds(e).X_&&await(async function(r,a){if((function(c){return KP(c)&&c!==et.ABORTED})(a.code)){const l=r.Ta.shift();Ds(r).B_(),await eR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await bd(r)}})(e,t),nR(e)&&iR(e)}async function $S(e,t){const n=At(e);n.asyncQueue.verifyOperationInProgress(),ht(Ia,"RemoteStore received new credentials");const r=ka(n);n.Ea.add(3),await Sc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Sd(n)}async function dk(e,t){const n=At(e);t?(n.Ea.delete(2),await Sd(n)):t||(n.Ea.add(2),await Sc(n),n.Ra.set("Unknown"))}function ml(e){return e.ma||(e.ma=(function(n,r,a){const l=At(n);return l.sa(),new W4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:ik.bind(null,e),t_:rk.bind(null,e),r_:sk.bind(null,e),H_:ak.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),tv(e)?Jy(e):e.Ra.set("Unknown")):(await e.ma.stop(),tR(e))}))),e.ma}function Ds(e){return e.fa||(e.fa=(function(n,r,a){const l=At(n);return l.sa(),new Z4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:uk.bind(null,e),r_:fk.bind(null,e),ta:ck.bind(null,e),na:hk.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await bd(e)):(await e.fa.stop(),e.Ta.length>0&&(ht(Ia,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new ev(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(e,t){if(Ar("AsyncQueue",`${t}: ${e}`),fl(e))return new ct(et.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(t){return new Go(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=Vu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Go)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.ga=new de(yt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class el{constructor(t,n,r,a,l,c,f,m,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new el(t,n,Go.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pk{constructor(){this.queries=ZS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=At(n),l=a.queries;a.queries=ZS(),l.forEach(((c,f)=>{for(const m of f.Sa)m.onError(r)}))})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function ZS(){return new Oa((e=>w1(e)),gd)}async function rR(e,t){const n=At(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(r=2):(l=new mk,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=nv(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&iv(n)}async function sR(e,t){const n=At(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gk(e,t){const n=At(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&iv(n)}function yk(e,t,n){const r=At(e),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(t)}function iv(e){e.Ca.forEach((t=>{t.next()}))}var jg,JS;(JS=jg||(jg={})).Ma="default",JS.Cache="cache";class aR{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new el(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.key=t}}class lR{constructor(t){this.key=t}}class vk{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=A1(t),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new WS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const S=a.get(y),w=yd(this.query,_)?_:null,I=!!S&&this.mutatedKeys.has(S.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;S&&w?S.data.isEqual(w.data)?I!==N&&(r.track({type:3,doc:w}),V=!0):this.su(S,w)||(r.track({type:2,doc:w}),V=!0,(m&&this.eu(w,m)>0||g&&this.eu(w,g)<0)&&(f=!0)):!S&&w?(r.track({type:0,doc:w}),V=!0):S&&!w&&(r.track({type:1,doc:S}),V=!0,(m||g)&&(f=!0)),V&&(w?(c=c.add(w),l=N?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(w,I){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:V})}};return N(w)-N(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new el(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new lR(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new oR(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rv="SyncEngine";class _k{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Tk{constructor(t){this.key=t,this.hu=!1}}class Ek{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Oa((f=>w1(f)),gd),this.Iu=new Map,this.Eu=new Set,this.du=new de(yt.comparator),this.Au=new Map,this.Ru=new Ky,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sk(e,t,n=!0){const r=mR(e);let a;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await uR(r,t,n,!0),a}async function bk(e,t){const n=mR(e);await uR(n,t,!0,!1)}async function uR(e,t,n,r){const a=await q4(e.localStore,Yi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await wk(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&Z1(e.remoteStore,a),f}async function wk(e,t,n,r,a){e.pu=(_,S,w)=>(async function(N,V,B,X){let H=V.view.ru(B);H.Cs&&(H=await GS(N.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,H))));const at=X&&X.targetChanges.get(V.targetId),st=X&&X.targetMismatches.get(V.targetId)!=null,lt=V.view.applyChanges(H,N.isPrimaryClient,at,st);return eb(N,V.targetId,lt.au),lt.snapshot})(e,_,S,w);const l=await GS(e.localStore,t,!0),c=new vk(t,l.Qs),f=c.ru(l.documents),m=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),g=c.applyChanges(f,e.isPrimaryClient,m);eb(e,n,g.au);const y=new _k(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function Ak(e,t,n){const r=At(e),a=r.Tu.get(t),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!gd(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Lg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Wy(r.remoteStore,a.targetId),Bg(r,a.targetId)})).catch(hl)):(Bg(r,a.targetId),await Lg(r.localStore,a.targetId,!0))}async function Rk(e,t){const n=At(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wy(n.remoteStore,r.targetId))}async function Ck(e,t,n){const r=Ok(e);try{const a=await(function(c,f){const m=At(c),g=ae.now(),y=f.reduce(((w,I)=>w.add(I.key)),Ut());let _,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=Rr(),N=Ut();return m.Ns.getEntries(w,y).next((V=>{I=V,I.forEach(((B,X)=>{X.isValidDocument()||(N=N.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,I))).next((V=>{_=V;const B=[];for(const X of f){const H=FP(X,_.get(X.key).overlayedDocument);H!=null&&B.push(new Pa(X.key,H,g1(H.value.mapValue),yi.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,B,f)})).next((V=>{S=V;const B=V.applyToLocalDocumentSet(_,N);return m.documentOverlayCache.saveOverlays(w,V.batchId,B)}))})).then((()=>({batchId:S.batchId,changes:C1(_)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new de(Lt)),g=g.insert(f,m),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,n),await bc(r,a.changes),await bd(r.remoteStore)}catch(a){const l=nv(a,"Failed to persist write");n.reject(l)}}async function cR(e,t){const n=At(e);try{const r=await B4(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Yt(c.hu,14607):a.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await bc(n,r,t)}catch(r){await hl(r)}}function tb(e,t,n){const r=At(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=At(c);m.onlineState=f;let g=!1;m.queries.forEach(((y,_)=>{for(const S of _.Sa)S.va(f)&&(g=!0)})),g&&iv(m)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xk(e,t,n){const r=At(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),l=a&&a.key;if(l){let c=new de(yt.comparator);c=c.insert(l,an.newNoDocument(l,bt.min()));const f=Ut().add(l),m=new Td(bt.min(),new Map,new de(Lt),c,f);await cR(r,m),r.du=r.du.remove(l),r.Au.delete(t),sv(r)}else await Lg(r.localStore,t,!1).then((()=>Bg(r,t,n))).catch(hl)}async function Ik(e,t){const n=At(e),r=t.batch.batchId;try{const a=await j4(n.localStore,t);fR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bc(n,a)}catch(a){await hl(a)}}async function Dk(e,t,n){const r=At(e);try{const a=await(function(c,f){const m=At(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((_=>(Yt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(r.localStore,t);fR(r,t,n),hR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await bc(r,a)}catch(a){await hl(a)}}function hR(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function fR(e,t,n){const r=At(e);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function Bg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||dR(e,r)}))}function dR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Wy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),sv(e))}function eb(e,t,n){for(const r of n)r instanceof oR?(e.Ru.addReference(r.key,t),Mk(e,r)):r instanceof lR?(ht(rv,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||dR(e,r.key)):Tt(19791,{wu:r})}function Mk(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ht(rv,"New document in limbo: "+n),e.Eu.add(r),sv(e))}function sv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ie.fromString(t)),r=e.fu.next();e.Au.set(r,new Tk(n)),e.du=e.du.insert(n,r),Z1(e.remoteStore,new vs(Yi(pd(n.path)),r,"TargetPurposeLimboResolution",fd.ce))}}async function bc(e,t,n){const r=At(e),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,m)=>{c.push(r.pu(m,t,n).then((g=>{var y;if((g||n)&&r.isPrimaryClient){const _=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=Xy.As(m.targetId,g);l.push(_)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(m,g){const y=At(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>it.forEach(g,(S=>it.forEach(S.Es,(w=>y.persistence.referenceDelegate.addReference(_,S.targetId,w))).next((()=>it.forEach(S.ds,(w=>y.persistence.referenceDelegate.removeReference(_,S.targetId,w)))))))))}catch(_){if(!fl(_))throw _;ht($y,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const w=y.Ms.get(S),I=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(S,N)}}})(r.localStore,l))}async function Nk(e,t){const n=At(e);if(!n.currentUser.isEqual(t)){ht(rv,"User change. New user:",t.toKey());const r=await Q1(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ct(et.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await bc(n,r.Ls)}}function Vk(e,t){const n=At(e),r=n.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let a=Ut();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function mR(e){const t=At(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xk.bind(null,t),t.Pu.H_=gk.bind(null,t.eventManager),t.Pu.yu=yk.bind(null,t.eventManager),t}function Ok(e){const t=At(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dk.bind(null,t),t}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ed(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return U4(this.persistence,new P4,t.initialUser,this.serializer)}Cu(t){return new K1(Qy.mi,this.serializer)}Du(t){return new G4}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class Pk extends Xf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof Kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new T4(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new K1((r=>Kf.mi(r,n)),this.serializer)}}class zg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nk.bind(null,this.syncEngine),await dk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pk})()}createDatastore(t){const n=Ed(t.databaseInfo.databaseId),r=(function(l){return new $4(l)})(t.databaseInfo);return(function(l,c,f,m){return new tk(l,c,f,m)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,a,l,c,f){return new nk(r,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(n=>tb(this.syncEngine,n,0)),(function(){return QS.v()?new QS:new Y4})())}createSyncEngine(t,n){return(function(a,l,c,f,m,g,y){const _=new Ek(a,l,c,f,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(a){const l=At(a);ht(Ia,"RemoteStore shutting down."),l.Ea.add(5),await Sc(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ar("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class kk{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=ky.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ht(Ms,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ht(Ms,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=nv(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Qp(e,t){e.asyncQueue.verifyOperationInProgress(),ht(Ms,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async a=>{r.isEqual(a)||(await Q1(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function nb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Lk(e);ht(Ms,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>$S(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,a)=>$S(t.remoteStore,a))),e._onlineComponents=t}async function Lk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(Ms,"Using user provided OfflineComponentProvider");try{await Qp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await Qp(e,new Xf)}}else ht(Ms,"Using default OfflineComponentProvider"),await Qp(e,new Pk(void 0));return e._offlineComponents}async function gR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(Ms,"Using user provided OnlineComponentProvider"),await nb(e,e._uninitializedComponentsProvider._online)):(ht(Ms,"Using default OnlineComponentProvider"),await nb(e,new zg))),e._onlineComponents}function Uk(e){return gR(e).then((t=>t.syncEngine))}async function Fg(e){const t=await gR(e),n=t.eventManager;return n.onListen=Sk.bind(null,t.syncEngine),n.onUnlisten=Ak.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Rk.bind(null,t.syncEngine),n}function jk(e,t,n={}){const r=new ws;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const y=new pR({next:S=>{y.Nu(),c.enqueueAndForget((()=>sR(l,_)));const w=S.docs.has(f);!w&&S.fromCache?g.reject(new ct(et.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&m&&m.source==="server"?g.reject(new ct(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new aR(pd(f.path),y,{includeMetadataChanges:!0,qa:!0});return rR(l,_)})(await Fg(e),e.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firestore.googleapis.com",rb=!0;class sb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vR,this.ssl=rb}else this.host=t.host,this.ssl=t.ssl??rb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Y1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<v4)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yR(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wd{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GO;switch(r.type){case"firstParty":return new XO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ib.get(n);r&&(ht("ComponentProvider","Removing Datastore"),ib.delete(n),r.terminate())})(this),Promise.resolve()}}function Bk(e,t,n,r={}){var g;e=Gi(e,wd);const a=al(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},f=`${t}:${n}`;a&&(cA(`https://${f}`),hA("Firestore",!0)),l.host!==vR&&l.host!==f&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:r};if(!Aa(m,c)&&(e._setSettings(m),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=sn.MOCK_USER;else{y=nM(r.mockUserToken,(g=e._app)==null?void 0:g.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(S)}e._authCredentials=new YO(new r1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new La(this.firestore,t,this._query)}}class be{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(_c(n,be._jsonSchema))return new be(t,r||null,new yt(ie.fromString(n.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:ke("string",be._jsonSchemaVersion),referencePath:ke("string")};class As extends La{constructor(t,n,r){super(t,n,pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new yt(t))}withConverter(t){return new As(this.firestore,t,this._path)}}function qg(e,t,...n){if(e=un(e),s1("collection","path",t),e instanceof wd){const r=ie.fromString(t,...n);return vS(r),new As(e,null,r)}{if(!(e instanceof be||e instanceof As))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return vS(r),new As(e.firestore,null,r)}}function qu(e,t,...n){if(e=un(e),arguments.length===1&&(t=ky.newId()),s1("doc","path",t),e instanceof wd){const r=ie.fromString(t,...n);return yS(r),new be(e,null,new yt(r))}{if(!(e instanceof be||e instanceof As))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ie.fromString(t,...n));return yS(r),new be(e.firestore,e instanceof As?e.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="AsyncQueue";class ob{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $1(this,"async_queue_retry"),this._c=()=>{const r=Kp();r&&ht(ab,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Kp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fl(t))throw t;ht(ab,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",lb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=ev.createAndSchedule(this,t,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:lb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function lb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class Da extends wd{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new ob,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ob(t),this._firestoreClient=void 0,await t}}}function zk(e,t){const n=typeof e=="object"?e:pA(),r=typeof e=="string"?e:Ff,a=Ry(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=tM("firestore");l&&Bk(a,...l)}return a}function av(e){if(e._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Fk(e),e._firestoreClient}function Fk(e){var r,a,l;const t=e._freezeSettings(),n=(function(f,m,g,y){return new fP(f,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,yR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((l=t.localCache)!=null&&l._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new kk(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(en.fromBase64String(t))}catch(n){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_c(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:ke("string",Wn._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(_c(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:ke("string",Qi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_c(t,Xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Xi(t.vectorValues);throw new ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:ke("string",Xi._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=/^__.*__$/;class Hk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Pa(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(t,this.data,n,this.fieldTransforms)}}function _R(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:e})}}class uv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new uv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const n=(a=this.path)==null?void 0:a.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){var a;const n=(a=this.path)==null?void 0:a.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $f(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_R(this.Ac)&&qk.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Gk{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(t)}Cc(t,n,r,a=!1){return new uv({Ac:t,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cv(e){const t=e._freezeSettings(),n=Ed(e._databaseId);return new Gk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TR(e,t,n,r,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);bR("Data must be an object, but it was:",c,r);const f=ER(r,c);let m,g;if(l.merge)m=new gi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const S=Kk(t,_,n);if(!c.contains(S))throw new ct(et.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Xk(y,S)||y.push(S)}m=new gi(y),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new Hk(new $n(f),m,g)}class hv extends lv{_toFieldTransform(t){return new UP(t.path,new ic)}isEqual(t){return t instanceof hv}}function Yk(e,t,n,r=!1){return fv(n,e.Cc(r?4:3,t))}function fv(e,t){if(SR(e=un(e)))return bR("Unsupported field value:",t,e),ER(e,t);if(e instanceof lv)return(function(r,a){if(!_R(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let m=fv(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(r,a){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ae.fromDate(r);return{timestampValue:Yf(a.serializer,l)}}if(r instanceof ae){const l=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,l)}}if(r instanceof Qi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:j1(a.serializer,r._byteString)};if(r instanceof be){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Xi)return(function(c,f){return{mapValue:{fields:{[m1]:{stringValue:p1},[qf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw f.Sc("VectorValues must only contain numeric values.");return Fy(f.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${hd(r)}`)})(e,t)}function ER(e,t){const n={};return l1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Va(e,((r,a)=>{const l=fv(a,t.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function SR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ae||e instanceof Qi||e instanceof Wn||e instanceof be||e instanceof lv||e instanceof Xi)}function bR(e,t,n){if(!SR(n)||!a1(n)){const r=hd(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Kk(e,t,n){if((t=un(t))instanceof ov)return t._internalPath;if(typeof t=="string")return wR(e,t);throw $f("Field path arguments must be of type string or ",e,!1,void 0,n)}const Qk=new RegExp("[~\\*/\\[\\]]");function wR(e,t,n){if(t.search(Qk)>=0)throw $f(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ov(...t.split("."))._internalPath}catch{throw $f(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function $f(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new ct(et.INVALID_ARGUMENT,f+e+m)}function Xk(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(dv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $k extends AR{data(){return super.data()}}function dv(e,t){return typeof t=="string"?wR(e,t):t instanceof ov?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mv{}class RR extends mv{}function CR(e,t,...n){let r=[];t instanceof mv&&r.push(t),r=r.concat(n),(function(l){const c=l.filter((m=>m instanceof gv)).length,f=l.filter((m=>m instanceof pv)).length;if(c>1||c>0&&f>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)e=a._apply(e);return e}class pv extends RR{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new pv(t,n,r)}_apply(t){const n=this._parse(t);return IR(t._query,n),new La(t.firestore,t.converter,Mg(t._query,n))}_parse(t){const n=cv(t.firestore);return(function(l,c,f,m,g,y,_){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){hb(_,y);const I=[];for(const N of _)I.push(cb(m,l,N));S={arrayValue:{values:I}}}else S=cb(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||hb(_,y),S=Yk(f,c,_,y==="in"||y==="not-in");return Pe.create(g,y,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class gv extends mv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new gv(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_i.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)IR(c,m),c=Mg(c,m)})(t._query,n),new La(t.firestore,t.converter,Mg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yv extends RR{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new yv(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(l,c)})(t._query,this._field,this._direction);return new La(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new dl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function xR(e,t="asc"){const n=t,r=dv("orderBy",e);return yv._create(r,n)}function cb(e,t,n){if(typeof(n=un(n))=="string"){if(n==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(t)&&n.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ie.fromString(n));if(!yt.isDocumentKey(r))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RS(e,new yt(r))}if(n instanceof be)return RS(e,n._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(n)}.`)}function hb(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IR(e,t){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Zk{convertValue(t,n="none"){switch(Is(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Va(t,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(t){var r,a,l;const n=(l=(a=(r=t.fields)==null?void 0:r[qf].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Se(c.doubleValue)));return new Xi(n)}convertGeoPoint(t){return new Qi(Se(t.latitude),Se(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=md(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(t));default:return null}}convertTimestamp(t){const n=Cs(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ie.fromString(t);Yt(G1(r),9688,{name:t});const a=new tc(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(n)||Ar(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class Pu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sa extends AR{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(dv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sa._jsonSchema={type:ke("string",Sa._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Cf extends Sa{data(t={}){return super.data(t)}}class Yo{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Pu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Cf(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Cf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Cf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Jk(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Yo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ky.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Jk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(e){e=Gi(e,be);const t=Gi(e.firestore,Da);return jk(av(t),e._key).then((n=>NR(t,e,n)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:ke("string",Yo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class MR extends Zk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,n)}}function eL(e,t,n){e=Gi(e,be);const r=Gi(e.firestore,Da),a=DR(e.converter,t);return vv(r,[TR(cv(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,yi.none())])}function nL(e){return vv(Gi(e.firestore,Da),[new qy(e._key,yi.none())])}function iL(e,t){const n=Gi(e.firestore,Da),r=qu(e),a=DR(e.converter,t);return vv(n,[TR(cv(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then((()=>r))}function Hg(e,...t){var m,g,y;e=un(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||ub(t[r])||(n=t[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ub(t[r])){const _=t[r];t[r]=(m=_.next)==null?void 0:m.bind(_),t[r+1]=(g=_.error)==null?void 0:g.bind(_),t[r+2]=(y=_.complete)==null?void 0:y.bind(_)}let l,c,f;if(e instanceof be)c=Gi(e.firestore,Da),f=pd(e._key.path),l={next:_=>{t[r]&&t[r](NR(c,e,_))},error:t[r+1],complete:t[r+2]};else{const _=Gi(e,La);c=Gi(_.firestore,Da),f=_._query;const S=new MR(c);l={next:w=>{t[r]&&t[r](new Yo(c,S,_,w))},error:t[r+1],complete:t[r+2]},Wk(e._query)}return(function(S,w,I,N){const V=new pR(N),B=new aR(w,V,I);return S.asyncQueue.enqueueAndForget((async()=>rR(await Fg(S),B))),()=>{V.Nu(),S.asyncQueue.enqueueAndForget((async()=>sR(await Fg(S),B)))}})(av(c),f,a,l)}function vv(e,t){return(function(r,a){const l=new ws;return r.asyncQueue.enqueueAndForget((async()=>Ck(await Uk(r),a,l))),l.promise})(av(e),t)}function NR(e,t,n){const r=n.docs.get(t._key),a=new MR(e);return new Sa(e,a,t._key,r,new Pu(n.hasPendingWrites,n.fromCache),t.converter)}function rL(){return new hv("serverTimestamp")}(function(t,n=!0){(function(a){cl=a})(ol),Qo(new Ra("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Da(new KO(r.getProvider("auth-internal")),new $O(c,r.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(g.options.projectId,y)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Es(dS,mS,t),Es(dS,mS,"esm2020")})();const sL={apiKey:"AIzaSyC2cvzb5f3_Y9U52JwZioNxIB8fhbH_6Vs",authDomain:"duyyeuman-31a2c.firebaseapp.com",projectId:"duyyeuman-31a2c",messagingSenderId:"989665171726",appId:"1:989665171726:web:0b8ba01c54b3ba82d21f5f"},VR=mA(sL),_v=zO(VR),va=zk(VR),OR=k.createContext({user:null,loading:!0}),aL=({children:e})=>{const[t,n]=k.useState(null),[r,a]=k.useState(!0);return k.useEffect(()=>{const l=IV(_v,c=>{n(c?{uid:c.uid,email:c.email}:null),a(!1)});return()=>l()},[]),j.jsx(OR.Provider,{value:{user:t,loading:r},children:e})},PR=()=>k.useContext(OR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),fb=e=>{const t=lL(e);return t.charAt(0).toUpperCase()+t.slice(1)},kR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),uL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},m)=>k.createElement("svg",{ref:m,...cL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:kR("lucide",a),...!l&&!uL(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,y])=>k.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(e,t)=>{const n=k.forwardRef(({className:r,...a},l)=>k.createElement(hL,{ref:l,iconNode:t,className:kR(`lucide-${oL(fb(e))}`,`lucide-${e}`,r),...a}));return n.displayName=fb(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],LR=mn("calendar",fL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mL=mn("circle-alert",dL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ko=mn("heart",pL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],yL=mn("house",gL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_L=mn("image",vL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],db=mn("loader-circle",TL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SL=mn("lock",EL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wL=mn("log-out",bL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RL=mn("mail",AL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]],xL=mn("music-2",CL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],UR=mn("music",IL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mb=mn("plus",DL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NL=mn("save",ML);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gg=mn("settings",VL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PL=mn("trash-2",OL),kL=({children:e})=>{const{user:t}=PR(),n=Dr(),r=async()=>{await DV(_v)};return j.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",children:[j.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/20 backdrop-blur-md border-b border-white/30 px-6 py-4 flex justify-between items-center",children:[j.jsxs(Oo,{to:"/",className:"flex items-center space-x-2 text-rose-600",children:[j.jsx(ko,{className:"w-6 h-6 fill-current"}),j.jsx("span",{className:"font-romantic text-2xl font-bold tracking-tight",children:"Love Journey"})]}),j.jsxs("div",{className:"flex items-center space-x-4",children:[n.pathname!=="/"&&j.jsx(Oo,{to:"/",className:"p-2 text-rose-600 hover:bg-rose-50 rounded-full transition-colors",children:j.jsx(yL,{className:"w-6 h-6"})}),t?j.jsxs(j.Fragment,{children:[j.jsx(Oo,{to:"/admin",className:"p-2 text-rose-600 hover:bg-rose-50 rounded-full transition-colors",children:j.jsx(Gg,{className:"w-6 h-6"})}),j.jsx("button",{onClick:r,className:"p-2 text-rose-600 hover:bg-rose-50 rounded-full transition-colors",children:j.jsx(wL,{className:"w-6 h-6"})})]}):j.jsx(Oo,{to:"/login",className:"p-2 text-rose-600 hover:bg-rose-50 rounded-full transition-colors",children:j.jsx(Gg,{className:"w-6 h-6"})})]})]}),j.jsx("main",{className:"flex-grow pt-24 pb-12",children:e}),j.jsx("footer",{className:"py-8 text-center text-rose-400 text-sm font-light",children:j.jsxs("p",{children:["Created with Love  ",new Date().getFullYear()]})})]})},Xp="/DuyYeuMan/assets/Boy-BeMrp7Vu.jpg",$p="/DuyYeuMan/assets/Girl-C01shs9Z.jpg",Wp="/DuyYeuMan/assets/bg-BFJGlvPU.jpg",jR=6048e5,LL=864e5,BR=6e4,zR=36e5,pb=Symbol.for("constructDateFrom");function Cr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&pb in e?e[pb](t):e instanceof Date?new e.constructor(t):new Date(t)}function On(e,t){return Cr(t||e,e)}let UL={};function Ad(){return UL}function ac(e,t){var f,m,g,y;const n=Ad(),r=(t==null?void 0:t.weekStartsOn)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,a=On(e,t==null?void 0:t.in),l=a.getDay(),c=(l<r?7:0)+l-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Wf(e,t){return ac(e,{...t,weekStartsOn:1})}function FR(e,t){const n=On(e,t==null?void 0:t.in),r=n.getFullYear(),a=Cr(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=Wf(a),c=Cr(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const f=Wf(c);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function gb(e){const t=On(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function qR(e,...t){const n=Cr.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function yb(e,t){const n=On(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function HR(e,t,n){const[r,a]=qR(n==null?void 0:n.in,e,t),l=yb(r),c=yb(a),f=+l-gb(l),m=+c-gb(c);return Math.round((f-m)/LL)}function jL(e,t){const n=FR(e,t),r=Cr(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Wf(r)}function BL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zL(e){return!(!BL(e)&&typeof e!="number"||isNaN(+On(e)))}function FL(e,t,n){const[r,a]=qR(n==null?void 0:n.in,e,t),l=vb(r,a),c=Math.abs(HR(r,a));r.setDate(r.getDate()-l*c);const f=+(vb(r,a)===-l),m=l*(c-f);return m===0?0:m}function vb(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function qL(e,t){const n=On(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const HL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GL=(e,t,n)=>{let r;const a=HL[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Zp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const YL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XL={date:Zp({formats:YL,defaultWidth:"full"}),time:Zp({formats:KL,defaultWidth:"full"}),dateTime:Zp({formats:QL,defaultWidth:"full"})},$L={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WL=(e,t,n,r)=>$L[e];function Au(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=n!=null&&n.width?String(n.width):c;a=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[f]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const ZL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},t3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},e3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},r3=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},s3={ordinalNumber:r3,era:Au({values:ZL,defaultWidth:"wide"}),quarter:Au({values:JL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Au({values:t3,defaultWidth:"wide"}),day:Au({values:e3,defaultWidth:"wide"}),dayPeriod:Au({values:n3,defaultWidth:"wide",formattingValues:i3,defaultFormattingWidth:"wide"})};function Ru(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],f=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(f)?o3(f,_=>_.test(c)):a3(f,_=>_.test(c));let g;g=e.valueCallback?e.valueCallback(m):m,g=n.valueCallback?n.valueCallback(g):g;const y=t.slice(c.length);return{value:g,rest:y}}}function a3(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function o3(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function l3(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const f=t.slice(a.length);return{value:c,rest:f}}}const u3=/^(\d+)(th|st|nd|rd)?/i,c3=/\d+/i,h3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f3={any:[/^b/i,/^(a|c)/i]},d3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m3={any:[/1/i,/2/i,/3/i,/4/i]},p3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},v3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},T3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E3={ordinalNumber:l3({matchPattern:u3,parsePattern:c3,valueCallback:e=>parseInt(e,10)}),era:Ru({matchPatterns:h3,defaultMatchWidth:"wide",parsePatterns:f3,defaultParseWidth:"any"}),quarter:Ru({matchPatterns:d3,defaultMatchWidth:"wide",parsePatterns:m3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ru({matchPatterns:p3,defaultMatchWidth:"wide",parsePatterns:g3,defaultParseWidth:"any"}),day:Ru({matchPatterns:y3,defaultMatchWidth:"wide",parsePatterns:v3,defaultParseWidth:"any"}),dayPeriod:Ru({matchPatterns:_3,defaultMatchWidth:"any",parsePatterns:T3,defaultParseWidth:"any"})},S3={code:"en-US",formatDistance:GL,formatLong:XL,formatRelative:WL,localize:s3,match:E3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function b3(e,t){const n=On(e,t==null?void 0:t.in);return HR(n,qL(n))+1}function w3(e,t){const n=On(e,t==null?void 0:t.in),r=+Wf(n)-+jL(n);return Math.round(r/jR)+1}function GR(e,t){var y,_,S,w;const n=On(e,t==null?void 0:t.in),r=n.getFullYear(),a=Ad(),l=(t==null?void 0:t.firstWeekContainsDate)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(S=a.locale)==null?void 0:S.options)==null?void 0:w.firstWeekContainsDate)??1,c=Cr((t==null?void 0:t.in)||e,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const f=ac(c,t),m=Cr((t==null?void 0:t.in)||e,0);m.setFullYear(r,0,l),m.setHours(0,0,0,0);const g=ac(m,t);return+n>=+f?r+1:+n>=+g?r:r-1}function A3(e,t){var f,m,g,y;const n=Ad(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,a=GR(e,t),l=Cr((t==null?void 0:t.in)||e,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),ac(l,t)}function R3(e,t){const n=On(e,t==null?void 0:t.in),r=+ac(n,t)-+A3(n,t);return Math.round(r/jR)+1}function $t(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const fs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return $t(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):$t(n+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return $t(a,t.length)}},Io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_b={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return fs.y(e,t)},Y:function(e,t,n,r){const a=GR(e,r),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return $t(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):$t(l,t.length)},R:function(e,t){const n=FR(e);return $t(n,t.length)},u:function(e,t){const n=e.getFullYear();return $t(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return fs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=R3(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):$t(a,t.length)},I:function(e,t,n){const r=w3(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):fs.d(e,t)},D:function(e,t,n){const r=b3(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return $t(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return $t(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return $t(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Io.noon:r===0?a=Io.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Io.evening:r>=12?a=Io.afternoon:r>=4?a=Io.morning:a=Io.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return fs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):fs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):fs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):fs.s(e,t)},S:function(e,t){return fs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Eb(r);case"XXXX":case"XX":return ga(r);case"XXXXX":case"XXX":default:return ga(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Eb(r);case"xxxx":case"xx":return ga(r);case"xxxxx":case"xxx":default:return ga(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Tb(r,":");case"OOOO":default:return"GMT"+ga(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Tb(r,":");case"zzzz":default:return"GMT"+ga(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return $t(r,t.length)},T:function(e,t,n){return $t(+e,t.length)}};function Tb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),l=r%60;return l===0?n+String(a):n+String(a)+t+$t(l,2)}function Eb(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):ga(e,t)}function ga(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=$t(Math.trunc(r/60),2),l=$t(r%60,2);return n+a+t+l}const Sb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},C3=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Sb(e,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Sb(r,t)).replace("{{time}}",YR(a,t))},x3={p:YR,P:C3},I3=/^D+$/,D3=/^Y+$/,M3=["D","DD","YY","YYYY"];function N3(e){return I3.test(e)}function V3(e){return D3.test(e)}function O3(e,t,n){const r=P3(e,t,n);if(console.warn(r),M3.includes(e))throw new RangeError(r)}function P3(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const k3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U3=/^'([^]*?)'?$/,j3=/''/g,B3=/[a-zA-Z]/;function Yg(e,t,n){var y,_,S,w;const r=Ad(),a=r.locale??S3,l=r.firstWeekContainsDate??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,c=r.weekStartsOn??((w=(S=r.locale)==null?void 0:S.options)==null?void 0:w.weekStartsOn)??0,f=On(e,n==null?void 0:n.in);if(!zL(f))throw new RangeError("Invalid time value");let m=t.match(L3).map(I=>{const N=I[0];if(N==="p"||N==="P"){const V=x3[N];return V(I,a.formatLong)}return I}).join("").match(k3).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const N=I[0];if(N==="'")return{isToken:!1,value:z3(I)};if(_b[N])return{isToken:!0,value:I};if(N.match(B3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:I}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(I=>{if(!I.isToken)return I.value;const N=I.value;(V3(N)||N3(N))&&O3(N,t,String(e));const V=_b[N[0]];return V(f,N,a.localize,g)}).join("")}function z3(e){const t=e.match(U3);return t?t[1].replace(j3,"'"):e}function bb(e,t){const n=()=>Cr(t==null?void 0:t.in,NaN),a=G3(e);let l;if(a.date){const g=Y3(a.date,2);l=K3(g.restDateString,g.year)}if(!l||isNaN(+l))return n();const c=+l;let f=0,m;if(a.time&&(f=Q3(a.time),isNaN(f)))return n();if(a.timezone){if(m=X3(a.timezone),isNaN(m))return n()}else{const g=new Date(c+f),y=On(0,t==null?void 0:t.in);return y.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),y.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),y}return On(c+f+m,t==null?void 0:t.in)}const hf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},F3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,q3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,H3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function G3(e){const t={},n=e.split(hf.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],hf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hf.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=hf.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function Y3(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?a:l*100,restDateString:e.slice((r[1]||r[2]).length)}}function K3(e,t){if(t===null)return new Date(NaN);const n=e.match(F3);if(!n)return new Date(NaN);const r=!!n[4],a=Cu(n[1]),l=Cu(n[2])-1,c=Cu(n[3]),f=Cu(n[4]),m=Cu(n[5])-1;if(r)return t6(t,f,m)?$3(t,f,m):new Date(NaN);{const g=new Date(0);return!Z3(t,l,c)||!J3(t,a)?new Date(NaN):(g.setUTCFullYear(t,l,Math.max(a,c)),g)}}function Cu(e){return e?parseInt(e):1}function Q3(e){const t=e.match(q3);if(!t)return NaN;const n=Jp(t[1]),r=Jp(t[2]),a=Jp(t[3]);return e6(n,r,a)?n*zR+r*BR+a*1e3:NaN}function Jp(e){return e&&parseFloat(e.replace(",","."))||0}function X3(e){if(e==="Z")return 0;const t=e.match(H3);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return n6(r,a)?n*(r*zR+a*BR):NaN}function $3(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,l=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+l),r}const W3=[31,null,31,30,31,30,31,31,30,31,30,31];function KR(e){return e%400===0||e%4===0&&e%100!==0}function Z3(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(W3[t]||(KR(e)?29:28))}function J3(e,t){return t>=1&&t<=(KR(e)?366:365)}function t6(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function e6(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function n6(e,t){return t>=0&&t<=59}const Tv=k.createContext({});function Ev(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sv=typeof window<"u",QR=Sv?k.useLayoutEffect:k.useEffect,Rd=k.createContext(null);function bv(e,t){e.indexOf(t)===-1&&e.push(t)}function wv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const xr=(e,t,n)=>n>t?t:n<e?e:n;let Av=()=>{};const Ir={},XR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $R(e){return typeof e=="object"&&e!==null}const WR=e=>/^0[^.\s]+$/u.test(e);function Rv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jn=e=>e,i6=(e,t)=>n=>t(e(n)),wc=(...e)=>e.reduce(i6),oc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Cv{constructor(){this.subscriptions=[]}add(t){return bv(this.subscriptions,t),()=>wv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $i=e=>e*1e3,Zn=e=>e/1e3;function ZR(e,t){return t?e*(1e3/t):0}const JR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,r6=1e-7,s6=12;function a6(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=JR(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>r6&&++f<s6);return c}function Ac(e,t,n,r){if(e===t&&n===r)return Jn;const a=l=>a6(l,0,1,e,n);return l=>l===0||l===1?l:JR(a(l),t,r)}const tC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eC=e=>t=>1-e(1-t),nC=Ac(.33,1.53,.69,.99),xv=eC(nC),iC=tC(xv),rC=e=>(e*=2)<1?.5*xv(e):.5*(2-Math.pow(2,-10*(e-1))),Iv=e=>1-Math.sin(Math.acos(e)),sC=eC(Iv),aC=tC(Iv),o6=Ac(.42,0,1,1),l6=Ac(0,0,.58,1),oC=Ac(.42,0,.58,1),u6=e=>Array.isArray(e)&&typeof e[0]!="number",lC=e=>Array.isArray(e)&&typeof e[0]=="number",c6={linear:Jn,easeIn:o6,easeInOut:oC,easeOut:l6,circIn:Iv,circInOut:aC,circOut:sC,backIn:xv,backInOut:iC,backOut:nC,anticipate:rC},h6=e=>typeof e=="string",wb=e=>{if(lC(e)){Av(e.length===4);const[t,n,r,a]=e;return Ac(t,n,r,a)}else if(h6(e))return c6[e];return e},ff=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f6(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(f)}const g={schedule:(y,_=!1,S=!1)=>{const I=S&&a?n:r;return _&&c.add(y),I.has(y)||I.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const d6=40;function uC(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=ff.reduce((H,at)=>(H[at]=f6(l),H),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:S,render:w,postRender:I}=c,N=()=>{const H=Ir.useManualTiming?a.timestamp:performance.now();n=!1,Ir.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(H-a.timestamp,d6),1)),a.timestamp=H,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),y.process(a),_.process(a),S.process(a),w.process(a),I.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(N))},V=()=>{n=!0,r=!0,a.isProcessing||e(N)};return{schedule:ff.reduce((H,at)=>{const st=c[at];return H[at]=(lt,C=!1,R=!1)=>(n||V(),st.schedule(lt,C,R)),H},{}),cancel:H=>{for(let at=0;at<ff.length;at++)c[ff[at]].cancel(H)},state:a,steps:c}}const{schedule:ce,cancel:Ns,state:Ze,steps:tg}=uC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let xf;function m6(){xf=void 0}const bn={now:()=>(xf===void 0&&bn.set(Ze.isProcessing||Ir.useManualTiming?Ze.timestamp:performance.now()),xf),set:e=>{xf=e,queueMicrotask(m6)}},cC=e=>t=>typeof t=="string"&&t.startsWith(e),hC=cC("--"),p6=cC("var(--"),Dv=e=>p6(e)?g6.test(e.split("/*")[0].trim()):!1,g6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lc={...pl,transform:e=>xr(0,1,e)},df={...pl,default:1},Hu=e=>Math.round(e*1e5)/1e5,Mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y6(e){return e==null}const v6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nv=(e,t)=>n=>!!(typeof n=="string"&&v6.test(n)&&n.startsWith(e)||t&&!y6(n)&&Object.prototype.hasOwnProperty.call(n,t)),fC=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(Mv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},_6=e=>xr(0,255,e),eg={...pl,transform:e=>Math.round(_6(e))},Ta={test:Nv("rgb","red"),parse:fC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+eg.transform(e)+", "+eg.transform(t)+", "+eg.transform(n)+", "+Hu(lc.transform(r))+")"};function T6(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Kg={test:Nv("#"),parse:T6,transform:Ta.transform},Rc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ds=Rc("deg"),Wi=Rc("%"),Et=Rc("px"),E6=Rc("vh"),S6=Rc("vw"),Ab={...Wi,parse:e=>Wi.parse(e)/100,transform:e=>Wi.transform(e*100)},Lo={test:Nv("hsl","hue"),parse:fC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Wi.transform(Hu(t))+", "+Wi.transform(Hu(n))+", "+Hu(lc.transform(r))+")"},Oe={test:e=>Ta.test(e)||Kg.test(e)||Lo.test(e),parse:e=>Ta.test(e)?Ta.parse(e):Lo.test(e)?Lo.parse(e):Kg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ta.transform(e):Lo.transform(e),getAnimatableNone:e=>{const t=Oe.parse(e);return t.alpha=0,Oe.transform(t)}},b6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w6(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Mv))==null?void 0:t.length)||0)+(((n=e.match(b6))==null?void 0:n.length)||0)>0}const dC="number",mC="color",A6="var",R6="var(",Rb="${}",C6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(C6,m=>(Oe.test(m)?(r.color.push(l),a.push(mC),n.push(Oe.parse(m))):m.startsWith(R6)?(r.var.push(l),a.push(A6),n.push(m)):(r.number.push(l),a.push(dC),n.push(parseFloat(m))),++l,Rb)).split(Rb);return{values:n,split:f,indexes:r,types:a}}function pC(e){return uc(e).values}function gC(e){const{split:t,types:n}=uc(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===dC?l+=Hu(a[c]):f===mC?l+=Oe.transform(a[c]):l+=a[c]}return l}}const x6=e=>typeof e=="number"?0:Oe.test(e)?Oe.getAnimatableNone(e):e;function I6(e){const t=pC(e);return gC(e)(t.map(x6))}const Vs={test:w6,parse:pC,createTransformer:gC,getAnimatableNone:I6};function ng(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function D6({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=ng(m,f,e+1/3),l=ng(m,f,e),c=ng(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Zf(e,t){return n=>n>0?t:e}const fe=(e,t,n)=>e+(t-e)*n,ig=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},M6=[Kg,Ta,Lo],N6=e=>M6.find(t=>t.test(e));function Cb(e){const t=N6(e);if(!t)return!1;let n=t.parse(e);return t===Lo&&(n=D6(n)),n}const xb=(e,t)=>{const n=Cb(e),r=Cb(t);if(!n||!r)return Zf(e,t);const a={...n};return l=>(a.red=ig(n.red,r.red,l),a.green=ig(n.green,r.green,l),a.blue=ig(n.blue,r.blue,l),a.alpha=fe(n.alpha,r.alpha,l),Ta.transform(a))},Qg=new Set(["none","hidden"]);function V6(e,t){return Qg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function O6(e,t){return n=>fe(e,t,n)}function Vv(e){return typeof e=="number"?O6:typeof e=="string"?Dv(e)?Zf:Oe.test(e)?xb:L6:Array.isArray(e)?yC:typeof e=="object"?Oe.test(e)?xb:P6:Zf}function yC(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>Vv(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function P6(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Vv(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function k6(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],f=e.values[c]??0;n[a]=f,r[l]++}return n}const L6=(e,t)=>{const n=Vs.createTransformer(t),r=uc(e),a=uc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Qg.has(e)&&!a.values.length||Qg.has(t)&&!r.values.length?V6(e,t):wc(yC(k6(r,a),a.values),n):Zf(e,t)};function vC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fe(e,t,n):Vv(e)(e,t)}const U6=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ce.update(t,n),stop:()=>Ns(t),now:()=>Ze.isProcessing?Ze.timestamp:bn.now()}},_C=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Jf=2e4;function Ov(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Jf;)t+=n,r=e.next(t);return t>=Jf?1/0:t}function j6(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Ov(r),Jf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Zn(a)}}const B6=5;function TC(e,t,n){const r=Math.max(t-B6,0);return ZR(n-e(r),t-r)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rg=.001;function z6({duration:e=ye.duration,bounce:t=ye.bounce,velocity:n=ye.velocity,mass:r=ye.mass}){let a,l,c=1-t;c=xr(ye.minDamping,ye.maxDamping,c),e=xr(ye.minDuration,ye.maxDuration,Zn(e)),c<1?(a=g=>{const y=g*c,_=y*e,S=y-n,w=Xg(g,c),I=Math.exp(-_);return rg-S/w*I},l=g=>{const _=g*c*e,S=_*n+n,w=Math.pow(c,2)*Math.pow(g,2)*e,I=Math.exp(-_),N=Xg(Math.pow(g,2),c);return(-a(g)+rg>0?-1:1)*((S-w)*I)/N}):(a=g=>{const y=Math.exp(-g*e),_=(g-n)*e+1;return-rg+y*_},l=g=>{const y=Math.exp(-g*e),_=(n-g)*(e*e);return y*_});const f=5/e,m=q6(a,l,f);if(e=$i(e),isNaN(m))return{stiffness:ye.stiffness,damping:ye.damping,duration:e};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:e}}}const F6=12;function q6(e,t,n){let r=n;for(let a=1;a<F6;a++)r=r-e(r)/t(r);return r}function Xg(e,t){return e*Math.sqrt(1-t*t)}const H6=["duration","bounce"],G6=["stiffness","damping","mass"];function Ib(e,t){return t.some(n=>e[n]!==void 0)}function Y6(e){let t={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...e};if(!Ib(e,G6)&&Ib(e,H6))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*xr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ye.mass,stiffness:a,damping:l}}else{const n=z6(e);t={...t,...n,mass:ye.mass},t.isResolvedFromDuration=!0}return t}function td(e=ye.visualDuration,t=ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:S,isResolvedFromDuration:w}=Y6({...n,velocity:-Zn(n.velocity||0)}),I=S||0,N=g/(2*Math.sqrt(m*y)),V=c-l,B=Zn(Math.sqrt(m/y)),X=Math.abs(V)<5;r||(r=X?ye.restSpeed.granular:ye.restSpeed.default),a||(a=X?ye.restDelta.granular:ye.restDelta.default);let H;if(N<1){const st=Xg(B,N);H=lt=>{const C=Math.exp(-N*B*lt);return c-C*((I+N*B*V)/st*Math.sin(st*lt)+V*Math.cos(st*lt))}}else if(N===1)H=st=>c-Math.exp(-B*st)*(V+(I+B*V)*st);else{const st=B*Math.sqrt(N*N-1);H=lt=>{const C=Math.exp(-N*B*lt),R=Math.min(st*lt,300);return c-C*((I+N*B*V)*Math.sinh(R)+st*V*Math.cosh(R))/st}}const at={calculatedDuration:w&&_||null,next:st=>{const lt=H(st);if(w)f.done=st>=_;else{let C=st===0?I:0;N<1&&(C=st===0?$i(I):TC(H,st,lt));const R=Math.abs(C)<=r,x=Math.abs(c-lt)<=a;f.done=R&&x}return f.value=f.done?c:lt,f},toString:()=>{const st=Math.min(Ov(at),Jf),lt=_C(C=>at.next(st*C).value,st,30);return st+"ms "+lt},toTransition:()=>{}};return at}td.applyToOptions=e=>{const t=j6(e,100,td);return e.ease=t.ease,e.duration=$i(t.duration),e.type="keyframes",e};function $g({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:g=.5,restSpeed:y}){const _=e[0],S={done:!1,value:_},w=R=>f!==void 0&&R<f||m!==void 0&&R>m,I=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let N=n*t;const V=_+N,B=c===void 0?V:c(V);B!==V&&(N=B-_);const X=R=>-N*Math.exp(-R/r),H=R=>B+X(R),at=R=>{const x=X(R),O=H(R);S.done=Math.abs(x)<=g,S.value=S.done?B:O};let st,lt;const C=R=>{w(S.value)&&(st=R,lt=td({keyframes:[S.value,I(S.value)],velocity:TC(H,R,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:R=>{let x=!1;return!lt&&st===void 0&&(x=!0,at(R),C(R)),st!==void 0&&R>=st?lt.next(R-st):(!x&&at(R),S)}}}function K6(e,t,n){const r=[],a=n||Ir.mix||vC,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Jn:t;f=wc(m,f)}r.push(f)}return r}function Q6(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(Av(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=K6(t,r,a),m=f.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const S=oc(e[_],e[_+1],y);return f[_](S)};return n?y=>g(xr(e[0],e[l-1],y)):g}function X6(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=oc(0,t,r);e.push(fe(n,1,a))}}function $6(e){const t=[0];return X6(t,e.length-1),t}function W6(e,t){return e.map(n=>n*t)}function Z6(e,t){return e.map(()=>t||oC).splice(0,e.length-1)}function Gu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=u6(r)?r.map(wb):wb(r),l={done:!1,value:t[0]},c=W6(n&&n.length===t.length?n:$6(t),e),f=Q6(c,t,{ease:Array.isArray(a)?a:Z6(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const J6=e=>e!==null;function Pv(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(J6),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const tU={decay:$g,inertia:$g,tween:Gu,keyframes:Gu,spring:td};function EC(e){typeof e.type=="string"&&(e.type=tU[e.type])}class kv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const eU=e=>e/100;class Lv extends kv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==bn.now()&&this.tick(bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EC(t);const{type:n=Gu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||Gu;m!==Gu&&typeof f[0]!="number"&&(this.mixKeyframes=wc(eU,vC(f[0],f[1])),f=[0,100]);const g=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ov(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:S,repeatDelay:w,type:I,onUpdate:N,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,at=r;if(_){const R=Math.min(this.currentTime,a)/f;let x=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&x--,x=Math.min(x,_+1),!!(x%2)&&(S==="reverse"?(O=1-O,w&&(O-=w/f)):S==="mirror"&&(at=c)),H=xr(0,1,O)*f}const st=X?{done:!1,value:y[0]}:at.next(H);l&&(st.value=l(st.value));let{done:lt}=st;!X&&m!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return C&&I!==$g&&(st.value=Pv(y,this.options,V,this.speed)),N&&N(st.value),C&&this.finish(),st}then(t,n){return this.finished.then(t,n)}get duration(){return Zn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Zn(t)}get time(){return Zn(this.currentTime)}set time(t){var n;t=$i(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(bn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Zn(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=U6,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function nU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ea=e=>e*180/Math.PI,Wg=e=>{const t=Ea(Math.atan2(e[1],e[0]));return Zg(t)},iU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Wg,rotateZ:Wg,skewX:e=>Ea(Math.atan(e[1])),skewY:e=>Ea(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Zg=e=>(e=e%360,e<0&&(e+=360),e),Db=Wg,Mb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Nb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mb,scaleY:Nb,scale:e=>(Mb(e)+Nb(e))/2,rotateX:e=>Zg(Ea(Math.atan2(e[6],e[5]))),rotateY:e=>Zg(Ea(Math.atan2(-e[2],e[0]))),rotateZ:Db,rotate:Db,skewX:e=>Ea(Math.atan(e[4])),skewY:e=>Ea(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Jg(e){return e.includes("scale")?1:0}function ty(e,t){if(!e||e==="none")return Jg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=rU,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iU,a=f}if(!a)return Jg(t);const l=r[t],c=a[1].split(",").map(aU);return typeof l=="function"?l(c):c[l]}const sU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ty(n,t)};function aU(e){return parseFloat(e.trim())}const gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yl=new Set(gl),Vb=e=>e===pl||e===Et,oU=new Set(["x","y","z"]),lU=gl.filter(e=>!oU.has(e));function uU(e){const t=[];return lU.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ba={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ty(t,"x"),y:(e,{transform:t})=>ty(t,"y")};ba.translateX=ba.x;ba.translateY=ba.y;const wa=new Set;let ey=!1,ny=!1,iy=!1;function SC(){if(ny){const e=Array.from(wa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=uU(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ny=!1,ey=!1,wa.forEach(e=>e.complete(iy)),wa.clear()}function bC(){wa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ny=!0)})}function cU(){iy=!0,bC(),SC(),iy=!1}class Uv{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(wa.add(this),ey||(ey=!0,ce.read(bC),ce.resolveKeyframes(SC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}nU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),wa.delete(this)}cancel(){this.state==="scheduled"&&(wa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hU=e=>e.startsWith("--");function fU(e,t,n){hU(t)?e.style.setProperty(t,n):e.style[t]=n}const dU=Rv(()=>window.ScrollTimeline!==void 0),mU={};function pU(e,t){const n=Rv(e);return()=>mU[t]??n()}const wC=pU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ku=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ku([0,.65,.55,1]),circOut:ku([.55,0,1,.45]),backIn:ku([.31,.01,.66,-.59]),backOut:ku([.33,1.53,.69,.99])};function AC(e,t){if(e)return typeof e=="function"?wC()?_C(e,t):"ease-out":lC(e)?ku(e):Array.isArray(e)?e.map(n=>AC(n,t)||Ob.easeOut):Ob[e]}function gU(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const _=AC(f,a);Array.isArray(_)&&(y.easing=_);const S={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(S.pseudoElement=g),e.animate(y,S)}function RC(e){return typeof e=="function"&&"applyToOptions"in e}function yU({type:e,...t}){return RC(e)&&wC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vU extends kv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Av(typeof t.type!="string");const g=yU(t);this.animation=gU(n,r,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Pv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):fU(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Zn(t)}get time(){return Zn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$i(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&dU()?(this.animation.timeline=t,Jn):n(this)}}const CC={anticipate:rC,backInOut:iC,circInOut:aC};function _U(e){return e in CC}function TU(e){typeof e.ease=="string"&&_U(e.ease)&&(e.ease=CC[e.ease])}const Pb=10;class EU extends vU{constructor(t){TU(t),EC(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Lv({...c,autoplay:!1}),m=$i(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-Pb).value,f.sample(m).value,Pb),f.stop()}}const kb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vs.test(e)||e==="0")&&!e.startsWith("url("));function SU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bU(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=kb(a,t),f=kb(l,t);return!c||!f?!1:SU(e)||(n==="spring"||RC(n))&&r}function ry(e){e.duration=0,e.type="keyframes"}const wU=new Set(["opacity","clipPath","filter","transform"]),AU=Rv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RU(e){var y;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return AU()&&n&&wU.has(n)&&(n!=="transform"||!g)&&!m&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const CU=40;class xU extends kv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:g,element:y,..._}){var I;super(),this.stop=()=>{var N,V;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(V=this.keyframeResolver)==null||V.cancel()},this.createdAt=bn.now();const S={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,..._},w=(y==null?void 0:y.KeyframeResolver)||Uv;this.keyframeResolver=new w(f,(N,V,B)=>this.onKeyframesResolved(N,V,S,!B),m,g,y),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:g,onUpdate:y}=r;this.resolvedAt=bn.now(),bU(t,l,c,f)||((Ir.instantAnimations||!m)&&(y==null||y(Pv(t,r,n))),t[0]=t[t.length-1],ry(r),r.repeat=0);const S={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>CU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},w=!g&&RU(S)?new EU({...S,element:S.motionValue.owner.current}):new Lv(S);w.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),cU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const IU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DU(e){const t=IU.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function xC(e,t,n=1){const[r,a]=DU(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return XR(c)?parseFloat(c):c}return Dv(a)?xC(a,t,n+1):a}function jv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const IC=new Set(["width","height","top","left","right","bottom",...gl]),MU={test:e=>e==="auto",parse:e=>e},DC=e=>t=>t.test(e),MC=[pl,Et,Wi,ds,S6,E6,MU],Lb=e=>MC.find(DC(e));function NU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||WR(e):!0}const VU=new Set(["brightness","contrast","saturate","opacity"]);function OU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Mv)||[];if(!r)return e;const a=n.replace(r,"");let l=VU.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const PU=/\b([a-z-]*)\(.*?\)/gu,sy={...Vs,getAnimatableNone:e=>{const t=e.match(PU);return t?t.map(OU).join(" "):e}},Ub={...pl,transform:Math.round},kU={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:df,scaleX:df,scaleY:df,scaleZ:df,skew:ds,skewX:ds,skewY:ds,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:lc,originX:Ab,originY:Ab,originZ:Et},Bv={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...kU,zIndex:Ub,fillOpacity:lc,strokeOpacity:lc,numOctaves:Ub},LU={...Bv,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:sy,WebkitFilter:sy},NC=e=>LU[e];function VC(e,t){let n=NC(e);return n!==sy&&(n=Vs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const UU=new Set(["auto","none","0"]);function jU(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!UU.has(l)&&uc(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=VC(n,a)}class BU extends Uv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),Dv(g))){const y=xC(g,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!IC.has(r)||t.length!==2)return;const[a,l]=t,c=Lb(a),f=Lb(l);if(c!==f)if(Vb(c)&&Vb(f))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else ba[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||NU(t[a]))&&r.push(a);r.length&&jU(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ba[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=ba[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function zU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const OC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function PC(e){return $R(e)&&"offsetHeight"in e}const jb=30,FU=e=>!isNaN(parseFloat(e));class qU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const a=bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=FU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Cv);const r=this.events[t].add(n);return t==="change"?()=>{r(),ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jb);return ZR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nl(e,t){return new qU(e,t)}const{schedule:zv}=uC(queueMicrotask,!1),di={x:!1,y:!1};function kC(){return di.x||di.y}function HU(e){return e==="x"||e==="y"?di[e]?null:(di[e]=!0,()=>{di[e]=!1}):di.x||di.y?null:(di.x=di.y=!0,()=>{di.x=di.y=!1})}function LC(e,t){const n=zU(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function Bb(e){return!(e.pointerType==="touch"||kC())}function GU(e,t,n={}){const[r,a,l]=LC(e,n),c=f=>{if(!Bb(f))return;const{target:m}=f,g=t(m,f);if(typeof g!="function"||!m)return;const y=_=>{Bb(_)&&(g(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const UC=(e,t)=>t?e===t?!0:UC(e,t.parentElement):!1,Fv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,YU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KU(e){return YU.has(e.tagName)||e.tabIndex!==-1}const If=new WeakSet;function zb(e){return t=>{t.key==="Enter"&&e(t)}}function sg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const QU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=zb(()=>{if(If.has(n))return;sg(n,"down");const a=zb(()=>{sg(n,"up")}),l=()=>sg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Fb(e){return Fv(e)&&!kC()}function XU(e,t,n={}){const[r,a,l]=LC(e,n),c=f=>{const m=f.currentTarget;if(!Fb(f))return;If.add(m);const g=t(m,f),y=(w,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",S),If.has(m)&&If.delete(m),Fb(w)&&typeof g=="function"&&g(w,{success:I})},_=w=>{y(w,m===window||m===document||n.useGlobalTarget||UC(m,w.target))},S=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",S,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),PC(f)&&(f.addEventListener("focus",g=>QU(g,a)),!KU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function jC(e){return $R(e)&&"ownerSVGElement"in e}function $U(e){return jC(e)&&e.tagName==="svg"}const on=e=>!!(e&&e.getVelocity),WU=[...MC,Oe,Vs],ZU=e=>WU.find(DC(e)),qv=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function qb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function JU(...e){return t=>{let n=!1;const r=e.map(a=>{const l=qb(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():qb(e[a],null)}}}}function t5(...e){return k.useCallback(JU(...e),e)}class e5 extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=PC(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n5({children:e,isPresent:t,anchorX:n,root:r}){const a=k.useId(),l=k.useRef(null),c=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=k.useContext(qv),m=t5(l,e==null?void 0:e.ref);return k.useInsertionEffect(()=>{const{width:g,height:y,top:_,left:S,right:w}=c.current;if(t||!l.current||!g||!y)return;const I=n==="left"?`left: ${S}`:`right: ${w}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");f&&(N.nonce=f);const V=r??document.head;return V.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${y}px !important;
            ${I}px !important;
            top: ${_}px !important;
          }
        `),()=>{V.contains(N)&&V.removeChild(N)}},[t]),j.jsx(e5,{isPresent:t,childRef:l,sizeRef:c,children:k.cloneElement(e,{ref:m})})}const i5=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const g=Ev(r5),y=k.useId();let _=!0,S=k.useMemo(()=>(_=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:w=>{g.set(w,!0);for(const I of g.values())if(!I)return;r&&r()},register:w=>(g.set(w,!1),()=>g.delete(w))}),[n,g,r]);return l&&_&&(S={...S}),k.useMemo(()=>{g.forEach((w,I)=>g.set(I,!1))},[n]),k.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),c==="popLayout"&&(e=j.jsx(n5,{isPresent:n,anchorX:f,root:m,children:e})),j.jsx(Rd.Provider,{value:S,children:e})};function r5(){return new Map}function BC(e=!0){const t=k.useContext(Rd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=k.useId();k.useEffect(()=>{if(e)return a(l)},[e]);const c=k.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const mf=e=>e.key||"";function Hb(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const Gb=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[g,y]=BC(c),_=k.useMemo(()=>Hb(e),[e]),S=c&&!g?[]:_.map(mf),w=k.useRef(!0),I=k.useRef(_),N=Ev(()=>new Map),[V,B]=k.useState(_),[X,H]=k.useState(_);QR(()=>{w.current=!1,I.current=_;for(let lt=0;lt<X.length;lt++){const C=mf(X[lt]);S.includes(C)?N.delete(C):N.get(C)!==!0&&N.set(C,!1)}},[X,S.length,S.join("-")]);const at=[];if(_!==V){let lt=[..._];for(let C=0;C<X.length;C++){const R=X[C],x=mf(R);S.includes(x)||(lt.splice(C,0,R),at.push(R))}return l==="wait"&&at.length&&(lt=at),H(Hb(lt)),B(_),null}const{forceRender:st}=k.useContext(Tv);return j.jsx(j.Fragment,{children:X.map(lt=>{const C=mf(lt),R=c&&!g?!1:_===X||S.includes(C),x=()=>{if(N.has(C))N.set(C,!0);else return;let O=!0;N.forEach(P=>{P||(O=!1)}),O&&(st==null||st(),H(I.current),c&&(y==null||y()),r&&r())};return j.jsx(i5,{isPresent:R,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:R?void 0:x,anchorX:f,children:lt},C)})})},zC=k.createContext({strict:!1}),Yb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},il={};for(const e in Yb)il[e]={isEnabled:t=>Yb[e].some(n=>!!t[n])};function s5(e){for(const t in e)il[t]={...il[t],...e[t]}}const a5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||a5.has(e)}let FC=e=>!ed(e);function o5(e){typeof e=="function"&&(FC=t=>t.startsWith("on")?!ed(t):e(t))}try{o5(require("@emotion/is-prop-valid").default)}catch{}function l5(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(FC(a)||n===!0&&ed(a)||!t&&!ed(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Cd=k.createContext({});function xd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cc(e){return typeof e=="string"||Array.isArray(e)}const Hv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gv=["initial",...Hv];function Id(e){return xd(e.animate)||Gv.some(t=>cc(e[t]))}function qC(e){return!!(Id(e)||e.variants)}function u5(e,t){if(Id(e)){const{initial:n,animate:r}=e;return{initial:n===!1||cc(n)?n:void 0,animate:cc(r)?r:void 0}}return e.inherit!==!1?t:{}}function c5(e){const{initial:t,animate:n}=u5(e,k.useContext(Cd));return k.useMemo(()=>({initial:t,animate:n}),[Kb(t),Kb(n)])}function Kb(e){return Array.isArray(e)?e.join(" "):e}function Qb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Et.test(e))e=parseFloat(e);else return e;const n=Qb(e,t.target.x),r=Qb(e,t.target.y);return`${n}% ${r}%`}},h5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Vs.parse(e);if(a.length>5)return r;const l=Vs.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const g=fe(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},ay={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:h5};function HC(e,{layout:t,layoutId:n}){return yl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ay[e]||e==="opacity")}const f5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d5=gl.length;function m5(e,t,n){let r="",a=!0;for(let l=0;l<d5;l++){const c=gl[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const g=OC(f,Bv[c]);if(!m){a=!1;const y=f5[c]||c;r+=`${y}(${g}) `}n&&(t[c]=g)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Yv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const g=t[m];if(yl.has(m)){c=!0;continue}else if(hC(m)){a[m]=g;continue}else{const y=OC(g,Bv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=m5(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${g} ${y}`}}const Kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GC(e,t,n){for(const r in t)!on(t[r])&&!HC(r,n)&&(e[r]=t[r])}function p5({transformTemplate:e},t){return k.useMemo(()=>{const n=Kv();return Yv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function g5(e,t){const n=e.style||{},r={};return GC(r,n,e),Object.assign(r,p5(e,t)),r}function y5(e,t){const n={},r=g5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const v5={offset:"stroke-dashoffset",array:"stroke-dasharray"},_5={offset:"strokeDashoffset",array:"strokeDasharray"};function T5(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?v5:_5;e[l.offset]=Et.transform(-r);const c=Et.transform(t),f=Et.transform(n);e[l.array]=`${c} ${f}`}function YC(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,g,y){if(Yv(e,f,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:S}=e;_.transform&&(S.transform=_.transform,delete _.transform),(S.transform||_.transformOrigin)&&(S.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),S.transform&&(S.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&T5(_,a,l,c,!1)}const KC=()=>({...Kv(),attrs:{}}),QC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function E5(e,t,n,r){const a=k.useMemo(()=>{const l=KC();return YC(l,t,QC(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};GC(l,e.style,e),a.style={...l,...a.style}}return a}const S5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qv(e){return typeof e!="string"||e.includes("-")?!1:!!(S5.indexOf(e)>-1||/[A-Z]/u.test(e))}function b5(e,t,n,{latestValues:r},a,l=!1){const f=(Qv(e)?E5:y5)(t,r,a,e),m=l5(t,typeof e=="string",l),g=e!==k.Fragment?{...m,...f,ref:n}:{},{children:y}=t,_=k.useMemo(()=>on(y)?y.get():y,[y]);return k.createElement(e,{...g,children:_})}function Xb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Xv(e,t,n,r){if(typeof t=="function"){const[a,l]=Xb(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=Xb(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function Df(e){return on(e)?e.get():e}function w5({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:A5(n,r,a,e),renderState:t()}}function A5(e,t,n,r){const a={},l=r(e,{});for(const S in l)a[S]=Df(l[S]);let{initial:c,animate:f}=e;const m=Id(e),g=qC(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!xd(_)){const S=Array.isArray(_)?_:[_];for(let w=0;w<S.length;w++){const I=Xv(e,S[w]);if(I){const{transitionEnd:N,transition:V,...B}=I;for(const X in B){let H=B[X];if(Array.isArray(H)){const at=y?H.length-1:0;H=H[at]}H!==null&&(a[X]=H)}for(const X in N)a[X]=N[X]}}}return a}const XC=e=>(t,n)=>{const r=k.useContext(Cd),a=k.useContext(Rd),l=()=>w5(e,t,r,a);return n?l():Ev(l)};function $v(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(on(r[c])||t.style&&on(t.style[c])||HC(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const R5=XC({scrapeMotionValuesFromProps:$v,createRenderState:Kv});function $C(e,t,n){const r=$v(e,t,n);for(const a in e)if(on(e[a])||on(t[a])){const l=gl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const C5=XC({scrapeMotionValuesFromProps:$C,createRenderState:KC}),x5=Symbol.for("motionComponentSymbol");function Uo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function I5(e,t,n){return k.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Uo(n)&&(n.current=r))},[t])}const Wv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D5="framerAppearId",WC="data-"+Wv(D5),ZC=k.createContext({});function M5(e,t,n,r,a){var N,V;const{visualElement:l}=k.useContext(Cd),c=k.useContext(zC),f=k.useContext(Rd),m=k.useContext(qv).reducedMotion,g=k.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,_=k.useContext(ZC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&N5(g.current,n,a,_);const S=k.useRef(!1);k.useInsertionEffect(()=>{y&&S.current&&y.update(n,f)});const w=n[WC],I=k.useRef(!!w&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,w))&&((V=window.MotionHasOptimisedAnimation)==null?void 0:V.call(window,w)));return QR(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,w)}),I.current=!1),y.enteringChildren=void 0)}),y}function N5(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:JC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Uo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:g})}function JC(e){if(e)return e.options.allowProjection!==!1?e.projection:JC(e.parent)}function ag(e,{forwardMotionProps:t=!1}={},n,r){n&&s5(n);const a=Qv(e)?C5:R5;function l(f,m){let g;const y={...k.useContext(qv),...f,layoutId:V5(f)},{isStatic:_}=y,S=c5(f),w=a(f,_);if(!_&&Sv){O5();const I=P5(y);g=I.MeasureLayout,S.visualElement=M5(e,w,y,r,I.ProjectionNode)}return j.jsxs(Cd.Provider,{value:S,children:[g&&S.visualElement?j.jsx(g,{visualElement:S.visualElement,...y}):null,b5(e,f,I5(w,S.visualElement,m),w,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=k.forwardRef(l);return c[x5]=e,c}function V5({layoutId:e}){const t=k.useContext(Tv).id;return t&&e!==void 0?t+"-"+e:e}function O5(e,t){k.useContext(zC).strict}function P5(e){const{drag:t,layout:n}=il;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function k5(e,t){if(typeof Proxy>"u")return ag;const n=new Map,r=(l,c)=>ag(l,c,e,t),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,ag(c,void 0,e,t)),n.get(c))})}function tx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function L5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function U5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function og(e){return e===void 0||e===1}function oy({scale:e,scaleX:t,scaleY:n}){return!og(e)||!og(t)||!og(n)}function ya(e){return oy(e)||ex(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ex(e){return $b(e.x)||$b(e.y)}function $b(e){return e&&e!=="0%"}function nd(e,t,n){const r=e-n,a=t*r;return n+a}function Wb(e,t,n,r,a){return a!==void 0&&(e=nd(e,a,r)),nd(e,n,r)+t}function ly(e,t=0,n=1,r,a){e.min=Wb(e.min,t,n,r,a),e.max=Wb(e.max,t,n,r,a)}function nx(e,{x:t,y:n}){ly(e.x,t.translate,t.scale,t.originPoint),ly(e.y,n.translate,n.scale,n.originPoint)}const Zb=.999999999999,Jb=1.0000000000001;function j5(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,nx(e,c)),r&&ya(l.latestValues)&&Bo(e,l.latestValues))}t.x<Jb&&t.x>Zb&&(t.x=1),t.y<Jb&&t.y>Zb&&(t.y=1)}function jo(e,t){e.min=e.min+t,e.max=e.max+t}function tw(e,t,n,r,a=.5){const l=fe(e.min,e.max,a);ly(e,t,n,l,r)}function Bo(e,t){tw(e.x,t.x,t.scaleX,t.scale,t.originX),tw(e.y,t.y,t.scaleY,t.scale,t.originY)}function ix(e,t){return tx(U5(e.getBoundingClientRect(),t))}function B5(e,t,n){const r=ix(e,n),{scroll:a}=t;return a&&(jo(r.x,a.offset.x),jo(r.y,a.offset.y)),r}const ew=()=>({translate:0,scale:1,origin:0,originPoint:0}),zo=()=>({x:ew(),y:ew()}),nw=()=>({min:0,max:0}),Be=()=>({x:nw(),y:nw()}),uy={current:null},rx={current:!1};function z5(){if(rx.current=!0,!!Sv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uy.current=e.matches;e.addEventListener("change",t),t()}else uy.current=!1}const F5=new WeakMap;function q5(e,t,n){for(const r in t){const a=t[r],l=n[r];if(on(a))e.addValue(r,a);else if(on(l))e.addValue(r,nl(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,nl(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const iw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H5{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=bn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ce.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Id(n),this.isVariantNode=qC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in _){const w=_[S];m[S]!==void 0&&on(w)&&w.set(m[S])}}mount(t){var n;this.current=t,F5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),rx.current||z5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=yl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in il){const n=il[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iw.length;r++){const a=iw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=q5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=nl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(XR(r)||WR(r))?r=parseFloat(r):!ZU(r)&&Vs.test(n)&&(r=VC(t,n)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Xv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!on(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Cv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){zv.render(this.render)}}class sx extends H5{constructor(){super(...arguments),this.KeyframeResolver=BU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ax(e,{style:t,vars:n},r,a){const l=e.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function G5(e){return window.getComputedStyle(e)}class Y5 extends sx{constructor(){super(...arguments),this.type="html",this.renderInstance=ax}readValueFromInstance(t,n){var r;if(yl.has(n))return(r=this.projection)!=null&&r.isProjecting?Jg(n):sU(t,n);{const a=G5(t),l=(hC(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ix(t,n)}build(t,n,r){Yv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return $v(t,n,r)}}const ox=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K5(e,t,n,r){ax(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(ox.has(a)?a:Wv(a),t.attrs[a])}class Q5 extends sx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yl.has(n)){const r=NC(n);return r&&r.default||0}return n=ox.has(n)?n:Wv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return $C(t,n,r)}build(t,n,r){YC(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){K5(t,n,r,a)}mount(t){this.isSVGTag=QC(t.tagName),super.mount(t)}}const X5=(e,t)=>Qv(e)?new Q5(t):new Y5(t,{allowProjection:e!==k.Fragment});function Ko(e,t,n){const r=e.getProps();return Xv(r,t,n!==void 0?n:r.custom,e)}const cy=e=>Array.isArray(e);function $5(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,nl(n))}function W5(e){return cy(e)?e[e.length-1]||0:e}function Z5(e,t){const n=Ko(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=W5(l[c]);$5(e,c,f)}}function J5(e){return!!(on(e)&&e.add)}function hy(e,t){const n=e.getValue("willChange");if(J5(n))return n.add(t);if(!n&&Ir.WillChange){const r=new Ir.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function lx(e){return e.props[WC]}const t9=e=>e!==null;function e9(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(t9),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const n9={type:"spring",stiffness:500,damping:25,restSpeed:10},i9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),r9={type:"keyframes",duration:.8},s9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},a9=(e,{keyframes:t})=>t.length>2?r9:yl.has(e)?e.startsWith("scale")?i9(t[1]):n9:s9;function o9({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Zv=(e,t,n,r={},a,l)=>c=>{const f=jv(r,e)||{},m=f.delay||r.delay||0;let{elapsed:g=0}=r;g=g-$i(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:S=>{t.set(S),f.onUpdate&&f.onUpdate(S)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};o9(f)||Object.assign(y,a9(e,y)),y.duration&&(y.duration=$i(y.duration)),y.repeatDelay&&(y.repeatDelay=$i(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ry(y),y.delay===0&&(_=!0)),(Ir.instantAnimations||Ir.skipAnimations)&&(_=!0,ry(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const S=e9(y.keyframes,f);if(S!==void 0){ce.update(()=>{y.onUpdate(S),y.onComplete()});return}}return f.isSync?new Lv(y):new xU(y)};function l9({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ux(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const m=[],g=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),S=f[y];if(S===void 0||g&&l9(g,y))continue;const w={delay:n,...jv(l||{},y)},I=_.get();if(I!==void 0&&!_.isAnimating&&!Array.isArray(S)&&S===I&&!w.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const B=lx(e);if(B){const X=window.MotionHandoffAnimation(B,y,ce);X!==null&&(w.startTime=X,N=!0)}}hy(e,y),_.start(Zv(y,_,S,e.shouldReduceMotion&&IC.has(y)?{type:!1}:w,e,N));const V=_.animation;V&&m.push(V)}return c&&Promise.all(m).then(()=>{ce.update(()=>{c&&Z5(e,c)})}),m}function cx(e,t,n,r=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,f=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:f-l*r}function fy(e,t,n={}){var m;const r=Ko(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(ux(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:S}=a;return u9(e,t,g,y,_,S,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[g,y]=f==="beforeChildren"?[l,c]:[c,l];return g().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function u9(e,t,n=0,r=0,a=0,l=1,c){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(fy(m,t,{...c,delay:n+(typeof r=="function"?0:r)+cx(e.variantChildren,m,r,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function c9(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>fy(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=fy(e,t,n);else{const a=typeof t=="function"?Ko(e,t,n.custom):t;r=Promise.all(ux(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function hx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const h9=Gv.length;function fx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<h9;n++){const r=Gv[n],a=e.props[r];(cc(a)||a===!1)&&(t[r]=a)}return t}const f9=[...Hv].reverse(),d9=Hv.length;function m9(e){return t=>Promise.all(t.map(({animation:n,options:r})=>c9(e,n,r)))}function p9(e){let t=m9(e),n=rw(),r=!0;const a=m=>(g,y)=>{var S;const _=Ko(e,y,m==="exit"?(S=e.presenceContext)==null?void 0:S.custom:void 0);if(_){const{transition:w,transitionEnd:I,...N}=_;g={...g,...N,...I}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,y=fx(e.parent)||{},_=[],S=new Set;let w={},I=1/0;for(let V=0;V<d9;V++){const B=f9[V],X=n[B],H=g[B]!==void 0?g[B]:y[B],at=cc(H),st=B===m?X.isActive:null;st===!1&&(I=V);let lt=H===y[B]&&H!==g[B]&&at;if(lt&&r&&e.manuallyAnimateOnMount&&(lt=!1),X.protectedKeys={...w},!X.isActive&&st===null||!H&&!X.prevProp||xd(H)||typeof H=="boolean")continue;const C=g9(X.prevProp,H);let R=C||B===m&&X.isActive&&!lt&&at||V>I&&at,x=!1;const O=Array.isArray(H)?H:[H];let P=O.reduce(a(B),{});st===!1&&(P={});const{prevResolvedValues:F={}}=X,D={...F,...P},ee=rt=>{R=!0,S.has(rt)&&(x=!0,S.delete(rt)),X.needsAnimating[rt]=!0;const dt=e.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in D){const dt=P[rt],xt=F[rt];if(w.hasOwnProperty(rt))continue;let Vt=!1;cy(dt)&&cy(xt)?Vt=!hx(dt,xt):Vt=dt!==xt,Vt?dt!=null?ee(rt):S.add(rt):dt!==void 0&&S.has(rt)?ee(rt):X.protectedKeys[rt]=!0}X.prevProp=H,X.prevResolvedValues=P,X.isActive&&(w={...w,...P}),r&&e.blockInitialAnimation&&(R=!1);const me=lt&&C;R&&(!me||x)&&_.push(...O.map(rt=>{const dt={type:B};if(typeof rt=="string"&&r&&!me&&e.manuallyAnimateOnMount&&e.parent){const{parent:xt}=e,Vt=Ko(xt,rt);if(xt.enteringChildren&&Vt){const{delayChildren:U}=Vt.transition||{};dt.delay=cx(xt.enteringChildren,e,U)}}return{animation:rt,options:dt}}))}if(S.size){const V={};if(typeof g.initial!="boolean"){const B=Ko(e,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(V.transition=B.transition)}S.forEach(B=>{const X=e.getBaseTarget(B),H=e.getValue(B);H&&(H.liveStyle=!0),V[B]=X??null}),_.push({animation:V})}let N=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(N=!1),r=!1,N?t(_):Promise.resolve()}function f(m,g){var _;if(n[m].isActive===g)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(S=>{var w;return(w=S.animationState)==null?void 0:w.setActive(m,g)}),n[m].isActive=g;const y=c(m);for(const S in n)n[S].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rw()}}}function g9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hx(t,e):!1}function da(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rw(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class Ps{constructor(t){this.isMounted=!1,this.node=t}update(){}}class y9 extends Ps{constructor(t){super(t),t.animationState||(t.animationState=p9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let v9=0;class _9 extends Ps{constructor(){super(...arguments),this.id=v9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const T9={animation:{Feature:y9},exit:{Feature:_9}};function hc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Cc(e){return{point:{x:e.pageX,y:e.pageY}}}const E9=e=>t=>Fv(t)&&e(t,Cc(t));function Yu(e,t,n,r){return hc(e,t,E9(n),r)}const dx=1e-4,S9=1-dx,b9=1+dx,mx=.01,w9=0-mx,A9=0+mx;function dn(e){return e.max-e.min}function R9(e,t,n){return Math.abs(e-t)<=n}function sw(e,t,n,r=.5){e.origin=r,e.originPoint=fe(t.min,t.max,e.origin),e.scale=dn(n)/dn(t),e.translate=fe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=S9&&e.scale<=b9||isNaN(e.scale))&&(e.scale=1),(e.translate>=w9&&e.translate<=A9||isNaN(e.translate))&&(e.translate=0)}function Ku(e,t,n,r){sw(e.x,t.x,n.x,r?r.originX:void 0),sw(e.y,t.y,n.y,r?r.originY:void 0)}function aw(e,t,n){e.min=n.min+t.min,e.max=e.min+dn(t)}function C9(e,t,n){aw(e.x,t.x,n.x),aw(e.y,t.y,n.y)}function ow(e,t,n){e.min=t.min-n.min,e.max=e.min+dn(t)}function id(e,t,n){ow(e.x,t.x,n.x),ow(e.y,t.y,n.y)}function Xn(e){return[e("x"),e("y")]}const px=({current:e})=>e?e.ownerDocument.defaultView:null,lw=(e,t)=>Math.abs(e-t);function x9(e,t){const n=lw(e.x,t.x),r=lw(e.y,t.y);return Math.sqrt(n**2+r**2)}class gx{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ug(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,I=x9(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!I)return;const{point:N}=S,{timestamp:V}=Ze;this.history.push({...N,timestamp:V});const{onStart:B,onMove:X}=this.handlers;w||(B&&B(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,S)},this.handlePointerMove=(S,w)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=lg(w,this.transformPagePoint),ce.update(this.updatePoint,!0)},this.handlePointerUp=(S,w)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=ug(S.type==="pointercancel"?this.lastMoveEventInfo:lg(w,this.transformPagePoint),this.history);this.startEvent&&I&&I(S,B),N&&N(S,B)},!Fv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const f=Cc(t),m=lg(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=Ze;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,ug(m,this.history)),this.removeListeners=wc(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function lg(e,t){return t?{point:t(e.point)}:e}function uw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ug({point:e},t){return{point:e,delta:uw(e,yx(t)),offset:uw(e,I9(t)),velocity:D9(t,.1)}}function I9(e){return e[0]}function yx(e){return e[e.length-1]}function D9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=yx(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>$i(t)));)n--;if(!r)return{x:0,y:0};const l=Zn(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function M9(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?fe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?fe(n,e,r.max):Math.min(e,n)),e}function cw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function N9(e,{top:t,left:n,bottom:r,right:a}){return{x:cw(e.x,n,a),y:cw(e.y,t,r)}}function hw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function V9(e,t){return{x:hw(e.x,t.x),y:hw(e.y,t.y)}}function O9(e,t){let n=.5;const r=dn(e),a=dn(t);return a>r?n=oc(t.min,t.max-r,e.min):r>a&&(n=oc(e.min,e.max-a,t.min)),xr(0,1,n)}function P9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const dy=.35;function k9(e=dy){return e===!1?e=0:e===!0&&(e=dy),{x:fw(e,"left","right"),y:fw(e,"top","bottom")}}function fw(e,t,n){return{min:dw(e,t),max:dw(e,n)}}function dw(e,t){return typeof e=="number"?e:e[t]||0}const L9=new WeakMap;class U9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cc(_).point)},c=(_,S)=>{const{drag:w,dragPropagation:I,onDragStart:N}=this.getProps();if(w&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HU(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(B=>{let X=this.getAxisMotionValue(B).get()||0;if(Wi.test(X)){const{projection:H}=this.visualElement;if(H&&H.layout){const at=H.layout.layoutBox[B];at&&(X=dn(at)*(parseFloat(X)/100))}}this.originPoint[B]=X}),N&&ce.postRender(()=>N(_,S)),hy(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},f=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S;const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:N,onDrag:V}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:B}=S;if(I&&this.currentDirection===null){this.currentDirection=j9(B),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",S.point,B),this.updateAxis("y",S.point,B),this.visualElement.render(),V&&V(_,S)},m=(_,S)=>{this.latestPointerEvent=_,this.latestPanInfo=S,this.stop(_,S),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Xn(_=>{var S;return this.getAnimationState(_)==="paused"&&((S=this.getAxisMotionValue(_).animation)==null?void 0:S.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new gx(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:px(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ce.postRender(()=>f(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!pf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=M9(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Uo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=N9(r.layoutBox,t):this.constraints=!1,this.elastic=k9(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=P9(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=B5(r,a.root,this.visualElement.getTransformPagePoint());let c=V9(a.layout.layoutBox,l);if(n){const f=n(L5(c));this.hasMutatedConstraints=!!f,f&&(c=tx(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=Xn(y=>{if(!pf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const S=a?200:1e6,w=a?40:1e7,I={type:"inertia",velocity:r?t[y]:0,bounceStiffness:S,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,I)});return Promise.all(g).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return hy(this.visualElement,t),r.start(Zv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xn(n=>{const{drag:r}=this.getProps();if(!pf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-fe(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=O9({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xn(c=>{if(!pf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];f.set(fe(m,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;L9.set(this.visualElement,this);const t=this.visualElement.current,n=Yu(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Uo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ce.read(r);const c=hc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Xn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=dy,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function pf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function j9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class B9 extends Ps{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new U9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const mw=e=>(t,n)=>{e&&ce.postRender(()=>e(t,n))};class z9 extends Ps{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new gx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:px(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:mw(t),onStart:mw(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ce.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let cg=!1;class F9 extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),cg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,cg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ce.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;cg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vx(e){const[t,n]=BC(),r=k.useContext(Tv);return j.jsx(F9,{...e,layoutGroup:r,switchLayoutGroup:k.useContext(ZC),isPresent:t,safeToRemove:n})}function q9(e,t,n){const r=on(e)?e:nl(e);return r.start(Zv("",r,t,n)),r.animation}const H9=(e,t)=>e.depth-t.depth;class G9{constructor(){this.children=[],this.isDirty=!1}add(t){bv(this.children,t),this.isDirty=!0}remove(t){wv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(H9),this.isDirty=!1,this.children.forEach(t)}}function Y9(e,t){const n=bn.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Ns(r),e(l-t))};return ce.setup(r,!0),()=>Ns(r)}const _x=["TopLeft","TopRight","BottomLeft","BottomRight"],K9=_x.length,pw=e=>typeof e=="string"?parseFloat(e):e,gw=e=>typeof e=="number"||Et.test(e);function Q9(e,t,n,r,a,l){a?(e.opacity=fe(0,n.opacity??1,X9(r)),e.opacityExit=fe(t.opacity??1,0,$9(r))):l&&(e.opacity=fe(t.opacity??1,n.opacity??1,r));for(let c=0;c<K9;c++){const f=`border${_x[c]}Radius`;let m=yw(t,f),g=yw(n,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||gw(m)===gw(g)?(e[f]=Math.max(fe(pw(m),pw(g),r),0),(Wi.test(g)||Wi.test(m))&&(e[f]+="%")):e[f]=g}(t.rotate||n.rotate)&&(e.rotate=fe(t.rotate||0,n.rotate||0,r))}function yw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const X9=Tx(0,.5,sC),$9=Tx(.5,.95,Jn);function Tx(e,t,n){return r=>r<e?0:r>t?1:n(oc(e,t,r))}function vw(e,t){e.min=t.min,e.max=t.max}function fi(e,t){vw(e.x,t.x),vw(e.y,t.y)}function _w(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Tw(e,t,n,r,a){return e-=t,e=nd(e,1/n,r),a!==void 0&&(e=nd(e,1/a,r)),e}function W9(e,t=0,n=1,r=.5,a,l=e,c=e){if(Wi.test(t)&&(t=parseFloat(t),t=fe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=fe(l.min,l.max,r);e===l&&(f-=t),e.min=Tw(e.min,t,n,f,a),e.max=Tw(e.max,t,n,f,a)}function Ew(e,t,[n,r,a],l,c){W9(e,t[n],t[r],t[a],t.scale,l,c)}const Z9=["x","scaleX","originX"],J9=["y","scaleY","originY"];function Sw(e,t,n,r){Ew(e.x,t,Z9,n?n.x:void 0,r?r.x:void 0),Ew(e.y,t,J9,n?n.y:void 0,r?r.y:void 0)}function bw(e){return e.translate===0&&e.scale===1}function Ex(e){return bw(e.x)&&bw(e.y)}function ww(e,t){return e.min===t.min&&e.max===t.max}function tj(e,t){return ww(e.x,t.x)&&ww(e.y,t.y)}function Aw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Sx(e,t){return Aw(e.x,t.x)&&Aw(e.y,t.y)}function Rw(e){return dn(e.x)/dn(e.y)}function Cw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ej{constructor(){this.members=[]}add(t){bv(this.members,t),t.scheduleRender()}remove(t){if(wv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nj(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:S,skewX:w,skewY:I}=n;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),S&&(r+=`rotateY(${S}deg) `),w&&(r+=`skewX(${w}deg) `),I&&(r+=`skewY(${I}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const hg=["","X","Y","Z"],ij=1e3;let rj=0;function fg(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function bx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ce,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&bx(r)}function wx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=rj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oj),this.nodes.forEach(hj),this.nodes.forEach(fj),this.nodes.forEach(lj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new G9)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Cv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=jC(c)&&!$U(c),this.instance=c;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y,_=0;const S=()=>this.root.updateBlockedByResize=!1;ce.read(()=>{_=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,y&&y(),y=Y9(S,250),Mf.hasAnimatedSinceResize&&(Mf.hasAnimatedSinceResize=!1,this.nodes.forEach(Dw)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||yj,{onLayoutAnimationStart:N,onLayoutAnimationComplete:V}=g.getProps(),B=!this.targetLayout||!Sx(this.targetLayout,w),X=!_&&S;if(this.options.layoutRoot||this.resumeFrom||X||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...jv(I,"layout"),onPlay:N,onComplete:V};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,X)}else _||Dw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Iw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cj),this.nodes.forEach(sj),this.nodes.forEach(aj)):this.nodes.forEach(Iw),this.clearAllSnapshots();const f=bn.now();Ze.delta=xr(0,1e3/60,f-Ze.timestamp),Ze.timestamp=f,Ze.isProcessing=!0,tg.update.process(Ze),tg.preRender.process(Ze),tg.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uj),this.sharedNodes.forEach(mj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Ex(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(f||ya(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),vj(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return Be();const f=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(_j))){const{scroll:y}=this.root;y&&(jo(f.x,y.offset.x),jo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Be();if(fi(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let g=0;g<this.path.length;g++){const y=this.path[g],{scroll:_,options:S}=y;y!==this.root&&_&&S.layoutScroll&&(_.wasRoot&&fi(f,c),jo(f.x,_.offset.x),jo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Be();fi(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Bo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ya(y.latestValues)&&Bo(m,y.latestValues)}return ya(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(c){const f=Be();fi(f,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ya(g.latestValues))continue;oy(g.latestValues)&&g.updateSnapshot();const y=Be(),_=g.measurePageBox();fi(y,_),Sw(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ya(this.latestValues)&&Sw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var w;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Ze.timestamp;const S=this.getClosestProjectingParent();S&&this.linkedParentVersion!==S.layoutVersion&&!S.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(S&&S.layout?this.createRelativeTarget(S,this.layout.layoutBox,S.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),nx(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?this.createRelativeTarget(S,this.target,S.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||oy(this.parent.latestValues)||ex(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),id(this.relativeTargetOrigin,f,m),fi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;fi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,S=this.treeScale.y;j5(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Be());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_w(this.prevProjectionDelta.x,this.projectionDelta.x),_w(this.prevProjectionDelta.y,this.projectionDelta.y)),Ku(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==S||!Cw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zo(),this.projectionDelta=zo(),this.projectionDeltaWithTransform=zo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const S=Be(),w=m?m.source:void 0,I=this.layout?this.layout.source:void 0,N=w!==I,V=this.getStack(),B=!V||V.members.length<=1,X=!!(N&&!B&&this.options.crossfade===!0&&!this.path.some(gj));this.animationProgress=0;let H;this.mixTargetDelta=at=>{const st=at/1e3;Mw(_.x,c.x,st),Mw(_.y,c.y,st),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(id(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pj(this.relativeTarget,this.relativeTargetOrigin,S,st),H&&tj(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Be()),fi(H,this.relativeTarget)),N&&(this.animationValues=y,Q9(y,g,this.latestValues,st,X,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,g;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(g=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||g.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ce.update(()=>{Mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nl(0)),this.currentAnimation=q9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ij),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=c;if(!(!f||!m||!g)){if(this!==c&&this.layout&&g&&Ax(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Be();const _=dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const S=dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}fi(f,m),Bo(f,y),Ku(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new ej),this.sharedNodes.get(c).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&fg("z",c,g,this.animationValues);for(let y=0;y<hg.length;y++)fg(`rotate${hg[y]}`,c,g,this.animationValues),fg(`skew${hg[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Df(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Df(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!ya(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=nj(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:S,y:w}=this.projectionDelta;c.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in ay){if(y[I]===void 0)continue;const{correct:N,applyTo:V,isCSSVariable:B}=ay[I],X=_==="none"?y[I]:N(y[I],g);if(V){const H=V.length;for(let at=0;at<H;at++)c[V[at]]=X}else B?this.options.visualElement.renderState.vars[I]=X:c[I]=X}this.options.layoutId&&(c.pointerEvents=g===this?Df(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(xw),this.root.sharedNodes.clear()}}}function sj(e){e.updateLayout()}function aj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Xn(_=>{const S=c?t.measuredBox[_]:t.layoutBox[_],w=dn(S);S.min=r[_].min,S.max=S.min+w}):Ax(l,t.layoutBox,r)&&Xn(_=>{const S=c?t.measuredBox[_]:t.layoutBox[_],w=dn(r[_]);S.max=S.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+w)});const f=zo();Ku(f,r,t.layoutBox);const m=zo();c?Ku(m,e.applyTransform(a,!0),t.measuredBox):Ku(m,r,t.layoutBox);const g=!Ex(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:S,layout:w}=_;if(S&&w){const I=Be();id(I,t.layoutBox,S.layoutBox);const N=Be();id(N,r,w.layoutBox),Sx(I,N)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=I,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function oj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uj(e){e.clearSnapshot()}function xw(e){e.clearMeasurements()}function Iw(e){e.isLayoutDirty=!1}function cj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Dw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hj(e){e.resolveTargetDelta()}function fj(e){e.calcProjection()}function dj(e){e.resetSkewAndRotation()}function mj(e){e.removeLeadSnapshot()}function Mw(e,t,n){e.translate=fe(t.translate,0,n),e.scale=fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Nw(e,t,n,r){e.min=fe(t.min,n.min,r),e.max=fe(t.max,n.max,r)}function pj(e,t,n,r){Nw(e.x,t.x,n.x,r),Nw(e.y,t.y,n.y,r)}function gj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yj={duration:.45,ease:[.4,0,.1,1]},Vw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ow=Vw("applewebkit/")&&!Vw("chrome/")?Math.round:Jn;function Pw(e){e.min=Ow(e.min),e.max=Ow(e.max)}function vj(e){Pw(e.x),Pw(e.y)}function Ax(e,t,n){return e==="position"||e==="preserve-aspect"&&!R9(Rw(t),Rw(n),.2)}function _j(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Tj=wx({attachResizeListener:(e,t)=>hc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dg={current:void 0},Rx=wx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dg.current){const e=new Tj({});e.mount(window),e.setOptions({layoutScroll:!0}),dg.current=e}return dg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ej={pan:{Feature:z9},drag:{Feature:B9,ProjectionNode:Rx,MeasureLayout:vx}};function kw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ce.postRender(()=>l(t,Cc(t)))}class Sj extends Ps{mount(){const{current:t}=this.node;t&&(this.unmount=GU(t,(n,r)=>(kw(this.node,r,"Start"),a=>kw(this.node,a,"End"))))}unmount(){}}class bj extends Ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wc(hc(this.node.current,"focus",()=>this.onFocus()),hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lw(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ce.postRender(()=>l(t,Cc(t)))}class wj extends Ps{mount(){const{current:t}=this.node;t&&(this.unmount=XU(t,(n,r)=>(Lw(this.node,r,"Start"),(a,{success:l})=>Lw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,mg=new WeakMap,Aj=e=>{const t=my.get(e.target);t&&t(e)},Rj=e=>{e.forEach(Aj)};function Cj({root:e,...t}){const n=e||document;mg.has(n)||mg.set(n,{});const r=mg.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Rj,{root:e,...t})),r[a]}function xj(e,t,n){const r=Cj(t);return my.set(e,n),r.observe(e),()=>{my.delete(e),r.unobserve(e)}}const Ij={some:0,all:1};class Dj extends Ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Ij[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),S=g?y:_;S&&S(m)};return xj(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Mj(t,n))&&this.startObserver()}unmount(){}}function Mj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Nj={inView:{Feature:Dj},tap:{Feature:wj},focus:{Feature:bj},hover:{Feature:Sj}},Vj={layout:{ProjectionNode:Rx,MeasureLayout:vx}},Oj={...T9,...Nj,...Ej,...Vj},ma=k5(Oj,X5),Pj=()=>{const[e,t]=k.useState(null),[n,r]=k.useState([]),[a,l]=k.useState(0),[c,f]=k.useState(!1),m=k.useRef(null),[g,y]=k.useState(null);k.useEffect(()=>{const w=Hg(qu(va,"settings","main"),V=>{if(V.exists()){const B=V.data();t(B),B.loveStartDate&&l(FL(new Date,bb(B.loveStartDate)))}}),I=CR(qg(va,"memories"),xR("createdAt","desc")),N=Hg(I,V=>{const B=[];V.forEach(X=>{B.push({id:X.id,...X.data()})}),r(B)});return()=>{w(),N()}},[]);const _=()=>{m.current&&(c?m.current.pause():m.current.play().catch(w=>console.log("Auto-play blocked")),f(!c))};if(!e)return j.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:j.jsx(ma.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5},className:"text-rose-400",children:j.jsx(ko,{className:"w-12 h-12 fill-current"})})});const S=(w,I)=>{const N=w.currentTarget;N.src!==I&&(N.src=I)};return j.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[j.jsx("div",{className:"fixed inset-0 -z-10 bg-cover bg-center bg-no-repeat transition-opacity duration-1000 opacity-20",style:{backgroundImage:`url(${e.bgImage||Wp})`}}),e.bgMusic&&j.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[j.jsx("audio",{ref:m,src:e.bgMusic,loop:!0}),j.jsx("button",{onClick:_,className:`p-4 rounded-full shadow-lg backdrop-blur-md transition-all duration-300 ${c?"bg-rose-500 text-white animate-pulse":"bg-white/80 text-rose-500"}`,children:c?j.jsx(xL,{className:"w-6 h-6"}):j.jsx(UR,{className:"w-6 h-6"})})]}),j.jsxs("section",{className:"text-center mb-16 space-y-8",children:[j.jsxs(ma.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-center items-center gap-4 sm:gap-12",children:[j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full border-4 border-white shadow-xl overflow-hidden",children:j.jsx("img",{src:e.avatar1||Xp,alt:"Avatar 1",className:"w-full h-full object-cover cursor-pointer",onClick:()=>y(Xp),onError:w=>S(w,Xp)})}),j.jsx("div",{className:"absolute -bottom-2 -right-2 bg-white rounded-full p-2 shadow-md",children:j.jsx(ko,{className:"w-4 h-4 text-rose-500 fill-rose-500"})})]}),j.jsx(ma.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:2.5},className:"text-rose-500",children:j.jsx(ko,{className:"w-8 h-8 sm:w-12 sm:h-12 fill-current"})}),j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full border-4 border-white shadow-xl overflow-hidden",children:j.jsx("img",{src:e.avatar2||$p,alt:"Avatar 2",className:"w-full h-full object-cover cursor-pointer",onClick:()=>y($p),onError:w=>S(w,$p)})}),j.jsx("div",{className:"absolute -bottom-2 -left-2 bg-white rounded-full p-2 shadow-md",children:j.jsx(ko,{className:"w-4 h-4 text-rose-500 fill-rose-500"})})]})]}),j.jsxs(ma.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"space-y-2",children:[j.jsx("h2",{className:"text-xl sm:text-2xl font-light text-rose-400 tracking-widest uppercase",children:"We've been in love for"}),j.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[j.jsx("span",{className:"text-6xl sm:text-8xl font-serif-elegant font-bold text-rose-600 tabular-nums",children:a}),j.jsx("span",{className:"text-3xl sm:text-4xl font-romantic text-rose-500",children:"Days"})]}),j.jsxs("p",{className:"text-rose-300 italic font-light",children:["Since ",e.loveStartDate?Yg(bb(e.loveStartDate),"MMMM do, yyyy"):"..."]})]})]}),j.jsxs("section",{className:"space-y-8",children:[j.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[j.jsx("div",{className:"h-[1px] flex-grow bg-rose-200"}),j.jsx("h3",{className:"font-romantic text-3xl text-rose-500",children:"Our Memories"}),j.jsx("div",{className:"h-[1px] flex-grow bg-rose-200"})]}),j.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-2",children:[j.jsx(Gb,{children:n.map((w,I)=>j.jsxs(ma.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:I*.1},className:"bg-white/80 backdrop-blur-sm p-4 rounded-3xl shadow-lg border border-rose-50 hover:shadow-xl transition-all duration-300 group",children:[j.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden mb-4",children:[j.jsx("img",{src:w.imageUrl||Wp,alt:w.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:N=>S(N,Wp)}),j.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-md px-3 py-1 rounded-full text-xs font-semibold text-rose-500 flex items-center shadow-sm",children:[j.jsx(LR,{className:"w-3 h-3 mr-1"}),w.createdAt?Yg(w.createdAt.toDate(),"MMM dd, yyyy"):"Just now"]})]}),j.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:w.title}),j.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 leading-relaxed",children:w.description})]},w.id))}),n.length===0&&j.jsx("div",{className:"col-span-full text-center py-20 bg-white/40 rounded-3xl border-2 border-dashed border-rose-100",children:j.jsx("p",{className:"text-rose-300 font-light italic",children:"No memories captured yet. Time to make some!"})}),j.jsx(Gb,{children:g&&j.jsx(ma.div,{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>y(null),children:j.jsx(ma.img,{src:g,alt:"Preview",initial:{scale:.7,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.7,opacity:0},transition:{type:"spring",stiffness:260,damping:20},className:"max-w-[90vw] max-h-[90vh] rounded-3xl shadow-2xl border-4 border-white",onClick:w=>w.stopPropagation()})})})]})]})]})},kj=()=>{const[e,t]=k.useState(""),[n,r]=k.useState(""),[a,l]=k.useState(""),[c,f]=k.useState(!1),m=_y(),g=async y=>{y.preventDefault(),f(!0),l("");try{await RV(_v,e,n),m("/admin")}catch(_){l(_.message||"Failed to login. Please check your credentials.")}finally{f(!1)}};return j.jsx("div",{className:"max-w-md mx-auto px-6 mt-12",children:j.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-2xl border border-rose-50",children:[j.jsxs("div",{className:"text-center mb-8",children:[j.jsx("div",{className:"inline-block p-4 bg-rose-50 rounded-full mb-4",children:j.jsx(ko,{className:"w-10 h-10 text-rose-500 fill-rose-500"})}),j.jsx("h2",{className:"text-3xl font-serif-elegant font-bold text-gray-800",children:"Admin Login"}),j.jsx("p",{className:"text-rose-400 text-sm mt-2",children:"Manage your shared journey"})]}),a&&j.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-2xl flex items-start text-sm animate-shake",children:[j.jsx(mL,{className:"w-5 h-5 mr-2 flex-shrink-0"}),j.jsx("span",{children:a})]}),j.jsxs("form",{onSubmit:g,className:"space-y-6",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest ml-1",children:"Email Address"}),j.jsxs("div",{className:"relative",children:[j.jsx(RL,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-rose-300"}),j.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-4 py-4 bg-rose-50/50 border border-rose-100 rounded-2xl focus:ring-2 focus:ring-rose-200 outline-none transition-all placeholder:text-rose-200",placeholder:"you@example.com",value:e,onChange:y=>t(y.target.value)})]})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest ml-1",children:"Password"}),j.jsxs("div",{className:"relative",children:[j.jsx(SL,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-rose-300"}),j.jsx("input",{type:"password",required:!0,className:"w-full pl-12 pr-4 py-4 bg-rose-50/50 border border-rose-100 rounded-2xl focus:ring-2 focus:ring-rose-200 outline-none transition-all placeholder:text-rose-200",placeholder:"",value:n,onChange:y=>r(y.target.value)})]})]}),j.jsx("button",{type:"submit",disabled:c,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-bold py-4 rounded-2xl shadow-lg shadow-rose-200 transition-all active:scale-[0.98] disabled:opacity-50",children:c?"Authenticating...":"Enter Sanctuary"})]})]})})},Lj=()=>{const[e,t]=k.useState({loveStartDate:"",avatar1:"",avatar2:"",bgImage:"",bgMusic:""}),[n,r]=k.useState([]),[a,l]=k.useState(!1),[c,f]=k.useState({title:"",description:"",imageUrl:""}),[m,g]=k.useState(!1);k.useEffect(()=>{(async()=>{const V=await tL(qu(va,"settings","main"));V.exists()&&t(V.data())})();const I=CR(qg(va,"memories"),xR("createdAt","desc")),N=Hg(I,V=>{const B=[];V.forEach(X=>B.push({id:X.id,...X.data()})),r(B)});return()=>N()},[]);const y=async w=>{w.preventDefault(),l(!0);try{await eL(qu(va,"settings","main"),e),alert("Settings updated successfully!")}catch(I){alert("Error updating settings: "+I)}finally{l(!1)}},_=async w=>{w.preventDefault(),g(!0);try{await iL(qg(va,"memories"),{...c,createdAt:rL()}),f({title:"",description:"",imageUrl:""})}catch(I){alert("Error adding memory: "+I)}finally{g(!1)}},S=async w=>{window.confirm("Are you sure you want to delete this memory?")&&await nL(qu(va,"memories",w))};return j.jsxs("div",{className:"max-w-5xl mx-auto px-6 space-y-12",children:[j.jsx("h2",{className:"text-4xl font-serif-elegant font-bold text-gray-800 border-b-2 border-rose-100 pb-4",children:"Admin Dashboard"}),j.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[j.jsxs("section",{className:"space-y-6",children:[j.jsxs("div",{className:"flex items-center space-x-2 text-rose-500",children:[j.jsx(Gg,{className:"w-6 h-6"}),j.jsx("h3",{className:"text-xl font-bold",children:"App Configuration"})]}),j.jsxs("form",{onSubmit:y,className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-6",children:[j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:"Love Start Date"}),j.jsx("input",{type:"date",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none",value:e.loveStartDate,onChange:w=>t({...e,loveStartDate:w.target.value})})]}),j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:"Avatar 1 URL"}),j.jsx("input",{type:"url",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none text-xs",value:e.avatar1,onChange:w=>t({...e,avatar1:w.target.value})})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:"Avatar 2 URL"}),j.jsx("input",{type:"url",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none text-xs",value:e.avatar2,onChange:w=>t({...e,avatar2:w.target.value})})]})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"block text-sm font-semibold text-gray-600 mb-1 flex items-center",children:[j.jsx(_L,{className:"w-4 h-4 mr-2"})," Background Image URL"]}),j.jsx("input",{type:"url",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none text-xs",value:e.bgImage,onChange:w=>t({...e,bgImage:w.target.value})})]}),j.jsxs("div",{children:[j.jsxs("label",{className:"block text-sm font-semibold text-gray-600 mb-1 flex items-center",children:[j.jsx(UR,{className:"w-4 h-4 mr-2"})," Background Music URL (.mp3)"]}),j.jsx("input",{type:"url",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none text-xs",value:e.bgMusic,onChange:w=>t({...e,bgMusic:w.target.value})})]})]}),j.jsxs("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center space-x-2 bg-rose-500 hover:bg-rose-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-rose-100 transition-all disabled:opacity-50",children:[a?j.jsx(db,{className:"w-5 h-5 animate-spin"}):j.jsx(NL,{className:"w-5 h-5"}),j.jsx("span",{children:"Save Changes"})]})]})]}),j.jsxs("section",{className:"space-y-6",children:[j.jsx("div",{className:"flex items-center justify-between",children:j.jsxs("div",{className:"flex items-center space-x-2 text-rose-500",children:[j.jsx(mb,{className:"w-6 h-6"}),j.jsx("h3",{className:"text-xl font-bold",children:"Add New Memory"})]})}),j.jsxs("form",{onSubmit:_,className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 space-y-4",children:[j.jsx("input",{type:"text",placeholder:"Memory Title",required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none",value:c.title,onChange:w=>f({...c,title:w.target.value})}),j.jsx("textarea",{placeholder:"What happened? Share the story...",required:!0,rows:3,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none",value:c.description,onChange:w=>f({...c,description:w.target.value})}),j.jsx("input",{type:"url",placeholder:"Image URL (optional)",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl focus:ring-2 focus:ring-rose-200 outline-none text-xs",value:c.imageUrl,onChange:w=>f({...c,imageUrl:w.target.value})}),j.jsxs("button",{type:"submit",disabled:m,className:"w-full flex items-center justify-center space-x-2 bg-rose-400 hover:bg-rose-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-rose-50 transition-all disabled:opacity-50",children:[m?j.jsx(db,{className:"w-5 h-5 animate-spin"}):j.jsx(mb,{className:"w-5 h-5"}),j.jsx("span",{children:"Capture Memory"})]})]}),j.jsxs("div",{className:"space-y-4 mt-8",children:[j.jsx("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-widest px-2",children:"Recent Memories"}),j.jsxs("div",{className:"max-h-[400px] overflow-y-auto pr-2 space-y-4",children:[n.map(w=>j.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-gray-50 shadow-sm",children:[j.jsxs("div",{className:"flex items-center space-x-4",children:[j.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-lg overflow-hidden flex-shrink-0",children:j.jsx("img",{src:w.imageUrl||"https://picsum.photos/100",alt:"",className:"w-full h-full object-cover"})}),j.jsxs("div",{children:[j.jsx("p",{className:"font-bold text-gray-800 text-sm",children:w.title}),j.jsxs("p",{className:"text-xs text-gray-400 flex items-center",children:[j.jsx(LR,{className:"w-3 h-3 mr-1"}),w.createdAt?Yg(w.createdAt.toDate(),"MMM dd, yyyy"):"..."]})]})]}),j.jsx("button",{onClick:()=>S(w.id),className:"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",children:j.jsx(PL,{className:"w-5 h-5"})})]},w.id)),n.length===0&&j.jsx("p",{className:"text-center py-8 text-gray-300 italic text-sm",children:"No memories to manage."})]})]})]})]})]})},Uj=({children:e})=>{const{user:t,loading:n}=PR();return n?j.jsx("div",{className:"min-h-screen flex items-center justify-center bg-rose-50",children:j.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[j.jsx("div",{className:"w-12 h-12 bg-rose-200 rounded-full mb-4"}),j.jsx("div",{className:"h-4 w-24 bg-rose-100 rounded"})]})}):t?j.jsx(j.Fragment,{children:e}):j.jsx(Jw,{to:"/login",replace:!0})},jj=()=>j.jsx(aL,{children:j.jsx(kD,{children:j.jsx(kL,{children:j.jsxs(fD,{children:[j.jsx(Iu,{path:"/",element:j.jsx(Pj,{})}),j.jsx(Iu,{path:"/login",element:j.jsx(kj,{})}),j.jsx(Iu,{path:"/admin",element:j.jsx(Uj,{children:j.jsx(Lj,{})})}),j.jsx(Iu,{path:"*",element:j.jsx(Jw,{to:"/",replace:!0})})]})})})}),Cx=document.getElementById("root");if(!Cx)throw new Error("Could not find root element to mount to");const Bj=p2.createRoot(Cx);Bj.render(j.jsx(o2.StrictMode,{children:j.jsx(jj,{})}));
